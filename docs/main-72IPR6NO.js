var j0=Object.defineProperty,U0=Object.defineProperties;var B0=Object.getOwnPropertyDescriptors;var ga=Object.getOwnPropertySymbols,$0=Object.getPrototypeOf,h_=Object.prototype.hasOwnProperty,f_=Object.prototype.propertyIsEnumerable,H0=Reflect.get;var d_=(e,t,n)=>t in e?j0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_=(e,t)=>{for(var n in t||={})h_.call(t,n)&&d_(e,n,t[n]);if(ga)for(var n of ga(t))f_.call(t,n)&&d_(e,n,t[n]);return e},k=(e,t)=>U0(e,B0(t));var _a=(e,t)=>{var n={};for(var r in e)h_.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ga)for(var r of ga(e))t.indexOf(r)<0&&f_.call(e,r)&&(n[r]=e[r]);return n};var Xn=(e,t,n)=>H0($0(e),n,t);var f=(e,t,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(e,t)).next())});var p_=null;var Wu=1,zu=Symbol("SIGNAL");function Q(e){let t=p_;return p_=e,t}var m_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function W0(e){if(!(Yu(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Wu)){if(!e.producerMustRecompute(e)&&!Gu(e)){e.dirty=!1,e.lastCleanEpoch=Wu;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Wu}}function g_(e){return e&&(e.nextProducerIndex=0),Q(e)}function __(e,t){if(Q(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Yu(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)qu(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Gu(e){ya(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(W0(n),r!==n.version))return!0}return!1}function y_(e){if(ya(e),Yu(e))for(let t=0;t<e.producerNode.length;t++)qu(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function qu(e,t){if(z0(e),ya(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)qu(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ya(i),i.producerIndexOfThis[r]=t}}function Yu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ya(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function z0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function G0(){throw new Error}var q0=G0;function v_(e){q0=e}function P(e){return typeof e=="function"}function Zr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var va=Zr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function er(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ue=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(o){t=o instanceof va?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{w_(o)}catch(s){t=t??[],s instanceof va?t=[...t,...s.errors]:t.push(s)}}if(t)throw new va(t)}}add(t){var n;if(t&&t!==this)if(this.closed)w_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&er(n,t)}remove(t){let{_finalizers:n}=this;n&&er(n,t),t instanceof e&&t._removeParent(this)}};ue.EMPTY=(()=>{let e=new ue;return e.closed=!0,e})();var Ku=ue.EMPTY;function wa(e){return e instanceof ue||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function w_(e){P(e)?e():e.unsubscribe()}var Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Jr={setTimeout(e,t,...n){let{delegate:r}=Jr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Jr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ia(e){Jr.setTimeout(()=>{let{onUnhandledError:t}=Dt;if(t)t(e);else throw e})}function bo(){}var I_=Qu("C",void 0,void 0);function b_(e){return Qu("E",void 0,e)}function C_(e){return Qu("N",e,void 0)}function Qu(e,t,n){return{kind:e,value:t,error:n}}var tr=null;function Xr(e){if(Dt.useDeprecatedSynchronousErrorHandling){let t=!tr;if(t&&(tr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=tr;if(tr=null,n)throw r}}else e()}function E_(e){Dt.useDeprecatedSynchronousErrorHandling&&tr&&(tr.errorThrown=!0,tr.error=e)}var nr=class extends ue{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,wa(t)&&t.add(this)):this.destination=Q0}static create(t,n,r){return new ei(t,n,r)}next(t){this.isStopped?Ju(C_(t),this):this._next(t)}error(t){this.isStopped?Ju(b_(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ju(I_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Y0=Function.prototype.bind;function Zu(e,t){return Y0.call(e,t)}var Xu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ba(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ba(r)}else ba(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ba(n)}}},ei=class extends nr{constructor(t,n,r){super();let i;if(P(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Dt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Zu(t.next,o),error:t.error&&Zu(t.error,o),complete:t.complete&&Zu(t.complete,o)}):i=t}this.destination=new Xu(i)}};function ba(e){Dt.useDeprecatedSynchronousErrorHandling?E_(e):Ia(e)}function K0(e){throw e}function Ju(e,t){let{onStoppedNotification:n}=Dt;n&&Jr.setTimeout(()=>n(e,t))}var Q0={closed:!0,next:bo,error:K0,complete:bo};var ti=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tt(e){return e}function ed(...e){return td(e)}function td(e){return e.length===0?tt:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var G=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=J0(n)?n:new ei(n,r,i);return Xr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=D_(r),new r((i,o)=>{let s=new ei({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ti](){return this}pipe(...n){return td(n)(this)}toPromise(n){return n=D_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function D_(e){var t;return(t=e??Dt.Promise)!==null&&t!==void 0?t:Promise}function Z0(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}function J0(e){return e&&e instanceof nr||Z0(e)&&wa(e)}function nd(e){return P(e?.lift)}function W(e){return t=>{if(nd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(e,t,n,r,i){return new rd(e,t,n,r,i)}var rd=class extends nr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ni(){return W((e,t)=>{let n=null;e._refCount++;let r=V(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var ri=class extends G{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,nd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ue;let n=this.getSubject();t.add(this.source.subscribe(V(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ue.EMPTY)}return t}refCount(){return ni()(this)}};var T_=Zr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Me=(()=>{class e extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ca(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new T_}next(n){Xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Xr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ku:(this.currentObservers=null,o.push(n),new ue(()=>{this.currentObservers=null,er(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return e.create=(t,n)=>new Ca(t,n),e})(),Ca=class extends Me{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Ku}};var Ae=class extends Me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var id={now(){return(id.delegate||Date).now()},delegate:void 0};var Ea=class extends ue{constructor(t,n){super()}schedule(t,n=0){return this}};var Co={setInterval(e,t,...n){let{delegate:r}=Co;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Co;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Da=class extends Ea{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Co.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Co.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,er(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var ii=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};ii.now=id.now;var Ta=class extends ii{constructor(t,n=ii.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var S_=new Ta(Da);var nt=new G(e=>e.complete());function M_(e){return e&&P(e.schedule)}function A_(e){return e[e.length-1]}function Sa(e){return P(A_(e))?e.pop():void 0}function vn(e){return M_(A_(e))?e.pop():void 0}function R_(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function N_(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rr(e){return this instanceof rr?(this.v=e,this):new rr(e)}function x_(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(m){return Promise.resolve(m).then(p,d)}}function a(p,m){r[p]&&(i[p]=function(g){return new Promise(function(w,D){o.push([p,g,w,D])>1||c(p,g)})},m&&(i[p]=m(i[p])))}function c(p,m){try{l(r[p](m))}catch(g){h(o[0][3],g)}}function l(p){p.value instanceof rr?Promise.resolve(p.value.v).then(u,d):h(o[0][2],p)}function u(p){c("next",p)}function d(p){c("throw",p)}function h(p,m){p(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}function O_(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof N_=="function"?N_(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){s=e[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ma=e=>e&&typeof e.length=="number"&&typeof e!="function";function Aa(e){return P(e?.then)}function Na(e){return P(e[ti])}function Ra(e){return Symbol.asyncIterator&&P(e?.[Symbol.asyncIterator])}function xa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function X0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oa=X0();function Pa(e){return P(e?.[Oa])}function ka(e){return x_(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield rr(n.read());if(i)return yield rr(void 0);yield yield rr(r)}}finally{n.releaseLock()}})}function Fa(e){return P(e?.getReader)}function he(e){if(e instanceof G)return e;if(e!=null){if(Na(e))return eT(e);if(Ma(e))return tT(e);if(Aa(e))return nT(e);if(Ra(e))return P_(e);if(Pa(e))return rT(e);if(Fa(e))return iT(e)}throw xa(e)}function eT(e){return new G(t=>{let n=e[ti]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tT(e){return new G(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function nT(e){return new G(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ia)})}function rT(e){return new G(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function P_(e){return new G(t=>{oT(e,t).catch(n=>t.error(n))})}function iT(e){return P_(ka(e))}function oT(e,t){var n,r,i,o;return R_(this,void 0,void 0,function*(){try{for(n=O_(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ye(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function La(e,t=0){return W((n,r)=>{n.subscribe(V(r,i=>Ye(r,e,()=>r.next(i),t),()=>Ye(r,e,()=>r.complete(),t),i=>Ye(r,e,()=>r.error(i),t)))})}function Va(e,t=0){return W((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function k_(e,t){return he(e).pipe(Va(t),La(t))}function F_(e,t){return he(e).pipe(Va(t),La(t))}function L_(e,t){return new G(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function V_(e,t){return new G(n=>{let r;return Ye(n,t,()=>{r=e[Oa](),Ye(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function ja(e,t){if(!e)throw new Error("Iterable cannot be null");return new G(n=>{Ye(n,t,()=>{let r=e[Symbol.asyncIterator]();Ye(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function j_(e,t){return ja(ka(e),t)}function U_(e,t){if(e!=null){if(Na(e))return k_(e,t);if(Ma(e))return L_(e,t);if(Aa(e))return F_(e,t);if(Ra(e))return ja(e,t);if(Pa(e))return V_(e,t);if(Fa(e))return j_(e,t)}throw xa(e)}function se(e,t){return t?U_(e,t):he(e)}function R(...e){let t=vn(e);return se(e,t)}function oi(e,t){let n=P(e)?e:()=>e,r=i=>i.error(n());return new G(t?i=>t.schedule(r,0,i):r)}function od(e){return!!e&&(e instanceof G||P(e.lift)&&P(e.subscribe))}var Tt=Zr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function sd(e,t){let n=typeof t=="object";return new Promise((r,i)=>{let o=!1,s;e.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):n?r(t.defaultValue):i(new Tt)}})})}function O(e,t){return W((n,r)=>{let i=0;n.subscribe(V(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:sT}=Array;function aT(e,t){return sT(t)?e(...t):e(t)}function Ua(e){return O(t=>aT(e,t))}var{isArray:cT}=Array,{getPrototypeOf:lT,prototype:uT,keys:dT}=Object;function Ba(e){if(e.length===1){let t=e[0];if(cT(t))return{args:t,keys:null};if(hT(t)){let n=dT(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function hT(e){return e&&typeof e=="object"&&lT(e)===uT}function $a(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function si(...e){let t=vn(e),n=Sa(e),{args:r,keys:i}=Ba(e);if(r.length===0)return se([],t);let o=new G(fT(r,t,i?s=>$a(i,s):tt));return n?o.pipe(Ua(n)):o}function fT(e,t,n=tt){return r=>{B_(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)B_(t,()=>{let l=se(e[c],t),u=!1;l.subscribe(V(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function B_(e,t,n){e?Ye(n,e,t):t()}function $_(e,t,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&t.complete()},p=g=>l<r?m(g):c.push(g),m=g=>{o&&t.next(g),l++;let w=!1;he(n(g,u++)).subscribe(V(t,D=>{i?.(D),o?p(D):t.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(l--;c.length&&l<r;){let D=c.shift();s?Ye(t,s,()=>m(D)):m(D)}h()}catch(D){t.error(D)}}))};return e.subscribe(V(t,p,()=>{d=!0,h()})),()=>{a?.()}}function ge(e,t,n=1/0){return P(t)?ge((r,i)=>O((o,s)=>t(r,o,i,s))(he(e(r,i))),n):(typeof t=="number"&&(n=t),W((r,i)=>$_(r,i,e,n)))}function ad(e=1/0){return ge(tt,e)}function H_(){return ad(1)}function wn(...e){return H_()(se(e,vn(e)))}function Ha(e){return new G(t=>{he(e()).subscribe(t)})}function cd(...e){let t=Sa(e),{args:n,keys:r}=Ba(e),i=new G(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;he(n[u]).subscribe(V(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?$a(r,a):a),o.complete())}))}});return t?i.pipe(Ua(t)):i}function je(e,t){return W((n,r)=>{let i=0;n.subscribe(V(r,o=>e.call(t,o,i++)&&r.next(o)))})}function In(e){return W((t,n)=>{let r=null,i=!1,o;r=t.subscribe(V(n,void 0,void 0,s=>{o=he(e(s,In(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function W_(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(V(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function bn(e,t){return P(t)?ge(e,t,1):ge(e,1)}function ld(e,t=S_){return W((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=s+e,u=t.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(V(r,l=>{o=l,s=t.now(),i||(i=t.schedule(c,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Cn(e){return W((t,n)=>{let r=!1;t.subscribe(V(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function St(e){return e<=0?()=>nt:W((t,n)=>{let r=0;t.subscribe(V(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ud(e){return O(()=>e)}function Wa(e=pT){return W((t,n)=>{let r=!1;t.subscribe(V(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function pT(){return new Tt}function En(e){return W((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Lt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?je((i,o)=>e(i,o,r)):tt,St(1),n?Cn(t):Wa(()=>new Tt))}function ai(e){return e<=0?()=>nt:W((t,n)=>{let r=[];t.subscribe(V(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function dd(e,t){let n=arguments.length>=2;return r=>r.pipe(e?je((i,o)=>e(i,o,r)):tt,ai(1),n?Cn(t):Wa(()=>new Tt))}function hd(e,t){return W(W_(e,t,arguments.length>=2,!0))}function fd(e){return je((t,n)=>e<=n)}function Eo(...e){let t=vn(e);return W((n,r)=>{(t?wn(e,n,t):wn(e,n)).subscribe(r)})}function rt(e,t){return W((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(V(r,c=>{i?.unsubscribe();let l=0,u=o++;he(e(c,u)).subscribe(i=V(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Do(e){return W((t,n)=>{he(e).subscribe(V(n,()=>n.complete(),bo)),!n.closed&&t.subscribe(n)})}function ve(e,t,n){let r=P(e)||t||n?{next:e,error:t,complete:n}:e;return r?W((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(V(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tt}var My="https://g.co/ng/security#xss",S=class extends Error{constructor(t,n){super(yc(t,n)),this.code=t}};function yc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Uo(e){return{toString:e}.toString()}var za="__parameters__";function mT(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function Ay(e,t,n){return Uo(()=>{let r=mT(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(za)?c[za]:Object.defineProperty(c,za,{value:[]})[za];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var To=globalThis;function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function gT(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Be(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Be).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function z_(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var _T=te({__forward_ref__:te});function fr(e){return e.__forward_ref__=fr,e.toString=function(){return Be(this())},e}function Ue(e){return Ny(e)?e():e}function Ny(e){return typeof e=="function"&&e.hasOwnProperty(_T)&&e.__forward_ref__===fr}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ie(e){return{providers:e.providers||[],imports:e.imports||[]}}function vc(e){return G_(e,xy)||G_(e,Oy)}function Ry(e){return vc(e)!==null}function G_(e,t){return e.hasOwnProperty(t)?e[t]:null}function yT(e){let t=e&&(e[xy]||e[Oy]);return t||null}function q_(e){return e&&(e.hasOwnProperty(Y_)||e.hasOwnProperty(vT))?e[Y_]:null}var xy=te({\u0275prov:te}),Y_=te({\u0275inj:te}),Oy=te({ngInjectableDef:te}),vT=te({ngInjectorDef:te}),T=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Py(e){return e&&!!e.\u0275providers}var wT=te({\u0275cmp:te}),IT=te({\u0275dir:te}),bT=te({\u0275pipe:te}),CT=te({\u0275mod:te}),Xa=te({\u0275fac:te}),So=te({__NG_ELEMENT_ID__:te}),K_=te({__NG_ENV_ID__:te});function wc(e){return typeof e=="string"?e:e==null?"":String(e)}function ET(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():wc(e)}function DT(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new S(-200,e)}function ph(e,t){throw new S(-201,!1)}var j=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(j||{}),Ad;function ky(){return Ad}function ft(e){let t=Ad;return Ad=e,t}function Fy(e,t,n){let r=vc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&j.Optional)return null;if(t!==void 0)return t;ph(e,"Injector")}var TT={},Mo=TT,Nd="__NG_DI_FLAG__",ec="ngTempTokenPath",ST="ngTokenPath",MT=/\n/gm,AT="\u0275",Q_="__source",di;function NT(){return di}function Dn(e){let t=di;return di=e,t}function RT(e,t=j.Default){if(di===void 0)throw new S(-203,!1);return di===null?Fy(e,void 0,t):di.get(e,t&j.Optional?null:void 0,t)}function C(e,t=j.Default){return(ky()||RT)(Ue(e),t)}function v(e,t=j.Default){return C(e,Ic(t))}function Ic(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Rd(e){let t=[];for(let n=0;n<e.length;n++){let r=Ue(e[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let i,o=j.Default;for(let s=0;s<r.length;s++){let a=r[s],c=xT(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}t.push(C(i,o))}else t.push(C(r))}return t}function Ly(e,t){return e[Nd]=t,e.prototype[Nd]=t,e}function xT(e){return e[Nd]}function OT(e,t,n,r){let i=e[ec];throw t[Q_]&&i.unshift(t[Q_]),e.message=PT(`
`+e.message,i,n,r),e[ST]=i,e[ec]=null,e}function PT(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==AT?e.slice(2):e;let i=Be(t);if(Array.isArray(t))i=t.map(Be).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Be(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(MT,`
  `)}`}var mh=Ly(Ay("Optional"),8);var Vy=Ly(Ay("SkipSelf"),4);function fi(e,t){let n=e.hasOwnProperty(Xa);return n?e[Xa]:null}function gh(e,t){e.forEach(n=>Array.isArray(n)?gh(n,t):t(n))}function jy(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function tc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function kT(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function FT(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function LT(e,t,n){let r=Bo(e,t);return r>=0?e[r|1]=n:(r=~r,FT(e,r,t,n)),r}function pd(e,t){let n=Bo(e,t);if(n>=0)return e[n|1]}function Bo(e,t){return VT(e,t,1)}function VT(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var pi={},pt=[],mi=new T(""),Uy=new T("",-1),By=new T(""),nc=class{get(t,n=Mo){if(n===Mo){let r=new Error(`NullInjectorError: No provider for ${Be(t)}!`);throw r.name="NullInjectorError",r}return n}},$y=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}($y||{}),Ut=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Ut||{}),$e=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}($e||{});function jT(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function xd(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];BT(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function UT(e){return e===3||e===4||e===6}function BT(e){return e.charCodeAt(0)===64}function Ao(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Z_(e,n,i,null,t[++r]):Z_(e,n,i,null,null))}}return e}function Z_(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Hy="ng-template";function $T(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&jT(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(_h(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function _h(e){return e.type===4&&e.value!==Hy}function HT(e,t,n){let r=e.type===4&&!n?Hy:e.value;return t===r}function WT(e,t,n){let r=4,i=e.attrs,o=i!==null?qT(i):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!Mt(r)&&!Mt(c))return!1;if(s&&Mt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!HT(e,c,n)||c===""&&t.length===1){if(Mt(r))return!1;s=!0}}else if(r&8){if(i===null||!$T(e,i,c,n)){if(Mt(r))return!1;s=!0}}else{let l=t[++a],u=zT(c,i,_h(e),n);if(u===-1){if(Mt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Mt(r))return!1;s=!0}}}}return Mt(r)||s}function Mt(e){return(e&1)===0}function zT(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return YT(t,e)}function Wy(e,t,n=!1){for(let r=0;r<t.length;r++)if(WT(e,t[r],n))return!0;return!1}function GT(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function qT(e){for(let t=0;t<e.length;t++){let n=e[t];if(UT(n))return t}return e.length}function YT(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function KT(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function J_(e,t){return e?":not("+t.trim()+")":t}function QT(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Mt(s)&&(t+=J_(o,i),i=""),r=s,o=o||!Mt(r);n++}return i!==""&&(t+=J_(o,i)),t}function ZT(e){return e.map(QT).join(",")}function JT(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Mt(i))break;i=o}r++}return{attrs:t,classes:n}}function Ne(e){return Uo(()=>{let t=Ky(e),n=k(_({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ut.Emulated,styles:e.styles||pt,_:null,schemas:e.schemas||null,tView:null,id:""});Qy(n);let r=e.dependencies;return n.directiveDefs=ey(r,!1),n.pipeDefs=ey(r,!0),n.id=tS(n),n})}function XT(e){return sr(e)||zy(e)}function eS(e){return e!==null}function be(e){return Uo(()=>({type:e.type,bootstrap:e.bootstrap||pt,declarations:e.declarations||pt,imports:e.imports||pt,exports:e.exports||pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function X_(e,t){if(e==null)return pi;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a=$e.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==$e.None?[r,a]:r,t[o]=s):n[o]=r}return n}function ae(e){return Uo(()=>{let t=Ky(e);return Qy(t),t})}function sr(e){return e[wT]||null}function zy(e){return e[IT]||null}function Gy(e){return e[bT]||null}function qy(e){let t=sr(e)||zy(e)||Gy(e);return t!==null?t.standalone:!1}function Yy(e,t){let n=e[CT]||null;if(!n&&t===!0)throw new Error(`Type ${Be(e)} does not have '\u0275mod' property.`);return n}function Ky(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||pi,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||pt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X_(e.inputs,t),outputs:X_(e.outputs),debugInfo:null}}function Qy(e){e.features?.forEach(t=>t(e))}function ey(e,t){if(!e)return null;let n=t?Gy:XT;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(eS)}function tS(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function bi(e){return{\u0275providers:e}}function yh(...e){return{\u0275providers:Zy(!0,e),\u0275fromNgModule:!0}}function Zy(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return gh(t,s=>{let a=s;Od(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Jy(i,o),n}function Jy(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];vh(i,o=>{t(o,r)})}}function Od(e,t,n,r){if(e=Ue(e),!e)return!1;let i=null,o=q_(e),s=!o&&sr(e);if(!o&&!s){let c=e.ngModule;if(o=q_(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Od(l,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{gh(o.imports,u=>{Od(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Jy(l,t)}if(!a){let l=fi(i)||(()=>new i);t({provide:i,useFactory:l,deps:pt},i),t({provide:By,useValue:i,multi:!0},i),t({provide:mi,useValue:()=>C(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=e;vh(c,u=>{t(u,l)})}}else return!1;return i!==e&&e.providers!==void 0}function vh(e,t){for(let n of e)Py(n)&&(n=n.\u0275providers),Array.isArray(n)?vh(n,t):t(n)}var nS=te({provide:String,useValue:te});function Xy(e){return e!==null&&typeof e=="object"&&nS in e}function rS(e){return!!(e&&e.useExisting)}function iS(e){return!!(e&&e.useFactory)}function gi(e){return typeof e=="function"}function oS(e){return!!e.useClass}var bc=new T(""),Ya={},sS={},md;function wh(){return md===void 0&&(md=new nc),md}var Ke=class{},No=class extends Ke{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kd(t,s=>this.processProvider(s)),this.records.set(Uy,ci(void 0,this)),i.has("environment")&&this.records.set(Ke,ci(void 0,this));let o=this.records.get(bc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(By,pt,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Dn(this),r=ft(void 0),i;try{return t()}finally{Dn(n),ft(r)}}get(t,n=Mo,r=j.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(K_))return t[K_](this);r=Ic(r);let i,o=Dn(this),s=ft(void 0);try{if(!(r&j.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=dS(t)&&vc(t);l&&this.injectableDefInScope(l)?c=ci(Pd(t),Ya):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&j.Self?wh():this.parent;return n=r&j.Optional&&n===Mo?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ec]=a[ec]||[]).unshift(Be(t)),o)throw a;return OT(a,t,"R3InjectorError",this.source)}else throw a}finally{ft(s),Dn(o)}}resolveInjectorInitializers(){let t=Q(null),n=Dn(this),r=ft(void 0),i;try{let o=this.get(mi,pt,j.Self);for(let s of o)s()}finally{Dn(n),ft(r),Q(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Be(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(t){t=Ue(t);let n=gi(t)?t:Ue(t&&t.provide),r=cS(t);if(!gi(t)&&t.multi===!0){let i=this.records.get(n);i||(i=ci(void 0,Ya,!0),i.factory=()=>Rd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Q(null);try{return n.value===Ya&&(n.value=sS,n.value=n.factory()),typeof n.value=="object"&&n.value&&uS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ue(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Pd(e){let t=vc(e),n=t!==null?t.factory:fi(e);if(n!==null)return n;if(e instanceof T)throw new S(204,!1);if(e instanceof Function)return aS(e);throw new S(204,!1)}function aS(e){if(e.length>0)throw new S(204,!1);let n=yT(e);return n!==null?()=>n.factory(e):()=>new e}function cS(e){if(Xy(e))return ci(void 0,e.useValue);{let t=ev(e);return ci(t,Ya)}}function ev(e,t,n){let r;if(gi(e)){let i=Ue(e);return fi(i)||Pd(i)}else if(Xy(e))r=()=>Ue(e.useValue);else if(iS(e))r=()=>e.useFactory(...Rd(e.deps||[]));else if(rS(e))r=()=>C(Ue(e.useExisting));else{let i=Ue(e&&(e.useClass||e.provide));if(lS(e))r=()=>new i(...Rd(e.deps));else return fi(i)||Pd(i)}return r}function ci(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function lS(e){return!!e.deps}function uS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function dS(e){return typeof e=="function"||typeof e=="object"&&e instanceof T}function kd(e,t){for(let n of e)Array.isArray(n)?kd(n,t):n&&Py(n)?kd(n.\u0275providers,t):t(n)}function sn(e,t){e instanceof No&&e.assertNotDestroyed();let n,r=Dn(e),i=ft(void 0);try{return t()}finally{Dn(r),ft(i)}}function hS(){return ky()!==void 0||NT()!=null}function fS(e){return typeof e=="function"}var an=0,q=1,N=2,Fe=3,At=4,it=5,Ro=6,xo=7,Nt=8,_i=9,Rt=10,de=11,Oo=12,ty=13,Ci=14,xt=15,Cc=16,li=17,yi=18,Ec=19,tv=20,Tn=21,gd=22,ar=23,Bt=25,nv=1;var cr=7,rc=8,ic=9,mt=10,Ih=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ih||{});function ir(e){return Array.isArray(e)&&typeof e[nv]=="object"}function cn(e){return Array.isArray(e)&&e[nv]===!0}function bh(e){return(e.flags&4)!==0}function Dc(e){return e.componentOffset>-1}function Tc(e){return(e.flags&1)===1}function Sn(e){return!!e.template}function pS(e){return(e[N]&512)!==0}var Fd=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rv(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function Nn(){return iv}function iv(e){return e.type.prototype.ngOnChanges&&(e.setInput=gS),mS}Nn.ngInherit=!0;function mS(){let e=sv(this),t=e?.current;if(t){let n=e.previous;if(n===pi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function gS(e,t,n,r,i){let o=this.declaredInputs[r],s=sv(e)||_S(e,{previous:pi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Fd(l&&l.currentValue,n,c===pi),rv(e,t,i,n)}var ov="__ngSimpleChanges__";function sv(e){return e[ov]||null}function _S(e,t){return e[ov]=t}var ny=null;var Vt=function(e,t,n){ny?.(e,t,n)},yS="svg",vS="math",wS=!1;function IS(){return wS}function $t(e){for(;Array.isArray(e);)e=e[an];return e}function av(e,t){return $t(t[e])}function gt(e,t){return $t(t[e.index])}function cv(e,t){return e.data[t]}function Rn(e,t){let n=t[e];return ir(n)?n:n[an]}function Ch(e){return(e[N]&128)===128}function bS(e){return cn(e[Fe])}function vi(e,t){return t==null?null:e[t]}function lv(e){e[li]=0}function CS(e){e[N]&1024||(e[N]|=1024,Ch(e)&&Po(e))}function ES(e,t){for(;e>0;)t=t[Ci],e--;return t}function Eh(e){return!!(e[N]&9216||e[ar]?.dirty)}function Ld(e){e[Rt].changeDetectionScheduler?.notify(1),Eh(e)?Po(e):e[N]&64&&(IS()?(e[N]|=1024,Po(e)):e[Rt].changeDetectionScheduler?.notify())}function Po(e){e[Rt].changeDetectionScheduler?.notify();let t=ko(e);for(;t!==null&&!(t[N]&8192||(t[N]|=8192,!Ch(t)));)t=ko(t)}function uv(e,t){if((e[N]&256)===256)throw new S(911,!1);e[Tn]===null&&(e[Tn]=[]),e[Tn].push(t)}function DS(e,t){if(e[Tn]===null)return;let n=e[Tn].indexOf(t);n!==-1&&e[Tn].splice(n,1)}function ko(e){let t=e[Fe];return cn(t)?t[Fe]:t}var z={lFrame:_v(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function TS(){return z.lFrame.elementDepthCount}function SS(){z.lFrame.elementDepthCount++}function MS(){z.lFrame.elementDepthCount--}function dv(){return z.bindingsEnabled}function hv(){return z.skipHydrationRootTNode!==null}function AS(e){return z.skipHydrationRootTNode===e}function NS(){z.skipHydrationRootTNode=null}function ee(){return z.lFrame.lView}function Le(){return z.lFrame.tView}function Ce(e){return z.lFrame.contextLView=e,e[Nt]}function Ee(e){return z.lFrame.contextLView=null,e}function Qe(){let e=fv();for(;e!==null&&e.type===64;)e=e.parent;return e}function fv(){return z.lFrame.currentTNode}function RS(){let e=z.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function pr(e,t){let n=z.lFrame;n.currentTNode=e,n.isParent=t}function Dh(){return z.lFrame.isParent}function Th(){z.lFrame.isParent=!1}function xS(e){return z.lFrame.bindingIndex=e}function Sc(){return z.lFrame.bindingIndex++}function OS(e){let t=z.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function PS(){return z.lFrame.inI18n}function kS(e,t){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=e,Vd(t)}function FS(){return z.lFrame.currentDirectiveIndex}function Vd(e){z.lFrame.currentDirectiveIndex=e}function LS(e){let t=z.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function pv(e){z.lFrame.currentQueryIndex=e}function VS(e){let t=e[q];return t.type===2?t.declTNode:t.type===1?e[it]:null}function mv(e,t,n){if(n&j.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&j.Host);)if(i=VS(o),i===null||(o=o[Ci],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=z.lFrame=gv();return r.currentTNode=t,r.lView=e,!0}function Sh(e){let t=gv(),n=e[q];z.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gv(){let e=z.lFrame,t=e===null?null:e.child;return t===null?_v(e):t}function _v(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function yv(){let e=z.lFrame;return z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var vv=yv;function Mh(){let e=yv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jS(e){return(z.lFrame.contextLView=ES(e,z.lFrame.contextLView))[Nt]}function Ei(){return z.lFrame.selectedIndex}function lr(e){z.lFrame.selectedIndex=e}function Ah(){let e=z.lFrame;return cv(e.tView,e.selectedIndex)}function US(){return z.lFrame.currentNamespace}var wv=!0;function Mc(){return wv}function Ac(e){wv=e}function BS(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=iv(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Nc(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Ka(e,t,n){Iv(e,t,3,n)}function Qa(e,t,n,r){(e[N]&3)===n&&Iv(e,t,n,r)}function _d(e,t){let n=e[N];(n&3)===t&&(n&=16383,n+=1,e[N]=n)}function Iv(e,t,n,r){let i=r!==void 0?e[li]&65535:0,o=r??-1,s=t.length-1,a=0;for(let c=i;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[li]+=65536),(a<o||o==-1)&&($S(e,n,t,c),e[li]=(e[li]&4294901760)+c+2),c++}function ry(e,t){Vt(4,e,t);let n=Q(null);try{t.call(e)}finally{Q(n),Vt(5,e,t)}}function $S(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[N]>>14<e[li]>>16&&(e[N]&3)===t&&(e[N]+=16384,ry(a,o)):ry(a,o)}var hi=-1,ur=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function HS(e){return e instanceof ur}function WS(e){return(e.flags&8)!==0}function zS(e){return(e.flags&16)!==0}function bv(e){return e!==hi}function oc(e){return e&32767}function GS(e){return e>>16}function sc(e,t){let n=GS(e),r=t;for(;n>0;)r=r[Ci],n--;return r}var jd=!0;function iy(e){let t=jd;return jd=e,t}var qS=256,Cv=qS-1,Ev=5,YS=0,jt={};function KS(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(So)&&(r=n[So]),r==null&&(r=n[So]=YS++);let i=r&Cv,o=1<<i;t.data[e+(i>>Ev)]|=o}function ac(e,t){let n=Dv(e,t);if(n!==-1)return n;let r=t[q];r.firstCreatePass&&(e.injectorIndex=t.length,yd(r.data,e),yd(t,null),yd(r.blueprint,null));let i=Nh(e,t),o=e.injectorIndex;if(bv(i)){let s=oc(i),a=sc(i,t),c=a[q].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function yd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Dv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Nh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=Nv(i),r===null)return hi;if(n++,i=i[Ci],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return hi}function Ud(e,t,n){KS(e,t,n)}function Tv(e,t,n){if(n&j.Optional||e!==void 0)return e;ph(t,"NodeInjector")}function Sv(e,t,n,r){if(n&j.Optional&&r===void 0&&(r=null),!(n&(j.Self|j.Host))){let i=e[_i],o=ft(void 0);try{return i?i.get(t,r,n&j.Optional):Fy(t,r,n&j.Optional)}finally{ft(o)}}return Tv(r,t,n)}function Mv(e,t,n,r=j.Default,i){if(e!==null){if(t[N]&2048&&!(r&j.Self)){let s=eM(e,t,n,r,jt);if(s!==jt)return s}let o=Av(e,t,n,r,jt);if(o!==jt)return o}return Sv(t,n,r,i)}function Av(e,t,n,r,i){let o=JS(n);if(typeof o=="function"){if(!mv(t,e,r))return r&j.Host?Tv(i,n,r):Sv(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&j.Optional))ph(n);else return s}finally{vv()}}else if(typeof o=="number"){let s=null,a=Dv(e,t),c=hi,l=r&j.Host?t[xt][it]:null;for((a===-1||r&j.SkipSelf)&&(c=a===-1?Nh(e,t):t[a+8],c===hi||!sy(r,!1)?a=-1:(s=t[q],a=oc(c),t=sc(c,t)));a!==-1;){let u=t[q];if(oy(o,a,u.data)){let d=QS(a,t,n,s,r,l);if(d!==jt)return d}c=t[a+8],c!==hi&&sy(r,t[q].data[a+8]===l)&&oy(o,a,t)?(s=u,a=oc(c),t=sc(c,t)):a=-1}}return i}function QS(e,t,n,r,i,o){let s=t[q],a=s.data[e+8],c=r==null?Dc(a)&&jd:r!=s&&(a.type&3)!==0,l=i&j.Host&&o===a,u=ZS(a,s,n,c,l);return u!==null?wi(t,s,u,a):jt}function ZS(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,c=e.directiveStart,l=e.directiveEnd,u=o>>20,d=r?a:a+u,h=i?a+u:l;for(let p=d;p<h;p++){let m=s[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(i){let p=s[c];if(p&&Sn(p)&&p.type===n)return c}return null}function wi(e,t,n,r){let i=e[n],o=t.data;if(HS(i)){let s=i;s.resolving&&DT(ET(o[n]));let a=iy(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ft(s.injectImpl):null,u=mv(e,r,j.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&BS(n,o[n],t)}finally{l!==null&&ft(l),iy(a),s.resolving=!1,vv()}}return i}function JS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(So)?e[So]:void 0;return typeof t=="number"?t>=0?t&Cv:XS:t}function oy(e,t,n){let r=1<<e;return!!(n[t+(e>>Ev)]&r)}function sy(e,t){return!(e&j.Self)&&!(e&j.Host&&t)}var or=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Mv(this._tNode,this._lView,t,Ic(r),n)}};function XS(){return new or(Qe(),ee())}function Di(e){return Uo(()=>{let t=e.prototype.constructor,n=t[Xa]||Bd(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Xa]||Bd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Bd(e){return Ny(e)?()=>{let t=Bd(Ue(e));return t&&t()}:fi(e)}function eM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[N]&2048&&!(s[N]&512);){let a=Av(o,s,n,r|j.Self,jt);if(a!==jt)return a;let c=o.parent;if(!c){let l=s[tv];if(l){let u=l.get(n,jt,r);if(u!==jt)return u}c=Nv(s),s=s[Ci]}o=c}return i}function Nv(e){let t=e[q],n=t.type;return n===2?t.declTNode:n===1?e[it]:null}function ay(e,t=null,n=null,r){let i=Rv(e,t,n,r);return i.resolveInjectorInitializers(),i}function Rv(e,t=null,n=null,r,i=new Set){let o=[n||pt,yh(e)];return r=r||(typeof e=="object"?void 0:Be(e)),new No(o,t||wh(),r||null,i)}var Ti=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Mo}static{this.NULL=new nc}static create(n,r){if(Array.isArray(n))return ay({name:""},r,n,"");{let i=n.name??"";return ay({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=E({token:e,providedIn:"any",factory:()=>C(Uy)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var tM="ngOriginalError";function vd(e){return e[tM]}var rn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&vd(t);for(;n&&vd(n);)n=vd(n);return n||null}},xv=new T("",{providedIn:"root",factory:()=>v(rn).handleError.bind(void 0)}),Ov=(()=>{class e{static{this.__NG_ELEMENT_ID__=nM}static{this.__NG_ENV_ID__=n=>n}}return e})(),$d=class extends Ov{constructor(t){super(),this._lView=t}onDestroy(t){return uv(this._lView,t),()=>DS(this._lView,t)}};function nM(){return new $d(ee())}function rM(){return Rc(Qe(),ee())}function Rc(e,t){return new _t(gt(e,t))}var _t=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=rM}}return e})();var Hd=class extends Me{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,hS()&&(this.destroyRef=v(Ov,{optional:!0})??void 0)}emit(t){let n=Q(null);try{super.next(t)}finally{Q(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=wd(o),i&&(i=wd(i)),s&&(s=wd(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ue&&t.add(a),a}};function wd(e){return t=>{setTimeout(e,void 0,t)}}var we=Hd;function Pv(e){return(e.flags&128)===128}var kv=new Map,iM=0;function oM(){return iM++}function sM(e){kv.set(e[Ec],e)}function aM(e){kv.delete(e[Ec])}var cy="__ngContext__";function Mn(e,t){ir(t)?(e[cy]=t[Ec],sM(t)):e[cy]=t}function Fv(e){return Vv(e[Oo])}function Lv(e){return Vv(e[At])}function Vv(e){for(;e!==null&&!cn(e);)e=e[At];return e}var Wd;function jv(e){Wd=e}function cM(){if(Wd!==void 0)return Wd;if(typeof document<"u")return document;throw new S(210,!1)}var xc=new T("",{providedIn:"root",factory:()=>lM}),lM="ng",Rh=new T(""),Ht=new T("",{providedIn:"platform",factory:()=>"unknown"});var $o=new T("",{providedIn:"root",factory:()=>cM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uM="h",dM="b";var hM=()=>null;function xh(e,t,n=!1){return hM(e,t,n)}var Uv=!1,fM=new T("",{providedIn:"root",factory:()=>Uv});var cc=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${My})`}};function Oc(e){return e instanceof cc?e.changingThisBreaksApplicationSecurity:e}function Bv(e,t){let n=pM(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${My})`)}return n===t}function pM(e){return e instanceof cc&&e.getTypeName()||null}var mM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $v(e){return e=String(e),e.match(mM)?e:"unsafe:"+e}var Oh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Oh||{});function Hv(e){let t=gM();return t?t.sanitize(Oh.URL,e)||"":Bv(e,"URL")?Oc(e):$v(wc(e))}function gM(){let e=ee();return e&&e[Rt].sanitizer}var _M=/^>|^->|<!--|-->|--!>|<!-$/g,yM=/(<|>)/g,vM="\u200B$1\u200B";function wM(e){return e.replace(_M,t=>t.replace(yM,vM))}function Wv(e){return e instanceof Function?e():e}var on=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(on||{}),IM;function Ph(e,t){return IM(e,t)}function ui(e,t,n,r,i){if(r!=null){let o,s=!1;cn(r)?o=r:ir(r)&&(s=!0,r=r[an]);let a=$t(r);e===0&&n!==null?i==null?Qv(t,n,a):lc(t,n,a,i||null,!0):e===1&&n!==null?lc(t,n,a,i||null,!0):e===2?LM(t,a,s):e===3&&t.destroyNode(a),o!=null&&jM(t,e,o,n,i)}}function bM(e,t){return e.createText(t)}function CM(e,t,n){e.setValue(t,n)}function EM(e,t){return e.createComment(wM(t))}function zv(e,t,n){return e.createElement(t,n)}function DM(e,t){Gv(e,t),t[an]=null,t[it]=null}function TM(e,t,n,r,i,o){r[an]=i,r[it]=t,kc(e,r,n,1,i,o)}function Gv(e,t){t[Rt].changeDetectionScheduler?.notify(1),kc(e,t,t[de],2,null,null)}function SM(e){let t=e[Oo];if(!t)return Id(e[q],e);for(;t;){let n=null;if(ir(t))n=t[Oo];else{let r=t[mt];r&&(n=r)}if(!n){for(;t&&!t[At]&&t!==e;)ir(t)&&Id(t[q],t),t=t[Fe];t===null&&(t=e),ir(t)&&Id(t[q],t),n=t&&t[At]}t=n}}function MM(e,t,n,r){let i=mt+r,o=n.length;r>0&&(n[i-1][At]=t),r<o-mt?(t[At]=n[i],jy(n,mt+r,t)):(n.push(t),t[At]=null),t[Fe]=n;let s=t[Cc];s!==null&&n!==s&&AM(s,t);let a=t[yi];a!==null&&a.insertView(e),Ld(t),t[N]|=128}function AM(e,t){let n=e[ic],i=t[Fe][Fe][xt];t[xt]!==i&&(e[N]|=Ih.HasTransplantedViews),n===null?e[ic]=[t]:n.push(t)}function qv(e,t){let n=e[ic],r=n.indexOf(t);n.splice(r,1)}function zd(e,t){if(e.length<=mt)return;let n=mt+t,r=e[n];if(r){let i=r[Cc];i!==null&&i!==e&&qv(i,r),t>0&&(e[n-1][At]=r[At]);let o=tc(e,mt+t);DM(r[q],r);let s=o[yi];s!==null&&s.detachView(o[q]),r[Fe]=null,r[At]=null,r[N]&=-129}return r}function Yv(e,t){if(!(t[N]&256)){let n=t[de];n.destroyNode&&kc(e,t,n,3,null,null),SM(t)}}function Id(e,t){if(t[N]&256)return;let n=Q(null);try{t[N]&=-129,t[N]|=256,t[ar]&&y_(t[ar]),RM(e,t),NM(e,t),t[q].type===1&&t[de].destroy();let r=t[Cc];if(r!==null&&cn(t[Fe])){r!==t[Fe]&&qv(r,t);let i=t[yi];i!==null&&i.detachView(e)}aM(t)}finally{Q(n)}}function NM(e,t){let n=e.cleanup,r=t[xo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[xo]=null);let i=t[Tn];if(i!==null){t[Tn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function RM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof ur)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Vt(4,a,c);try{c.call(a)}finally{Vt(5,a,c)}}else{Vt(4,i,o);try{o.call(i)}finally{Vt(5,i,o)}}}}}function Kv(e,t,n){return xM(e,t.parent,n)}function xM(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[an];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===Ut.None||o===Ut.Emulated)return null}return gt(r,n)}}function lc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Qv(e,t,n){e.appendChild(t,n)}function ly(e,t,n,r,i){r!==null?lc(e,t,n,r,i):Qv(e,t,n)}function OM(e,t,n,r){e.removeChild(t,n,r)}function kh(e,t){return e.parentNode(t)}function PM(e,t){return e.nextSibling(t)}function Zv(e,t,n){return FM(e,t,n)}function kM(e,t,n){return e.type&40?gt(e,n):null}var FM=kM,uy;function Pc(e,t,n,r){let i=Kv(e,r,t),o=t[de],s=r.parent||t[it],a=Zv(s,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ly(o,i,n[c],a,!1);else ly(o,i,n,a,!1);uy!==void 0&&uy(o,r,t,n,i)}function Za(e,t){if(t!==null){let n=t.type;if(n&3)return gt(t,e);if(n&4)return Gd(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Za(e,r);{let i=e[t.index];return cn(i)?Gd(-1,i):$t(i)}}else{if(n&32)return Ph(t,e)()||$t(e[t.index]);{let r=Jv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=ko(e[xt]);return Za(i,r)}else return Za(e,t.next)}}}return null}function Jv(e,t){if(t!==null){let r=e[xt][it],i=t.projection;return r.projection[i]}return null}function Gd(e,t){let n=mt+e+1;if(n<t.length){let r=t[n],i=r[q].firstChild;if(i!==null)return Za(r,i)}return t[cr]}function LM(e,t,n){let r=kh(e,t);r&&OM(e,r,t,n)}function Fh(e,t,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Mn($t(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Fh(e,t,n.child,r,i,o,!1),ui(t,e,i,a,o);else if(c&32){let l=Ph(n,r),u;for(;u=l();)ui(t,e,i,u,o);ui(t,e,i,a,o)}else c&16?Xv(e,t,r,n,i,o):ui(t,e,i,a,o);n=s?n.projectionNext:n.next}}function kc(e,t,n,r,i,o){Fh(n,r,e.firstChild,t,i,o,!1)}function VM(e,t,n){let r=t[de],i=Kv(e,n,t),o=n.parent||t[it],s=Zv(o,n,t);Xv(r,0,t,n,i,s)}function Xv(e,t,n,r,i,o){let s=n[xt],c=s[it].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];ui(t,e,i,u,o)}else{let l=c,u=s[Fe];Pv(r)&&(l.flags|=128),Fh(e,t,l,u,i,o,!0)}}function jM(e,t,n,r,i){let o=n[cr],s=$t(n);o!==s&&ui(t,e,r,o,i);for(let a=mt;a<n.length;a++){let c=n[a];kc(c[q],c,e,t,r,o)}}function UM(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:on.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=on.Important),e.setStyle(n,r,i,o))}}function BM(e,t,n){e.setAttribute(t,"style",n)}function ew(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function tw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&xd(e,t,r),i!==null&&ew(e,t,i),o!==null&&BM(e,t,o)}var Si={};function Y(e=1){nw(Le(),ee(),Ei()+e,!1)}function nw(e,t,n,r){if(!r)if((t[N]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Ka(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Qa(t,o,0,n)}lr(n)}function M(e,t=j.Default){let n=ee();if(n===null)return C(e,t);let r=Qe();return Mv(r,n,Ue(e),t)}function rw(e,t,n,r,i,o){let s=Q(null);try{let a=null;i&$e.SignalBased&&(a=t[r][zu]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&$e.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,r):rv(t,a,r,o)}finally{Q(s)}}function $M(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)lr(~i);else{let o=i,s=n[++r],a=n[++r];kS(s,o);let c=t[o];a(2,c)}}}finally{lr(-1)}}function Fc(e,t,n,r,i,o,s,a,c,l,u){let d=t.blueprint.slice();return d[an]=i,d[N]=r|4|128|8|64,(l!==null||e&&e[N]&2048)&&(d[N]|=2048),lv(d),d[Fe]=d[Ci]=e,d[Nt]=n,d[Rt]=s||e&&e[Rt],d[de]=a||e&&e[de],d[_i]=c||e&&e[_i]||null,d[it]=o,d[Ec]=oM(),d[Ro]=u,d[tv]=l,d[xt]=t.type==2?e[xt]:d,d}function Mi(e,t,n,r,i){let o=e.data[t];if(o===null)o=HM(e,t,n,r,i),PS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=RS();o.injectorIndex=s===null?-1:s.injectorIndex}return pr(o,!0),o}function HM(e,t,n,r,i){let o=fv(),s=Dh(),a=s?o:o&&o.parent,c=e.data[t]=YM(e,a,n,t,r,i);return e.firstChild===null&&(e.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function iw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ow(e,t,n,r,i){let o=Ei(),s=r&2;try{lr(-1),s&&t.length>Bt&&nw(e,t,Bt,!1),Vt(s?2:0,i),n(r,i)}finally{lr(o),Vt(s?3:1,i)}}function Lh(e,t,n){if(bh(t)){let r=Q(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Q(r)}}}function Vh(e,t,n){dv()&&(eA(e,t,n,gt(n,t)),(n.flags&64)===64&&lw(e,t,n))}function jh(e,t,n=gt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function sw(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Uh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Uh(e,t,n,r,i,o,s,a,c,l,u){let d=Bt+r,h=d+i,p=WM(d,h),m=typeof l=="function"?l():l;return p[q]={type:e,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function WM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Si);return n}function zM(e,t,n,r){let o=r.get(fM,Uv)||n===Ut.ShadowDom,s=e.selectRootElement(t,o);return GM(s),s}function GM(e){qM(e)}var qM=()=>null;function YM(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return hv()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function dy(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a,c=$e.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}e===0?hy(r,n,l,a,c):hy(r,n,l,a)}return r}function hy(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function KM(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],h=n?n.get(d):null,p=h?h.inputs:null,m=h?h.outputs:null;c=dy(0,d.inputs,u,c,p),l=dy(1,d.outputs,u,l,m);let g=c!==null&&s!==null&&!_h(t)?dA(c,u,s):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function QM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function aw(e,t,n,r,i,o,s,a){let c=gt(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[r])?($h(e,n,u,r,i),Dc(t)&&ZM(n,t.index)):t.type&3?(r=QM(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(c,r,i)):t.type&12}function ZM(e,t){let n=Rn(t,e);n[N]&16||(n[N]|=64)}function Bh(e,t,n,r){if(dv()){let i=r===null?null:{"":-1},o=nA(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&cw(e,t,n,s,i,a),i&&rA(n,r,i)}n.mergedAttrs=Ao(n.mergedAttrs,n.attrs)}function cw(e,t,n,r,i,o){for(let l=0;l<r.length;l++)Ud(ac(n,t),e,r[l].type);oA(n,e.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=iw(e,t,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Ao(n.mergedAttrs,u.hostAttrs),sA(e,n,t,c,u),iA(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}KM(e,n,o)}function JM(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;XM(s)!=a&&s.push(a),s.push(n,r,o)}}function XM(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function eA(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;Dc(n)&&aA(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ac(n,t),Mn(r,t);let s=n.initialInputs;for(let a=i;a<o;a++){let c=e.data[a],l=wi(t,e,a,n);if(Mn(l,t),s!==null&&uA(t,a-i,l,c,n,s),Sn(c)){let u=Rn(n.index,t);u[Nt]=wi(t,e,a,n)}}}function lw(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=FS();try{lr(o);for(let a=r;a<i;a++){let c=e.data[a],l=t[a];Vd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&tA(c,l)}}finally{lr(-1),Vd(s)}}function tA(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function nA(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Wy(t,s.selectors,!1))if(r||(r=[]),Sn(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;qd(e,t,c)}else r.unshift(s),qd(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function qd(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function rA(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new S(-301,!1);r.push(t[i],o)}}}function iA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Sn(t)&&(n[""]=e)}}function oA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function sA(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=fi(i.type,!0)),s=new ur(o,Sn(i),M);e.blueprint[r]=s,n[r]=s,JM(e,t,r,iw(e,n,i.hostVars,Si),i)}function aA(e,t,n){let r=gt(t,e),i=sw(n),o=e[Rt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Lc(e,Fc(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=a}function cA(e,t,n,r,i,o){let s=gt(e,t);lA(t[de],s,o,e.value,n,r,i)}function lA(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?wc(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function uA(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];rw(r,n,c,l,u,d)}}function dA(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function uw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function dw(e,t){let n=e.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];pv(o),a.contentQueries(2,t[s],s)}}}finally{Q(r)}}}function Lc(e,t){return e[Oo]?e[ty][At]=t:e[Oo]=t,e[ty]=t,t}function Yd(e,t,n){pv(0);let r=Q(null);try{t(e,n)}finally{Q(r)}}function hA(e){return e[xo]||(e[xo]=[])}function fA(e){return e.cleanup||(e.cleanup=[])}function hw(e,t){let n=e[_i],r=n?n.get(rn,null):null;r&&r.handleError(t)}function $h(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=t[s],u=e.data[s];rw(u,l,r,a,c,i)}}function pA(e,t,n){let r=av(t,e);CM(e[de],r,n)}function mA(e,t){let n=Rn(t,e),r=n[q];gA(r,n);let i=n[an];i!==null&&n[Ro]===null&&(n[Ro]=xh(i,n[_i])),Hh(r,n,n[Nt])}function gA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Hh(e,t,n){Sh(t);try{let r=e.viewQuery;r!==null&&Yd(1,r,n);let i=e.template;i!==null&&ow(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[yi]?.finishViewCreation(e),e.staticContentQueries&&dw(e,t),e.staticViewQueries&&Yd(2,e.viewQuery,n);let o=e.components;o!==null&&_A(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[N]&=-5,Mh()}}function _A(e,t){for(let n=0;n<t.length;n++)mA(e,t[n])}function yA(e,t,n,r){let i=Q(null);try{let o=t.tView,a=e[N]&4096?4096:16,c=Fc(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Cc]=l;let u=e[yi];return u!==null&&(c[yi]=u.createEmbeddedView(o)),Hh(o,c,n),c}finally{Q(i)}}function fy(e,t){return!t||t.firstChild===null||Pv(e)}function vA(e,t,n,r=!0){let i=t[q];if(MM(i,t,e,n),r){let s=Gd(n,e),a=t[de],c=kh(a,e[cr]);c!==null&&TM(i,e[it],a,t,c,s)}let o=t[Ro];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function uc(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push($t(o)),cn(o)&&wA(o,r);let s=n.type;if(s&8)uc(e,t,n.child,r);else if(s&32){let a=Ph(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=Jv(t,n);if(Array.isArray(a))r.push(...a);else{let c=ko(t[xt]);uc(c[q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function wA(e,t){for(let n=mt;n<e.length;n++){let r=e[n],i=r[q].firstChild;i!==null&&uc(r[q],r,i,t)}e[cr]!==e[an]&&t.push(e[cr])}var fw=[];function IA(e){return e[ar]??bA(e)}function bA(e){let t=fw.pop()??Object.create(EA);return t.lView=e,t}function CA(e){e.lView[ar]!==e&&(e.lView=null,fw.push(e))}var EA=k(_({},m_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Po(e.lView)},consumerOnSignalRead(){this.lView[ar]=this}}),pw=100;function mw(e,t=!0,n=0){let r=e[Rt],i=r.rendererFactory,o=!1;o||i.begin?.();try{DA(e,n)}catch(s){throw t&&hw(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function DA(e,t){Kd(e,t);let n=0;for(;Eh(e);){if(n===pw)throw new S(103,!1);n++,Kd(e,1)}}function TA(e,t,n,r){let i=t[N];if((i&256)===256)return;let o=!1;!o&&t[Rt].inlineEffectRunner?.flush(),Sh(t);let s=null,a=null;!o&&SA(e)&&(a=IA(t),s=g_(a));try{lv(t),xS(e.bindingStartIndex),n!==null&&ow(e,t,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=e.preOrderCheckHooks;d!==null&&Ka(t,d,null)}else{let d=e.preOrderHooks;d!==null&&Qa(t,d,0,null),_d(t,0)}if(MA(t),gw(t,0),e.contentQueries!==null&&dw(e,t),!o)if(c){let d=e.contentCheckHooks;d!==null&&Ka(t,d)}else{let d=e.contentHooks;d!==null&&Qa(t,d,1),_d(t,1)}$M(e,t);let l=e.components;l!==null&&yw(t,l,0);let u=e.viewQuery;if(u!==null&&Yd(2,u,r),!o)if(c){let d=e.viewCheckHooks;d!==null&&Ka(t,d)}else{let d=e.viewHooks;d!==null&&Qa(t,d,2),_d(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[gd]){for(let d of t[gd])d();t[gd]=null}o||(t[N]&=-73)}catch(c){throw Po(t),c}finally{a!==null&&(__(a,s),CA(a)),Mh()}}function SA(e){return e.type!==2}function gw(e,t){for(let n=Fv(e);n!==null;n=Lv(n))for(let r=mt;r<n.length;r++){let i=n[r];_w(i,t)}}function MA(e){for(let t=Fv(e);t!==null;t=Lv(t)){if(!(t[N]&Ih.HasTransplantedViews))continue;let n=t[ic];for(let r=0;r<n.length;r++){let i=n[r],o=i[Fe];CS(i)}}}function AA(e,t,n){let r=Rn(t,e);_w(r,n)}function _w(e,t){Ch(e)&&Kd(e,t)}function Kd(e,t){let r=e[q],i=e[N],o=e[ar],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gu(o)),o&&(o.dirty=!1),e[N]&=-9217,s)TA(r,e,r.template,e[Nt]);else if(i&8192){gw(e,1);let a=r.components;a!==null&&yw(e,a,1)}}function yw(e,t,n){for(let r=0;r<t.length;r++)AA(e,t[r],n)}function Wh(e){for(e[Rt].changeDetectionScheduler?.notify();e;){e[N]|=64;let t=ko(e);if(pS(e)&&!t)return e;e=t}return null}var dr=class{get rootNodes(){let t=this._lView,n=t[q];return uc(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nt]}set context(t){this._lView[Nt]=t}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Fe];if(cn(t)){let n=t[rc],r=n?n.indexOf(this):-1;r>-1&&(zd(t,r),tc(n,r))}this._attachedToViewContainer=!1}Yv(this._lView[q],this._lView)}onDestroy(t){uv(this._lView,t)}markForCheck(){Wh(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){Ld(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,mw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Gv(this._lView[q],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t,Ld(this._lView)}},Vc=(()=>{class e{static{this.__NG_ELEMENT_ID__=xA}}return e})(),NA=Vc,RA=class extends NA{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=yA(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new dr(i)}};function xA(){return OA(Qe(),ee())}function OA(e,t){return e.type&4?new RA(t,e,Rc(e,t)):null}var Oz=new RegExp(`^(\\d+)*(${dM}|${uM})*(.*)`);var PA=()=>null;function py(e,t){return PA(e,t)}var Qd=class{},Zd=class{},dc=class{};function kA(e){let t=Error(`No component factory found for ${Be(e)}.`);return t[FA]=e,t}var FA="ngComponent";var Jd=class{resolveComponentFactory(t){throw kA(t)}},jc=(()=>{class e{static{this.NULL=new Jd}}return e})(),Fo=class{},Ai=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>LA()}}return e})();function LA(){let e=ee(),t=Qe(),n=Rn(t.index,e);return(ir(n)?n:e)[de]}var VA=(()=>{class e{static{this.\u0275prov=E({token:e,providedIn:"root",factory:()=>null})}}return e})(),bd={};var my=new Set;function zh(e){my.has(e)||(my.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function gy(...e){}function jA(){let e=typeof To.requestAnimationFrame=="function",t=To[e?"requestAnimationFrame":"setTimeout"],n=To[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var ne=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=jA().nativeRequestAnimationFrame,$A(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new S(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,UA,gy,gy);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},UA={};function Gh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function BA(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(To,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Xd(e),e.isCheckStableRunning=!0,Gh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Xd(e))}function $A(e){let t=()=>{BA(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(HA(a))return n.invokeTask(i,o,s,a);try{return _y(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),yy(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return _y(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),yy(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Xd(e),Gh(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Xd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function _y(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yy(e){e._nesting--,Gh(e)}function HA(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var vw=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}}return e})();function hc(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=z_(i,a);else if(o==2){let c=a,l=t[++s];r=z_(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var fc=class extends jc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=sr(t);return new Lo(n,this.ngModule)}};function vy(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function WA(e){let t=e.toLowerCase();return t==="svg"?yS:t==="math"?vS:null}var eh=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ic(r);let i=this.injector.get(t,bd,r);return i!==bd||n===bd?i:this.parentInjector.get(t,n,r)}},Lo=class extends dc{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=vy(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return vy(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=ZT(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=Q(null);try{i=i||this.ngModule;let s=i instanceof Ke?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new eh(t,s):t,c=a.get(Fo,null);if(c===null)throw new S(407,!1);let l=a.get(VA,null),u=a.get(vw,null),d=a.get(Qd,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},p=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",g=r?zM(p,r,this.componentDef.encapsulation,a):zv(p,m,WA(m)),w=512;this.componentDef.signals?w|=4096:this.componentDef.onPush||(w|=16);let D=null;g!==null&&(D=xh(g,a,!0));let ie=Uh(0,null,null,1,0,null,null,null,null,null,null),$=Fc(null,ie,null,w,null,null,h,p,a,null,D);Sh($);let Se,yn;try{let et=this.componentDef,Qr,Hu=null;et.findHostDirectiveDefs?(Qr=[],Hu=new Map,et.findHostDirectiveDefs(et,Qr,Hu),Qr.push(et)):Qr=[et];let L0=zA($,g),V0=GA(L0,g,et,Qr,$,h,p);yn=cv(ie,Bt),g&&KA(p,et,g,r),n!==void 0&&QA(yn,this.ngContentSelectors,n),Se=YA(V0,et,Qr,Hu,$,[ZA]),Hh(ie,$,null)}finally{Mh()}return new th(this.componentType,Se,Rc(yn,$),$,yn)}finally{Q(o)}}},th=class extends Zd{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new dr(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;$h(o[q],o,i,t,n),this.previousInputValues.set(t,n);let s=Rn(this._tNode.index,o);Wh(s)}}get injector(){return new or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function zA(e,t){let n=e[q],r=Bt;return e[r]=t,Mi(n,r,2,"#host",null)}function GA(e,t,n,r,i,o,s){let a=i[q];qA(r,e,t,s);let c=null;t!==null&&(c=xh(t,i[_i]));let l=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Fc(i,sw(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&qd(a,e,r.length-1),Lc(i,d),i[e.index]=d}function qA(e,t,n,r){for(let i of e)t.mergedAttrs=Ao(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(hc(t,t.mergedAttrs,!0),n!==null&&tw(r,n,t))}function YA(e,t,n,r,i,o){let s=Qe(),a=i[q],c=gt(s,i);cw(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=wi(i,a,d,s);Mn(h,i)}lw(a,i,s),c&&Mn(c,i);let l=wi(i,a,s.directiveStart+s.componentOffset,s);if(e[Nt]=i[Nt]=l,o!==null)for(let u of o)u(l,t);return Lh(a,s,i),l}function KA(e,t,n,r){if(r)xd(e,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=JT(t.selectors[0]);i&&xd(e,n,i),o&&o.length>0&&ew(e,n,o.join(" "))}}function QA(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function ZA(){let e=Qe();Nc(ee()[q],e)}var Ni=(()=>{class e{static{this.__NG_ELEMENT_ID__=JA}}return e})();function JA(){let e=Qe();return eN(e,ee())}var XA=Ni,ww=class extends XA{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new or(this._hostTNode,this._hostLView)}get parentInjector(){let t=Nh(this._hostTNode,this._hostLView);if(bv(t)){let n=sc(t,this._hostLView),r=oc(t),i=n[q].data[r+8];return new or(i,n)}else return new or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=wy(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=py(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,fy(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!fS(t),a;if(s)a=n;else{let m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let c=s?t:new Lo(sr(t)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let g=(s?l:this.parentInjector).get(Ke,null);g&&(o=g)}let u=sr(c.componentType??{}),d=py(this._lContainer,u?.id??null),h=d?.firstChild??null,p=c.create(l,i,h,o);return this.insertImpl(p.hostView,a,fy(this._hostTNode,d)),p}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(bS(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=i[Fe],l=new ww(c,c[it],c[Fe]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return vA(s,i,o,r),t.attachToViewContainerRef(),jy(Cd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=wy(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=zd(this._lContainer,n);r&&(tc(Cd(this._lContainer),n),Yv(r[q],r))}detach(t){let n=this._adjustIndex(t,-1),r=zd(this._lContainer,n);return r&&tc(Cd(this._lContainer),n)!=null?new dr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function wy(e){return e[rc]}function Cd(e){return e[rc]||(e[rc]=[])}function eN(e,t){let n,r=t[e.index];return cn(r)?n=r:(n=uw(r,t,null,e),t[e.index]=n,Lc(t,n)),nN(n,t,e,r),new ww(n,e,t)}function tN(e,t){let n=e[de],r=n.createComment(""),i=gt(t,e),o=kh(n,i);return lc(n,o,r,PM(n,i),!1),r}var nN=oN,rN=()=>!1;function iN(e,t,n){return rN(e,t,n)}function oN(e,t,n,r){if(e[cr])return;let i;n.type&8?i=$t(r):i=tN(t,n),e[cr]=i}function Iw(e){return typeof e=="function"&&e[zu]!==void 0}function bw(e){return Iw(e)&&typeof e.set=="function"}function sN(e){return Object.getPrototypeOf(e.prototype).constructor}function ln(e){let t=sN(e.type),n=!0,r=[e];for(;t;){let i;if(Sn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Ga(e.inputs),s.inputTransforms=Ga(e.inputTransforms),s.declaredInputs=Ga(e.declaredInputs),s.outputs=Ga(e.outputs);let a=i.hostBindings;a&&dN(e,a);let c=i.viewQuery,l=i.contentQueries;if(c&&lN(e,c),l&&uN(e,l),aN(e,i),gT(e.outputs,i.outputs),Sn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ln&&(n=!1)}}t=Object.getPrototypeOf(t)}cN(r)}function aN(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];if(r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function cN(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ao(i.hostAttrs,n=Ao(n,i.hostAttrs))}}function Ga(e){return e===pi?{}:e===pt?[]:e}function lN(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function uN(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function dN(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}var An=class{},Vo=class{};var nh=class extends An{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fc(this);let i=Yy(t);this._bootstrapComponents=Wv(i.bootstrap),this._r3Injector=Rv(t,n,[{provide:An,useValue:this},{provide:jc,useValue:this.componentFactoryResolver},...r],Be(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},rh=class extends Vo{constructor(t){super(),this.moduleType=t}create(t){return new nh(this.moduleType,t,[])}};var pc=class extends An{constructor(t){super(),this.componentFactoryResolver=new fc(this),this.instance=null;let n=new No([...t.providers,{provide:An,useValue:this},{provide:jc,useValue:this.componentFactoryResolver}],t.parent||wh(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function qh(e,t,n=null){return new pc({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var mr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ae(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Cw(e){return fN(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function hN(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function fN(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Ho(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function pN(e){return(e.flags&32)===32}function mN(e,t,n,r,i,o,s,a,c){let l=t.consts,u=Mi(t,e,4,s||null,vi(l,a));Bh(t,n,u,vi(l,c)),Nc(t,u);let d=u.tView=Uh(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function He(e,t,n,r,i,o,s,a){let c=ee(),l=Le(),u=e+Bt,d=l.firstCreatePass?mN(u,l,c,t,n,r,i,o,s):l.data[u];pr(d,!1);let h=gN(l,c,d,e);Mc()&&Pc(l,c,h,d),Mn(h,c);let p=uw(h,c,h,d);return c[u]=p,Lc(c,p),iN(p,d,c),Tc(d)&&Vh(l,c,d),s!=null&&jh(c,d,a),He}var gN=_N;function _N(e,t,n,r){return Ac(!0),t[de].createComment("")}function Ri(e,t,n,r){let i=ee(),o=Sc();if(Ho(i,o,t)){let s=Le(),a=Ah();cA(a,i,e,t,n,r)}return Ri}function yN(e,t,n,r){return Ho(e,Sc(),n)?t+wc(n)+r:Si}function qa(e,t){return e<<17|t<<2}function hr(e){return e>>17&32767}function vN(e){return(e&2)==2}function wN(e,t){return e&131071|t<<17}function ih(e){return e|2}function Ii(e){return(e&131068)>>2}function Ed(e,t){return e&-131069|t<<2}function IN(e){return(e&1)===1}function oh(e){return e|1}function bN(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=hr(s),c=Ii(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Bo(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=hr(e[a+1]);e[r+1]=qa(h,a),h!==0&&(e[h+1]=Ed(e[h+1],r)),e[a+1]=wN(e[a+1],r)}else e[r+1]=qa(a,0),a!==0&&(e[a+1]=Ed(e[a+1],r)),a=r;else e[r+1]=qa(c,0),a===0?a=r:e[c+1]=Ed(e[c+1],r),c=r;l&&(e[r+1]=ih(e[r+1])),Iy(e,u,r,!0),Iy(e,u,r,!1),CN(t,u,e,r,o),s=qa(a,c),o?t.classBindings=s:t.styleBindings=s}function CN(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Bo(o,t)>=0&&(n[r+1]=oh(n[r+1]))}function Iy(e,t,n,r){let i=e[n+1],o=t===null,s=r?hr(i):Ii(i),a=!1;for(;s!==0&&(a===!1||o);){let c=e[s],l=e[s+1];EN(c,t)&&(a=!0,e[s+1]=r?oh(l):ih(l)),s=r?hr(l):Ii(l)}a&&(e[n+1]=r?ih(i):oh(i))}function EN(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Bo(e,t)>=0:!1}function fe(e,t,n){let r=ee(),i=Sc();if(Ho(r,i,t)){let o=Le(),s=Ah();aw(o,s,r,e,t,r[de],n,!1)}return fe}function by(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";$h(e,n,o[s],s,r)}function un(e,t){return DN(e,t,null,!0),un}function DN(e,t,n,r){let i=ee(),o=Le(),s=OS(2);if(o.firstUpdatePass&&SN(o,e,s,r),t!==Si&&Ho(i,s,t)){let a=o.data[Ei()];xN(o,a,i,i[de],e,i[s+1]=ON(t,n),r,s)}}function TN(e,t){return t>=e.expandoStartIndex}function SN(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Ei()],s=TN(e,n);PN(o,r)&&t===null&&!s&&(t=!1),t=MN(i,o,t,r),bN(i,o,t,n,s,r)}}function MN(e,t,n,r){let i=LS(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Dd(null,e,t,n,r),n=jo(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Dd(i,e,t,n,r),o===null){let c=AN(e,t,r);c!==void 0&&Array.isArray(c)&&(c=Dd(null,e,t,c[1],r),c=jo(c,t.attrs,r),NN(e,t,r,c))}else o=RN(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function AN(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Ii(r)!==0)return e[hr(r)]}function NN(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[hr(i)]=r}function RN(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=jo(r,s,n)}return jo(r,t.attrs,n)}function Dd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=jo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function jo(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),LT(e,s,n?!0:t[++o]))}return e===void 0?null:e}function xN(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=IN(l)?Cy(c,t,n,i,Ii(l),s):void 0;if(!mc(u)){mc(o)||vN(l)&&(o=Cy(c,null,n,i,a,s));let d=av(Ei(),n);UM(r,s,d,i,o)}}function Cy(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===Si&&(h=d?pt:void 0);let p=d?pd(h,r):u===r?h:void 0;if(l&&!mc(p)&&(p=pd(c,r)),mc(p)&&(a=p,s))return a;let m=e[i+1];i=s?hr(m):Ii(m)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(a=pd(c,r))}return a}function mc(e){return e!==void 0}function ON(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Be(Oc(e)))),e}function PN(e,t){return(e.flags&(t?8:16))!==0}function kN(e,t,n,r,i,o){let s=t.consts,a=vi(s,i),c=Mi(t,e,2,r,a);return Bh(t,n,c,vi(s,o)),c.attrs!==null&&hc(c,c.attrs,!1),c.mergedAttrs!==null&&hc(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function I(e,t,n,r){let i=ee(),o=Le(),s=Bt+e,a=i[de],c=o.firstCreatePass?kN(s,o,i,t,n,r):o.data[s],l=FN(o,i,c,a,t,e);i[s]=l;let u=Tc(c);return pr(c,!0),tw(a,l,c),!pN(c)&&Mc()&&Pc(o,i,l,c),TS()===0&&Mn(l,i),SS(),u&&(Vh(o,i,c),Lh(o,c,i)),r!==null&&jh(i,c),I}function b(){let e=Qe();Dh()?Th():(e=e.parent,pr(e,!1));let t=e;AS(t)&&NS(),MS();let n=Le();return n.firstCreatePass&&(Nc(n,e),bh(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&WS(t)&&by(n,t,ee(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&zS(t)&&by(n,t,ee(),t.stylesWithoutHost,!1),b}function Wt(e,t,n,r){return I(e,t,n,r),b(),Wt}var FN=(e,t,n,r,i,o)=>(Ac(!0),zv(r,i,US()));function LN(e,t,n,r,i){let o=t.consts,s=vi(o,r),a=Mi(t,e,8,"ng-container",s);s!==null&&hc(a,s,!0);let c=vi(o,i);return Bh(t,n,a,c),t.queries!==null&&t.queries.elementStart(t,a),a}function Yh(e,t,n){let r=ee(),i=Le(),o=e+Bt,s=i.firstCreatePass?LN(o,i,r,t,n):i.data[o];pr(s,!0);let a=VN(i,r,s,e);return r[o]=a,Mc()&&Pc(i,r,a,s),Mn(a,r),Tc(s)&&(Vh(i,r,s),Lh(i,s,r)),n!=null&&jh(r,s),Yh}function Kh(){let e=Qe(),t=Le();return Dh()?Th():(e=e.parent,pr(e,!1)),t.firstCreatePass&&(Nc(t,e),bh(e)&&t.queries.elementEnd(e)),Kh}var VN=(e,t,n,r)=>(Ac(!0),EM(t[de],""));function xn(){return ee()}var gc="en-US";var jN=gc;function UN(e){typeof e=="string"&&(jN=e.toLowerCase().replace(/_/g,"-"))}function oe(e,t,n,r){let i=ee(),o=Le(),s=Qe();return Ew(o,i,i[de],s,e,t,r),oe}function BN(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[xo],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function Ew(e,t,n,r,i,o,s){let a=Tc(r),l=e.firstCreatePass&&fA(e),u=t[Nt],d=hA(t),h=!0;if(r.type&3||s){let g=gt(r,t),w=s?s(g):g,D=d.length,ie=s?Se=>s($t(Se[r.index])):r.index,$=null;if(!s&&a&&($=BN(e,t,i,r.index)),$!==null){let Se=$.__ngLastListenerFn__||$;Se.__ngNextListenerFn__=o,$.__ngLastListenerFn__=o,h=!1}else{o=Dy(r,t,u,o,!1);let Se=n.listen(w,i,o);d.push(o,Se),l&&l.push(i,ie,D,D+1)}}else o=Dy(r,t,u,o,!1);let p=r.outputs,m;if(h&&p!==null&&(m=p[i])){let g=m.length;if(g)for(let w=0;w<g;w+=2){let D=m[w],ie=m[w+1],yn=t[D][ie].subscribe(o),et=d.length;d.push(o,yn),l&&l.push(i,r.index,et,-(et+1))}}}function Ey(e,t,n,r){let i=Q(null);try{return Vt(6,t,n),n(r)!==!1}catch(o){return hw(e,o),!1}finally{Vt(7,t,n),Q(i)}}function Dy(e,t,n,r,i){return function o(s){if(s===Function)return r;let a=e.componentOffset>-1?Rn(e.index,t):t;Wh(a);let c=Ey(t,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=Ey(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function zt(e=1){return jS(e)}function $N(e,t){let n=null,r=GT(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){n=i;continue}if(r===null?Wy(e,o,!0):KT(r,o))return i}return n}function Qh(e){let t=ee()[xt][it];if(!t.projection){let n=e?e.length:1,r=t.projection=kT(n,null),i=r.slice(),o=t.child;for(;o!==null;){let s=e?$N(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Zh(e,t=0,n){let r=ee(),i=Le(),o=Mi(i,Bt+e,16,null,n||null);o.projection===null&&(o.projection=t),Th(),(!r[Ro]||hv())&&(o.flags&32)!==32&&VM(i,r,o)}function x(e,t=""){let n=ee(),r=Le(),i=e+Bt,o=r.firstCreatePass?Mi(r,i,1,t,null):r.data[i],s=HN(r,n,o,t,e);n[i]=s,Mc()&&Pc(r,n,s,o),pr(o,!1)}var HN=(e,t,n,r,i)=>(Ac(!0),bM(t[de],r));function gr(e){return _r("",e,""),gr}function _r(e,t,n){let r=ee(),i=yN(r,e,t,n);return i!==Si&&pA(r,Ei(),i),_r}function ot(e,t,n){bw(t)&&(t=t());let r=ee(),i=Sc();if(Ho(r,i,t)){let o=Le(),s=Ah();aw(o,s,r,e,t,r[de],n,!1)}return ot}function yt(e,t){let n=bw(e);return n&&e.set(t),n}function st(e,t){let n=ee(),r=Le(),i=Qe();return Ew(r,n,n[de],i,e,t),st}function WN(e,t,n){let r=Le();if(r.firstCreatePass){let i=Sn(e);sh(n,r.data,r.blueprint,i,!0),sh(t,r.data,r.blueprint,i,!1)}}function sh(e,t,n,r,i){if(e=Ue(e),Array.isArray(e))for(let o=0;o<e.length;o++)sh(e[o],t,n,r,i);else{let o=Le(),s=ee(),a=Qe(),c=gi(e)?e:Ue(e.provide),l=ev(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(gi(e)||!e.multi){let p=new ur(l,i,M),m=Sd(c,t,i?u:u+h,d);m===-1?(Ud(ac(a,s),o,c),Td(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{let p=Sd(c,t,u+h,d),m=Sd(c,t,u,u+h),g=p>=0&&n[p],w=m>=0&&n[m];if(i&&!w||!i&&!g){Ud(ac(a,s),o,c);let D=qN(i?GN:zN,n.length,i,r,l);!i&&w&&(n[m].providerFactory=D),Td(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else{let D=Dw(n[i?m:p],l,!i&&r);Td(o,e,p>-1?p:m,D)}!i&&r&&w&&n[m].componentProviders++}}}function Td(e,t,n,r){let i=gi(t),o=oS(t);if(i||o){let c=(o?Ue(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function Dw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Sd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function zN(e,t,n,r){return ah(this.multi,[])}function GN(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=wi(n,n[q],this.providerFactory.index,r);o=a.slice(0,s),ah(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],ah(i,o);return o}function ah(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function qN(e,t,n,r,i){let o=new ur(e,n,M);return o.multi=[],o.index=t,o.componentProviders=0,Dw(o,i,r&&!n),o}function yr(e,t=[]){return n=>{n.providersResolver=(r,i)=>WN(r,i?i(e):e,t)}}var YN=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Zy(!1,n.type),i=r.length>0?qh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(C(Ke))})}}return e})();function Re(e){zh("NgStandalone"),e.getStandaloneInjector=t=>t.get(YN).getOrCreateStandaloneInjector(e)}var Uc=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Tw=new T("");function vr(e){return!!e&&typeof e.then=="function"}function Sw(e){return!!e&&typeof e.subscribe=="function"}var Mw=new T(""),Aw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=v(Mw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(vr(o))n.push(o);else if(Sw(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bc=new T("");function KN(){v_(()=>{throw new S(600,!1)})}function QN(e){return e.isBoundToModule}function ZN(e,t,n){try{let r=n();return vr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var xi=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=v(xv),this.afterRenderEffectManager=v(vw),this.externalTestViews=new Set,this.beforeRender=new Me,this.afterTick=new Me,this.componentTypes=[],this.components=[],this.isStable=v(mr).hasPendingTasks.pipe(O(n=>!n)),this._injector=v(Ke)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof dc;if(!this._injector.get(Aw).done){let h=!i&&qy(n),p=!1;throw new S(405,p)}let s;i?s=n:s=this._injector.get(jc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=QN(s)?void 0:this._injector.get(An),c=r||s.selector,l=s.create(Ti.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(Tw,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Md(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new S(101,!1);let r=Q(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Q(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===pw)throw new S(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)JN(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>ch(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>ch(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Md(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Bc,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Md(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Md(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function JN(e,t,n){!t&&!ch(e)||XN(e,n,t)}function ch(e){return Eh(e)}function XN(e,t,n){let r;n?(r=0,e[N]|=1024):e[N]&64?r=0:r=1,mw(e,t,r)}var lh=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Jh=(()=>{class e{compileModuleSync(n){return new rh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Yy(n),o=Wv(i.declarations).reduce((s,a)=>{let c=sr(a);return c&&s.push(new Lo(c)),s},[]);return new lh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var eR=(()=>{class e{constructor(){this.zone=v(ne),this.applicationRef=v(xi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tR(e){return[{provide:ne,useFactory:e},{provide:mi,multi:!0,useFactory:()=>{let t=v(eR,{optional:!0});return()=>t.initialize()}},{provide:mi,multi:!0,useFactory:()=>{let t=v(oR);return()=>{t.initialize()}}},{provide:xv,useFactory:nR}]}function nR(){let e=v(ne),t=v(rn);return n=>e.runOutsideAngular(()=>t.handleError(n))}function rR(e){let t=tR(()=>new ne(iR(e)));return bi([[],t])}function iR(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var oR=(()=>{class e{constructor(){this.subscription=new ue,this.initialized=!1,this.zone=v(ne),this.pendingTasks=v(mr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sR(){return typeof $localize<"u"&&$localize.locale||gc}var $c=new T("",{providedIn:"root",factory:()=>v($c,j.Optional|j.SkipSelf)||sR()});var Nw=new T("");var Ja=null;function aR(e=[],t){return Ti.create({name:t,providers:[{provide:bc,useValue:"platform"},{provide:Nw,useValue:new Set([()=>Ja=null])},...e]})}function cR(e=[]){if(Ja)return Ja;let t=aR(e);return Ja=t,KN(),lR(t),t}function lR(e){e.get(Rh,null)?.forEach(n=>n())}var Gt=(()=>{class e{static{this.__NG_ELEMENT_ID__=uR}}return e})();function uR(e){return dR(Qe(),ee(),(e&16)===16)}function dR(e,t,n){if(Dc(e)&&!n){let r=Rn(e.index,t);return new dr(r,r)}else if(e.type&47){let r=t[xt];return new dr(r,t)}return null}var uh=class{constructor(){}supports(t){return Cw(t)}create(t){return new dh(t)}},hR=(e,t)=>t,dh=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hR}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Ty(r,i,o)?n:r,a=Ty(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){let p=h<o.length?o[h]:o[h]=0,m=p+h;u<=m&&m<l&&(o[h]=p+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Cw(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,hN(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new hh(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new _c),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _c),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},hh=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},fh=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},_c=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new fh,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ty(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Sy(){return new Xh([new uh])}var Xh=(()=>{class e{static{this.\u0275prov=E({token:e,providedIn:"root",factory:Sy})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Sy()),deps:[[e,new Vy,new mh]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new S(901,!1)}}return e})();function Rw(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=cR(r),o=[rR(),...n||[]],a=new pc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ne);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(rn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:p=>{l.handleError(p)}})});let d=()=>a.destroy(),h=i.get(Nw);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),ZN(l,c,()=>{let p=a.get(Aw);return p.runInitializers(),p.donePromise.then(()=>{let m=a.get($c,gc);UN(m||gc);let g=a.get(xi);return t!==void 0&&g.bootstrap(t),g})})})}catch(t){return Promise.reject(t)}}function wr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var Fw=null;function hn(){return Fw}function Lw(e){Fw??=e}var Hc=class{};var De=new T(""),rf=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:()=>v(pR),providedIn:"platform"})}}return e})();var pR=(()=>{class e extends rf{constructor(){super(),this._doc=v(De),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hn().getBaseHref(this._doc)}onPopState(n){let r=hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=hn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function of(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function xw(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function dn(e){return e&&e[0]!=="?"?"?"+e:e}var Pi=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:()=>v(jw),providedIn:"root"})}}return e})(),Vw=new T(""),jw=(()=>{class e extends Pi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??v(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return of(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+dn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+dn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+dn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(C(rf),C(Vw,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Uw=(()=>{class e extends Pi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=of(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+dn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(C(rf),C(Vw,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),Wo=(()=>{class e{constructor(n){this._subject=new we,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=_R(xw(Ow(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+dn(r))}normalize(n){return e.stripTrailingSlash(gR(this._basePath,Ow(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+dn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+dn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=dn}static{this.joinWithSlash=of}static{this.stripTrailingSlash=xw}static{this.\u0275fac=function(r){return new(r||e)(C(Pi))}}static{this.\u0275prov=E({token:e,factory:()=>mR(),providedIn:"root"})}}return e})();function mR(){return new Wo(C(Pi))}function gR(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Ow(e){return e.replace(/\/index.html$/,"")}function _R(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function zc(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var ef=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gc=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ef(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Pw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Pw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(M(Ni),M(Vc),M(Xh))}}static{this.\u0275dir=ae({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Pw(e,t){e.context.$implicit=t.item}var ki=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new tf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){kw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){kw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(M(Ni),M(Vc))}}static{this.\u0275dir=ae({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),tf=class{constructor(){this.$implicit=null,this.ngIf=null}};function kw(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Be(t)}'.`)}var at=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=be({type:e})}static{this.\u0275inj=Ie({})}}return e})(),sf="browser",yR="server";function Bw(e){return e===sf}function qc(e){return e===yR}var Oi=class{};var qo=class{},Kc=class{},Ir=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var cf=class{encodeKey(t){return $w(t)}encodeValue(t){return $w(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function IR(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var bR=/%(\d[a-f0-9])/gi,CR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $w(e){return encodeURIComponent(e).replace(bR,(t,n)=>CR[n]??t)}function Yc(e){return`${e}`}var On=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new cf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=IR(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Yc):[Yc(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Yc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Yc(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var lf=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function ER(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Hw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Ww(e){return typeof Blob<"u"&&e instanceof Blob}function zw(e){return typeof FormData<"u"&&e instanceof FormData}function DR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Go=class e{constructor(t,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(ER(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ir,this.context??=new lf,!this.params)this.params=new On,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Hw(this.body)||Ww(this.body)||zw(this.body)||DR(this.body)?this.body:this.body instanceof On?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||zw(this.body)?null:Ww(this.body)?this.body.type||null:Hw(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof On?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),u)),new e(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Fi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Fi||{}),Yo=class{constructor(t,n=Jc.Ok,r="OK"){this.headers=t.headers||new Ir,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},uf=class e extends Yo{constructor(t={}){super(t),this.type=Fi.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Qc=class e extends Yo{constructor(t={}){super(t),this.type=Fi.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Zc=class extends Yo{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Jc=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Jc||{});function af(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Ko=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Go)o=n;else{let c;i.headers instanceof Ir?c=i.headers:c=new Ir(i.headers);let l;i.params&&(i.params instanceof On?l=i.params:l=new On({fromObject:i.params})),o=new Go(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=R(o).pipe(bn(c=>this.handler.handle(c)));if(n instanceof Go||i.observe==="events")return s;let a=s.pipe(je(c=>c instanceof Qc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(O(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(O(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(O(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(O(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new On().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,af(i,r))}post(n,r,i={}){return this.request("POST",n,af(i,r))}put(n,r,i={}){return this.request("PUT",n,af(i,r))}static{this.\u0275fac=function(r){return new(r||e)(C(qo))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})();function Kw(e,t){return t(e)}function TR(e,t){return(n,r)=>t.intercept(n,{handle:i=>e(i,r)})}function SR(e,t,n){return(r,i)=>sn(n,()=>t(r,o=>e(o,i)))}var MR=new T(""),df=new T(""),AR=new T(""),NR=new T("");function RR(){let e=null;return(t,n)=>{e===null&&(e=(v(MR,{optional:!0})??[]).reduceRight(TR,Kw));let r=v(mr),i=r.add();return e(t,n).pipe(En(()=>r.remove(i)))}}var Gw=(()=>{class e extends qo{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=v(mr);let i=v(NR,{optional:!0});this.backend=i??n}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(df),...this.injector.get(AR,[])]));this.chain=i.reduceRight((o,s)=>SR(o,s,this.injector),Kw)}let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(En(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(C(Kc),C(Ke))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})();var xR=/^\)\]\}',?\n/;function OR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var qw=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new S(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?se(r.\u0275loadImpl()):R(null)).pipe(rt(()=>new G(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,w)=>s.setRequestHeader(g,w.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader("Content-Type",g)}if(n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let g=s.statusText||"OK",w=new Ir(s.getAllResponseHeaders()),D=OR(s)||n.url;return c=new uf({headers:w,status:s.status,statusText:g,url:D}),c},u=()=>{let{headers:g,status:w,statusText:D,url:ie}=l(),$=null;w!==Jc.NoContent&&($=typeof s.response>"u"?s.responseText:s.response),w===0&&(w=$?Jc.Ok:0);let Se=w>=200&&w<300;if(n.responseType==="json"&&typeof $=="string"){let yn=$;$=$.replace(xR,"");try{$=$!==""?JSON.parse($):null}catch(et){$=yn,Se&&(Se=!1,$={error:et,text:$})}}Se?(o.next(new Qc({body:$,headers:g,status:w,statusText:D,url:ie||void 0})),o.complete()):o.error(new Zc({error:$,headers:g,status:w,statusText:D,url:ie||void 0}))},d=g=>{let{url:w}=l(),D=new Zc({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(D)},h=!1,p=g=>{h||(o.next(l()),h=!0);let w={type:Fi.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(w.total=g.total),n.responseType==="text"&&s.responseText&&(w.partialText=s.responseText),o.next(w)},m=g=>{let w={type:Fi.UploadProgress,loaded:g.loaded};g.lengthComputable&&(w.total=g.total),o.next(w)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",p),a!==null&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:Fi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",p),a!==null&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(C(Oi))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),Qw=new T(""),PR="XSRF-TOKEN",kR=new T("",{providedIn:"root",factory:()=>PR}),FR="X-XSRF-TOKEN",LR=new T("",{providedIn:"root",factory:()=>FR}),Xc=class{},VR=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=zc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(C(De),C(Ht),C(kR))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})();function jR(e,t){let n=e.url.toLowerCase();if(!v(Qw)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=v(Xc).getToken(),i=v(LR);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}var Zw=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Zw||{});function UR(e,t){return{\u0275kind:e,\u0275providers:t}}function BR(...e){let t=[Ko,qw,Gw,{provide:qo,useExisting:Gw},{provide:Kc,useExisting:qw},{provide:df,useValue:jR,multi:!0},{provide:Qw,useValue:!0},{provide:Xc,useClass:VR}];for(let n of e)t.push(...n.\u0275providers);return bi(t)}var Yw=new T("");function $R(){return UR(Zw.LegacyInterceptors,[{provide:Yw,useFactory:RR},{provide:df,useExisting:Yw,multi:!0}])}var el=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=be({type:e})}static{this.\u0275inj=Ie({providers:[BR($R())]})}}return e})();var pf=class extends Hc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mf=class e extends pf{static makeCurrent(){Lw(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=HR();return n==null?null:WR(n)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return zc(document.cookie,t)}},Qo=null;function HR(){return Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null}function WR(e){return new URL(e,document.baseURI).pathname}var zR=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),gf=new T(""),nI=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(C(gf),C(ne))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),tl=class{constructor(t){this._doc=t}},hf="ng-app-id",rI=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qc(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${hf}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(hf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(hf,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(C(De),C(xc),C($o,8),C(Ht))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),ff={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yf=/%COMP%/g,iI="%COMP%",GR=`_nghost-${iI}`,qR=`_ngcontent-${iI}`,YR=!0,KR=new T("",{providedIn:"root",factory:()=>YR});function QR(e){return qR.replace(yf,e)}function ZR(e){return GR.replace(yf,e)}function oI(e,t){return t.map(n=>n.replace(yf,e))}var Xw=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=qc(a),this.defaultRenderer=new Zo(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ut.ShadowDom&&(r=k(_({},r),{encapsulation:Ut.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof nl?i.applyToHost(n):i instanceof Jo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Ut.Emulated:o=new nl(c,l,r,this.appId,u,s,a,d);break;case Ut.ShadowDom:return new _f(c,l,n,r,s,a,this.nonce,d);default:o=new Jo(c,l,r,u,s,a,d);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(C(nI),C(rI),C(xc),C(KR),C(De),C(Ht),C(ne),C($o))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),Zo=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(ff[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(eI(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(eI(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=ff[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=ff[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(on.DashCase|on.Important)?t.style.setProperty(n,r,i&on.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&on.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=hn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function eI(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var _f=class extends Zo{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=oI(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jo=class extends Zo{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?oI(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nl=class extends Jo{constructor(t,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=QR(l),this.hostAttr=ZR(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},JR=(()=>{class e extends tl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(C(De))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),tI=["alt","control","meta","shift"],XR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ex={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},tx=(()=>{class e extends tl{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tI.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=XR[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),tI.forEach(s=>{if(s!==i){let a=ex[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(C(De))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})();function sI(e,t){return Rw(_({rootComponent:e},nx(t)))}function nx(e){return{appProviders:[...ax,...e?.providers??[]],platformProviders:sx}}function rx(){mf.makeCurrent()}function ix(){return new rn}function ox(){return jv(document),document}var sx=[{provide:Ht,useValue:sf},{provide:Rh,useValue:rx,multi:!0},{provide:De,useFactory:ox,deps:[]}];var ax=[{provide:bc,useValue:"root"},{provide:rn,useFactory:ix,deps:[]},{provide:gf,useClass:JR,multi:!0,deps:[De,ne,Ht]},{provide:gf,useClass:tx,multi:!0,deps:[De]},Xw,rI,nI,{provide:Fo,useExisting:Xw},{provide:Oi,useClass:zR,deps:[]},[]];var aI=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(C(De))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var L="primary",fs=Symbol("RouteTitle"),Cf=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bi(e){return new Cf(e)}function dx(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function hx(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qt(e[n],t[n]))return!1;return!0}function qt(e,t){let n=e?Ef(e):void 0,r=t?Ef(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!fI(e[i],t[i]))return!1;return!0}function Ef(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function fI(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function pI(e){return e.length>0?e[e.length-1]:null}function Fn(e){return od(e)?e:vr(e)?se(Promise.resolve(e)):R(e)}var fx={exact:gI,subset:_I},mI={exact:px,subset:mx,ignored:()=>!0};function cI(e,t,n){return fx[n.paths](e.root,t.root,n.matrixParams)&&mI[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function px(e,t){return qt(e,t)}function gI(e,t,n){if(!Cr(e.segments,t.segments)||!ol(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!gI(e.children[r],t.children[r],n))return!1;return!0}function mx(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>fI(e[n],t[n]))}function _I(e,t,n){return yI(e,t,t.segments,n)}function yI(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Cr(i,n)||t.hasChildren()||!ol(i,n,r))}else if(e.segments.length===n.length){if(!Cr(e.segments,n)||!ol(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!_I(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Cr(e.segments,i)||!ol(e.segments,i,r)||!e.children[L]?!1:yI(e.children[L],t,o,r)}}function ol(e,t,n){return t.every((r,i)=>mI[n](e[i].parameters,r.parameters))}var Pn=class{constructor(t=new Z([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Bi(this.queryParams),this._queryParamMap}toString(){return yx.serialize(this)}},Z=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sl(this)}},br=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Bi(this.parameters),this._parameterMap}toString(){return wI(this)}};function gx(e,t){return Cr(e,t)&&e.every((n,r)=>qt(n.parameters,t[r].parameters))}function Cr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function _x(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===L&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==L&&(n=n.concat(t(i,r)))}),n}var Qf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:()=>new cl,providedIn:"root"})}}return e})(),cl=class{parse(t){let n=new Tf(t);return new Pn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Xo(t.root,!0)}`,r=Ix(t.queryParams),i=typeof t.fragment=="string"?`#${vx(t.fragment)}`:"";return`${n}${r}${i}`}},yx=new cl;function sl(e){return e.segments.map(t=>wI(t)).join("/")}function Xo(e,t){if(!e.hasChildren())return sl(e);if(t){let n=e.children[L]?Xo(e.children[L],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==L&&r.push(`${i}:${Xo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=_x(e,(r,i)=>i===L?[Xo(e.children[L],!1)]:[`${i}:${Xo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[L]!=null?`${sl(e)}/${n[0]}`:`${sl(e)}/(${n.join("//")})`}}function vI(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rl(e){return vI(e).replace(/%3B/gi,";")}function vx(e){return encodeURI(e)}function Df(e){return vI(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function al(e){return decodeURIComponent(e)}function lI(e){return al(e.replace(/\+/g,"%20"))}function wI(e){return`${Df(e.path)}${wx(e.parameters)}`}function wx(e){return Object.entries(e).map(([t,n])=>`;${Df(t)}=${Df(n)}`).join("")}function Ix(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${rl(n)}=${rl(i)}`).join("&"):`${rl(n)}=${rl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var bx=/^[^\/()?;#]+/;function vf(e){let t=e.match(bx);return t?t[0]:""}var Cx=/^[^\/()?;=#]+/;function Ex(e){let t=e.match(Cx);return t?t[0]:""}var Dx=/^[^=?&#]+/;function Tx(e){let t=e.match(Dx);return t?t[0]:""}var Sx=/^[^&#]+/;function Mx(e){let t=e.match(Sx);return t?t[0]:""}var Tf=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Z([],{}):new Z([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[L]=new Z(t,n)),r}parseSegment(){let t=vf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new br(al(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=Ex(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=vf(this.remaining);i&&(r=i,this.capture(r))}t[al(n)]=al(r)}parseQueryParam(t){let n=Tx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Mx(this.remaining);s&&(r=s,this.capture(r))}let i=lI(n),o=lI(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=L);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[L]:new Z([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}};function II(e){return e.segments.length>0?new Z([],{[L]:e}):e}function bI(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=bI(i);if(r===L&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Z(e.segments,t);return Ax(n)}function Ax(e){if(e.numberOfChildren===1&&e.children[L]){let t=e.children[L];return new Z(e.segments.concat(t.segments),t.children)}return e}function $i(e){return e instanceof Pn}function Nx(e,t,n=null,r=null){let i=CI(e);return EI(i,t,n,r)}function CI(e){let t;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Z(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=II(r);return t??i}function EI(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return wf(i,i,i,n,r);let o=Rx(t);if(o.toRoot())return wf(i,i,new Z([],{}),n,r);let s=xx(o,i,e),a=s.processChildren?ns(s.segmentGroup,s.index,o.commands):TI(s.segmentGroup,s.index,o.commands);return wf(i,s.segmentGroup,a,n,r)}function ll(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function os(e){return typeof e=="object"&&e!=null&&e.outlets}function wf(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;e===t?s=n:s=DI(e,t,n);let a=II(bI(s));return new Pn(a,o,i)}function DI(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=DI(o,t,n)}),new Z(e.segments,r)}var ul=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ll(r[0]))throw new S(4003,!1);let i=r.find(os);if(i&&i!==pI(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rx(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ul(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ul(n,t,r)}var ji=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function xx(e,t,n){if(e.isAbsolute)return new ji(t,!0,0);if(!n)return new ji(t,!1,NaN);if(n.parent===null)return new ji(n,!0,0);let r=ll(e.commands[0])?0:1,i=n.segments.length-1+r;return Ox(n,i,e.numberOfDoubleDots)}function Ox(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new ji(r,!1,i-o)}function Px(e){return os(e[0])?e[0].outlets:{[L]:e}}function TI(e,t,n){if(e??=new Z([],{}),e.segments.length===0&&e.hasChildren())return ns(e,t,n);let r=kx(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Z(e.segments.slice(0,r.pathIndex),{});return o.children[L]=new Z(e.segments.slice(r.pathIndex),e.children),ns(o,0,i)}else return r.match&&i.length===0?new Z(e.segments,{}):r.match&&!e.hasChildren()?Sf(e,t,n):r.match?ns(e,0,i):Sf(e,t,n)}function ns(e,t,n){if(n.length===0)return new Z(e.segments,{});{let r=Px(n),i={};if(Object.keys(r).some(o=>o!==L)&&e.children[L]&&e.numberOfChildren===1&&e.children[L].segments.length===0){let o=ns(e.children[L],t,n);return new Z(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TI(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Z(e.segments,i)}}function kx(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(os(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!dI(c,l,s))return o;r+=2}else{if(!dI(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sf(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(os(o)){let c=Fx(o.outlets);return new Z(r,c)}if(i===0&&ll(n[0])){let c=e.segments[t];r.push(new br(c.path,uI(n[0]))),i++;continue}let s=os(o)?o.outlets[L]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ll(a)?(r.push(new br(s,uI(a))),i+=2):(r.push(new br(s,{})),i++)}return new Z(r,{})}function Fx(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Sf(new Z([],{}),0,r))}),t}function uI(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function dI(e,t,n){return e==n.path&&qt(t,n.parameters)}var rs="imperative",xe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(xe||{}),vt=class{constructor(t,n){this.id=t,this.url=n}},ss=class extends vt{constructor(t,n,r="imperative",i=null){super(t,n),this.type=xe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Er=class extends vt{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=xe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},lt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(lt||{}),Mf=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Mf||{}),kn=class extends vt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=xe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends vt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=xe.NavigationSkipped}},as=class extends vt{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=xe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dl=class extends vt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Af=class extends vt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nf=class extends vt{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=xe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Rf=class extends vt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xf=class extends vt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=xe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Of=class{constructor(t){this.route=t,this.type=xe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pf=class{constructor(t){this.route=t,this.type=xe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kf=class{constructor(t){this.snapshot=t,this.type=xe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ff=class{constructor(t){this.snapshot=t,this.type=xe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lf=class{constructor(t){this.snapshot=t,this.type=xe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vf=class{constructor(t){this.snapshot=t,this.type=xe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var cs=class{},ls=class{constructor(t){this.url=t}};var jf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _l,this.attachRef=null}},_l=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new jf,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hl=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Uf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Uf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Bf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Bf(t,this._root).map(n=>n.value)}};function Uf(e,t){if(e===t.value)return t;for(let n of t.children){let r=Uf(e,n);if(r)return r}return null}function Bf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Bf(e,n);if(r.length)return r.unshift(t),r}return[]}var ct=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var fl=class extends hl{constructor(t,n){super(t),this.snapshot=n,Jf(this,t)}toString(){return this.snapshot.toString()}};function SI(e){let t=Lx(e),n=new Ae([new br("",{})]),r=new Ae({}),i=new Ae({}),o=new Ae({}),s=new Ae(""),a=new Hi(n,r,o,s,i,L,e,t.root);return a.snapshot=t.root,new fl(new ct(a,[]),t)}function Lx(e){let t={},n={},r={},i="",o=new us([],t,r,i,n,L,e,null,{});return new pl("",new ct(o,[]))}var Hi=class{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(O(l=>l[fs]))??R(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(O(t=>Bi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(O(t=>Bi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zf(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:_(_({},t.params),e.params),data:_(_({},t.data),e.data),resolve:_(_(_(_({},e.data),t.data),i?.data),e._resolvedData)}:r={params:_({},e.params),data:_({},e.data),resolve:_(_({},e.data),e._resolvedData??{})},i&&AI(i)&&(r.resolve[fs]=i.title),r}var us=class{get title(){return this.data?.[fs]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},pl=class extends hl{constructor(t,n){super(n),this.url=t,Jf(this,n)}toString(){return MI(this._root)}};function Jf(e,t){t.value._routerState=e,t.children.forEach(n=>Jf(e,n))}function MI(e){let t=e.children.length>0?` { ${e.children.map(MI).join(", ")} } `:"";return`${e.value}${t}`}function If(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qt(t.params,n.params)||e.paramsSubject.next(n.params),hx(t.url,n.url)||e.urlSubject.next(n.url),qt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function $f(e,t){let n=qt(e.params,t.params)&&gx(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||$f(e.parent,t.parent))}function AI(e){return typeof e.title=="string"||e.title===null}var Xf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=L,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.parentContexts=v(_l),this.location=v(Ni),this.changeDetector=v(Gt),this.environmentInjector=v(Ke),this.inputBinder=v(ep,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Hf(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ae({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nn]})}}return e})(),Hf=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Hi?this.route:t===_l?this.childContexts:this.parent.get(t,n)}},ep=new T("");function Vx(e,t,n){let r=ds(e,t._root,n?n._root:void 0);return new fl(r,t)}function ds(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=jx(e,t,n);return new ct(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ds(e,a)),s}}let r=Ux(t.value),i=t.children.map(o=>ds(e,o));return new ct(r,i)}}function jx(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ds(e,r,i);return ds(e,r)})}function Ux(e){return new Hi(new Ae(e.url),new Ae(e.params),new Ae(e.queryParams),new Ae(e.fragment),new Ae(e.data),e.outlet,e.component,e)}var NI="ngNavigationCancelingError";function RI(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=$i(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=xI(!1,lt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function xI(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[NI]=!0,n.cancellationCode=t,n}function Bx(e){return OI(e)&&$i(e.url)}function OI(e){return!!e&&e[NI]}var $x=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ne({type:e,selectors:[["ng-component"]],standalone:!0,features:[Re],decls:1,vars:0,template:function(r,i){r&1&&Wt(0,"router-outlet")},dependencies:[Xf],encapsulation:2})}}return e})();function Hx(e,t){return e.providers&&!e._injector&&(e._injector=qh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function tp(e){let t=e.children&&e.children.map(tp),n=t?k(_({},e),{children:t}):_({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=$x),n}function Yt(e){return e.outlet||L}function Wx(e,t){let n=e.filter(r=>Yt(r)===t);return n.push(...e.filter(r=>Yt(r)!==t)),n}function ps(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zx=(e,t,n,r)=>O(i=>(new Wf(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Wf=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),If(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Vi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Vi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Vi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Vi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vf(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ff(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(If(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),If(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=ps(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},ml=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ui=class{constructor(t,n){this.component=t,this.route=n}};function Gx(e,t,n){let r=e._root,i=t?t._root:null;return es(r,i,n,[r.value])}function qx(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function zi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Ry(e)?e:t.get(e):r}function es(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Vi(t);return e.children.forEach(s=>{Yx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>is(a,n.getContext(s),i)),i}function Yx(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Kx(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ml(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?es(e,t,a?a.children:null,r,i):es(e,t,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ui(a.outlet.component,s))}else s&&is(t,a,i),i.canActivateChecks.push(new ml(r)),o.component?es(e,null,a?a.children:null,r,i):es(e,null,n,r,i);return i}function Kx(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Cr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Cr(e.url,t.url)||!qt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$f(e,t)||!qt(e.queryParams,t.queryParams);case"paramsChange":default:return!$f(e,t)}}function is(e,t,n){let r=Vi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?is(s,t.children.getContext(o),n):is(s,null,n):is(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ui(t.outlet.component,i)):n.canDeactivateChecks.push(new Ui(null,i)):n.canDeactivateChecks.push(new Ui(null,i))}function ms(e){return typeof e=="function"}function Qx(e){return typeof e=="boolean"}function Zx(e){return e&&ms(e.canLoad)}function Jx(e){return e&&ms(e.canActivate)}function Xx(e){return e&&ms(e.canActivateChild)}function eO(e){return e&&ms(e.canDeactivate)}function tO(e){return e&&ms(e.canMatch)}function PI(e){return e instanceof Tt||e?.name==="EmptyError"}var il=Symbol("INITIAL_VALUE");function Wi(){return rt(e=>si(e.map(t=>t.pipe(St(1),Eo(il)))).pipe(O(t=>{for(let n of t)if(n!==!0){if(n===il)return il;if(n===!1||n instanceof Pn)return n}return!0}),je(t=>t!==il),St(1)))}function nO(e,t){return ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(k(_({},n),{guardsResult:!0})):rO(s,r,i,e).pipe(ge(a=>a&&Qx(a)?iO(r,o,e,t):R(a)),O(a=>k(_({},n),{guardsResult:a})))})}function rO(e,t,n,r){return se(e).pipe(ge(i=>lO(i.component,i.route,n,t,r)),Lt(i=>i!==!0,!0))}function iO(e,t,n,r){return se(t).pipe(bn(i=>wn(sO(i.route.parent,r),oO(i.route,r),cO(e,i.path,n),aO(e,i.route,n))),Lt(i=>i!==!0,!0))}function oO(e,t){return e!==null&&t&&t(new Lf(e)),R(!0)}function sO(e,t){return e!==null&&t&&t(new kf(e)),R(!0)}function aO(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>Ha(()=>{let s=ps(t)??n,a=zi(o,s),c=Jx(a)?a.canActivate(t,e):sn(s,()=>a(t,e));return Fn(c).pipe(Lt())}));return R(i).pipe(Wi())}function cO(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>qx(s)).filter(s=>s!==null).map(s=>Ha(()=>{let a=s.guards.map(c=>{let l=ps(s.node)??n,u=zi(c,l),d=Xx(u)?u.canActivateChild(r,e):sn(l,()=>u(r,e));return Fn(d).pipe(Lt())});return R(a).pipe(Wi())}));return R(o).pipe(Wi())}function lO(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let c=ps(t)??i,l=zi(a,c),u=eO(l)?l.canDeactivate(e,t,n,r):sn(c,()=>l(e,t,n,r));return Fn(u).pipe(Lt())});return R(s).pipe(Wi())}function uO(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=zi(s,e),c=Zx(a)?a.canLoad(t,n):sn(e,()=>a(t,n));return Fn(c)});return R(o).pipe(Wi(),kI(r))}function kI(e){return ed(ve(t=>{if($i(t))throw RI(e,t)}),O(t=>t===!0))}function dO(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=zi(s,e),c=tO(a)?a.canMatch(t,n):sn(e,()=>a(t,n));return Fn(c)});return R(o).pipe(Wi(),kI(r))}var hs=class{constructor(t){this.segmentGroup=t||null}},gl=class extends Error{constructor(t){super(),this.urlTree=t}};function Li(e){return oi(new hs(e))}function hO(e){return oi(new S(4e3,!1))}function fO(e){return oi(xI(!1,lt.GuardRejected))}var zf=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[L])return hO(t.redirectTo);i=i.children[L]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new gl(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Pn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new Z(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Gf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pO(e,t,n,r,i){let o=np(e,t,n);return o.matched?(r=Hx(t,r),dO(r,t,n,i).pipe(O(s=>s===!0?o:_({},Gf)))):R(o)}function np(e,t,n){if(t.path==="**")return mO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?_({},Gf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||dx)(n,e,t);if(!i)return _({},Gf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?_(_({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function mO(e){return{matched:!0,parameters:e.length>0?pI(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function hI(e,t,n,r){return n.length>0&&yO(e,n,r)?{segmentGroup:new Z(t,_O(r,new Z(n,e.children))),slicedSegments:[]}:n.length===0&&vO(e,n,r)?{segmentGroup:new Z(e.segments,gO(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Z(e.segments,e.children),slicedSegments:n}}function gO(e,t,n,r){let i={};for(let o of n)if(yl(e,t,o)&&!r[Yt(o)]){let s=new Z([],{});i[Yt(o)]=s}return _(_({},r),i)}function _O(e,t){let n={};n[L]=t;for(let r of e)if(r.path===""&&Yt(r)!==L){let i=new Z([],{});n[Yt(r)]=i}return n}function yO(e,t,n){return n.some(r=>yl(e,t,r)&&Yt(r)!==L)}function vO(e,t,n){return n.some(r=>yl(e,t,r))}function yl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wO(e,t,n,r){return Yt(e)!==r&&(r===L||!yl(t,n,e))?!1:np(t,e,n).matched}function IO(e,t,n){return t.length===0&&!e.children[n]}var qf=class{};function bO(e,t,n,r,i,o,s="emptyOnly"){return new Yf(e,t,n,r,i,s,o).recognize()}var CO=31,Yf=class{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new zf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new S(4002,`'${t.segmentGroup}'`)}recognize(){let t=hI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(O(n=>{let r=new us([],Object.freeze({}),Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,{},L,this.rootComponentType,null,{}),i=new ct(r,n),o=new pl("",i),s=Nx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,L).pipe(In(r=>{if(r instanceof gl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hs?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=Zf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(O(o=>o instanceof ct?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return se(i).pipe(bn(o=>{let s=r.children[o],a=Wx(n,o);return this.processSegmentGroup(t,a,s,o)}),hd((o,s)=>(o.push(...s),o)),Cn(null),dd(),ge(o=>{if(o===null)return Li(r);let s=FI(o);return EO(s),R(s)}))}processSegment(t,n,r,i,o,s){return se(n).pipe(bn(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(In(c=>{if(c instanceof hs)return R(null);throw c}))),Lt(a=>!!a),In(a=>{if(PI(a))return IO(r,i,o)?R(new qf):Li(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return wO(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Li(i):Li(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=np(n,i,o);if(!a)return Li(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>CO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(ge(h=>this.processSegment(t,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let s=pO(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(rt(a=>a.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(rt(({routes:c})=>{let l=r._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:h}=a,p=new us(u,h,Object.freeze(_({},this.urlTree.queryParams)),this.urlTree.fragment,TO(r),Yt(r),r.component??r._loadedComponent??null,r,SO(r)),{segmentGroup:m,slicedSegments:g}=hI(n,u,d,c);if(g.length===0&&m.hasChildren())return this.processChildren(l,c,m).pipe(O(D=>D===null?null:new ct(p,D)));if(c.length===0&&g.length===0)return R(new ct(p,[]));let w=Yt(r)===o;return this.processSegment(l,c,m,g,w?L:o,!0).pipe(O(D=>new ct(p,D instanceof ct?[D]:[])))}))):Li(n)))}getChildConfig(t,n,r){return n.children?R({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):uO(t,n,r,this.urlSerializer).pipe(ge(i=>i?this.configLoader.loadChildren(t,n).pipe(ve(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):fO(n))):R({routes:[],injector:t})}};function EO(e){e.sort((t,n)=>t.value.outlet===L?-1:n.value.outlet===L?1:t.value.outlet.localeCompare(n.value.outlet))}function DO(e){let t=e.value.routeConfig;return t&&t.path===""}function FI(e){let t=[],n=new Set;for(let r of e){if(!DO(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=FI(r.children);t.push(new ct(r.value,i))}return t.filter(r=>!n.has(r))}function TO(e){return e.data||{}}function SO(e){return e.resolve||{}}function MO(e,t,n,r,i,o){return ge(s=>bO(e,t,n,r,s.extractedUrl,i,o).pipe(O(({state:a,tree:c})=>k(_({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function AO(e,t){return ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of LI(c))s.add(l);let a=0;return se(s).pipe(bn(c=>o.has(c)?NO(c,r,e,t):(c.data=Zf(c,c.parent,e).resolve,R(void 0))),ve(()=>a++),ai(1),ge(c=>a===s.size?R(n):nt))})}function LI(e){let t=e.children.map(n=>LI(n)).flat();return[e,...t]}function NO(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!AI(i)&&(o[fs]=i.title),RO(o,e,t,r).pipe(O(s=>(e._resolvedData=s,e.data=Zf(e,e.parent,n).resolve,null)))}function RO(e,t,n,r){let i=Ef(e);if(i.length===0)return R({});let o={};return se(i).pipe(ge(s=>xO(e[s],t,n,r).pipe(Lt(),ve(a=>{o[s]=a}))),ai(1),ud(o),In(s=>PI(s)?nt:oi(s)))}function xO(e,t,n,r){let i=ps(t)??r,o=zi(e,i),s=o.resolve?o.resolve(t,n):sn(i,()=>o(t,n));return Fn(s)}function bf(e){return rt(t=>{let n=e(t);return n?se(n).pipe(O(()=>t)):R(t)})}var VI=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===L);return r}getResolvedTitleForRoute(n){return n.data[fs]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:()=>v(OO),providedIn:"root"})}}return e})(),OO=(()=>{class e extends VI{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(C(aI))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rp=new T("",{providedIn:"root",factory:()=>({})}),ip=new T(""),PO=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=v(Jh)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return R(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Fn(n.loadComponent()).pipe(O(jI),ve(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),En(()=>{this.componentLoaders.delete(n)})),i=new ri(r,()=>new Me).pipe(ni());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=kO(r,this.compiler,n,this.onLoadEndListener).pipe(En(()=>{this.childrenLoaders.delete(r)})),s=new ri(o,()=>new Me).pipe(ni());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function kO(e,t,n,r){return Fn(e.loadChildren()).pipe(O(jI),ge(i=>i instanceof Vo||Array.isArray(i)?R(i):se(t.compileModuleAsync(i))),O(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(ip,[],{optional:!0,self:!0}).flat()),{routes:s.map(tp),injector:o}}))}function FO(e){return e&&typeof e=="object"&&"default"in e}function jI(e){return FO(e)?e.default:e}var op=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:()=>v(LO),providedIn:"root"})}}return e})(),LO=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VO=new T("");var jO=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Me,this.transitionAbortSubject=new Me,this.configLoader=v(PO),this.environmentInjector=v(Ke),this.urlSerializer=v(Qf),this.rootContexts=v(_l),this.location=v(Wo),this.inputBindingEnabled=v(ep,{optional:!0})!==null,this.titleStrategy=v(VI),this.options=v(rp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=v(op),this.createViewTransition=v(VO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Of(i)),r=i=>this.events.next(new Pf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(k(_(_({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ae({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(je(o=>o.id!==0),O(o=>k(_({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),rt(o=>{let s=!1,a=!1;return R(o).pipe(rt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",lt.SupersededByNewNavigation),nt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?k(_({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Dr(c.id,this.urlSerializer.serialize(c.rawUrl),d,Mf.IgnoredSameUrlNavigation)),c.resolve(null),nt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return R(c).pipe(rt(d=>{let h=this.transitions?.getValue();return this.events.next(new ss(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?nt:Promise.resolve(d)}),MO(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ve(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=k(_({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new dl(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:h,source:p,restoredState:m,extras:g}=c,w=new ss(d,this.urlSerializer.serialize(h),p,m);this.events.next(w);let D=SI(this.rootComponentType).snapshot;return this.currentTransition=o=k(_({},c),{targetSnapshot:D,urlAfterRedirects:h,extras:k(_({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,R(o)}else{let d="";return this.events.next(new Dr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Mf.IgnoredByUrlHandlingStrategy)),c.resolve(null),nt}}),ve(c=>{let l=new Af(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),O(c=>(this.currentTransition=o=k(_({},c),{guards:Gx(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),nO(this.environmentInjector,c=>this.events.next(c)),ve(c=>{if(o.guardsResult=c.guardsResult,$i(c.guardsResult))throw RI(this.urlSerializer,c.guardsResult);let l=new Nf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),je(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",lt.GuardRejected),!1)),bf(c=>{if(c.guards.canActivateChecks.length)return R(c).pipe(ve(l=>{let u=new Rf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),rt(l=>{let u=!1;return R(l).pipe(AO(this.paramsInheritanceStrategy,this.environmentInjector),ve({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",lt.NoDataFromResolver)}}))}),ve(l=>{let u=new xf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),bf(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(ve(h=>{u.component=h}),O(()=>{})));for(let h of u.children)d.push(...l(h));return d};return si(l(c.targetSnapshot.root)).pipe(Cn(null),St(1))}),bf(()=>this.afterPreactivation()),rt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?se(u).pipe(O(()=>o)):R(o)}),O(c=>{let l=Vx(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=k(_({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ve(()=>{this.events.next(new cs)}),zx(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),St(1),ve({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Er(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Do(this.transitionAbortSubject.pipe(ve(c=>{throw c}))),En(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",lt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),In(c=>{if(a=!0,OI(c))this.events.next(new kn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Bx(c)?this.events.next(new ls(c.url)):o.resolve(!1);else{this.events.next(new as(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return nt}))}))}cancelNavigationTransition(n,r,i){let o=new kn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function UO(e){return e!==rs}var BO=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:()=>v($O),providedIn:"root"})}}return e})(),Kf=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},$O=(()=>{class e extends Kf{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(e)))(i||e)}})()}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),UI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:()=>v(HO),providedIn:"root"})}}return e})(),HO=(()=>{class e extends UI{constructor(){super(...arguments),this.location=v(Wo),this.urlSerializer=v(Qf),this.options=v(rp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=v(op),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=SI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ss)this.stateMemento=this.createStateMemento();else if(n instanceof Dr)this.rawUrlTree=r.initialUrl;else if(n instanceof dl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof cs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof kn&&(n.code===lt.GuardRejected||n.code===lt.NoDataFromResolver)?this.restoreHistory(r):n instanceof as?this.restoreHistory(r,!0):n instanceof Er&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=_(_({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=_(_({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(e)))(i||e)}})()}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ts=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ts||{});function WO(e,t){e.events.pipe(je(n=>n instanceof Er||n instanceof kn||n instanceof as||n instanceof Dr),O(n=>n instanceof Er||n instanceof Dr?ts.COMPLETE:(n instanceof kn?n.code===lt.Redirect||n.code===lt.SupersededByNewNavigation:!1)?ts.REDIRECTING:ts.FAILED),je(n=>n!==ts.REDIRECTING),St(1)).subscribe(()=>{t()})}function zO(e){throw e}var GO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ln=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=v(Uc),this.stateManager=v(UI),this.options=v(rp,{optional:!0})||{},this.pendingTasks=v(mr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=v(jO),this.urlSerializer=v(Qf),this.location=v(Wo),this.urlHandlingStrategy=v(op),this._events=new Me,this.errorHandler=this.options.errorHandler||zO,this.navigated=!1,this.routeReuseStrategy=v(BO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=v(ip,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!v(ep,{optional:!0}),this.eventsSubscription=new ue,this.isNgZoneEnabled=v(ne)instanceof ne&&ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof kn&&r.code!==lt.Redirect&&r.code!==lt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Er)this.navigated=!0;else if(r instanceof ls){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||UO(i.source)};this.scheduleNavigation(s,rs,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}KO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=_({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(tp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a){case"merge":u=_(_({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=CI(h)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return EI(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=$i(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,rs,null,r)}navigate(n,r={skipLocationChange:!1}){return YO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=_({},GO):r===!1?i=_({},qO):i=r,$i(n))return cI(this.currentUrlTree,n,i);let o=this.parseUrl(n);return cI(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});let u=this.pendingTasks.add();return WO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YO(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new S(4008,!1)}function KO(e){return!(e instanceof cs)&&!(e instanceof ls)}var QO=new T("");function BI(e,...t){return bi([{provide:ip,multi:!0,useValue:e},[],{provide:Hi,useFactory:ZO,deps:[Ln]},{provide:Bc,multi:!0,useFactory:XO},t.map(n=>n.\u0275providers)])}function ZO(e){return e.routerState.root}function JO(e,t){return{\u0275kind:e,\u0275providers:t}}function XO(){let e=v(Ti);return t=>{let n=e.get(xi);if(t!==n.components[0])return;let r=e.get(Ln),i=e.get(eP);e.get(tP)===1&&r.initialNavigation(),e.get(nP,null,j.Optional)?.setUpPreloading(),e.get(QO,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eP=new T("",{factory:()=>new Me}),tP=new T("",{providedIn:"root",factory:()=>1});var nP=new T("");function $I(){return JO(6,[{provide:Pi,useClass:Uw}])}var sp;try{sp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sp=!1}var _s=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Bw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||sp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(C(Ht))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var gs;function rP(){if(gs==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gs=!0}))}finally{gs=gs||!1}return gs}function ap(e){return rP()?e:!!e.capture}function WI(e){return e.composedPath?e.composedPath()[0]:e.target}function zI(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function cp(e){return Array.isArray(e)?e:[e]}function lp(e){return e instanceof _t?e.nativeElement:e}var qI=new Set,Tr,iP=(()=>{class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):sP}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&oP(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(r){return new(r||e)(C(_s),C($o,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oP(e,t){if(!qI.has(e))try{Tr||(Tr=document.createElement("style"),t&&Tr.setAttribute("nonce",t),Tr.setAttribute("type","text/css"),document.head.appendChild(Tr)),Tr.sheet&&(Tr.sheet.insertRule(`@media ${e} {body{ }}`,0),qI.add(e))}catch(n){console.error(n)}}function sP(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var KI=(()=>{class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return YI(cp(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=YI(cp(n)).map(s=>this._registerQuery(s).observable),o=si(i);return o=wn(o.pipe(St(1)),o.pipe(fd(1),ld(0))),o.pipe(O(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new G(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Eo(r),O(({matches:s})=>({query:n,matches:s})),Do(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static{this.\u0275fac=function(r){return new(r||e)(C(iP),C(ne))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YI(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}function JI(e){return e.buttons===0||e.detail===0}function XI(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var Sr=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Sr||{}),QI="cdk-high-contrast-black-on-white",ZI="cdk-high-contrast-white-on-black",up="cdk-high-contrast-active",eb=(()=>{class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=v(KI).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Sr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Sr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Sr.BLACK_ON_WHITE}return Sr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(up,QI,ZI),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Sr.BLACK_ON_WHITE?n.add(up,QI):r===Sr.WHITE_ON_BLACK&&n.add(up,ZI)}}static{this.\u0275fac=function(r){return new(r||e)(C(_s),C(De))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var dp=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=be({type:e})}static{this.\u0275inj=Ie({})}}return e})();function cP(){return!0}var lP=new T("mat-sanity-checks",{providedIn:"root",factory:cP}),pp=(()=>{class e{constructor(n,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return zI()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}static{this.\u0275fac=function(r){return new(r||e)(C(eb),C(lP,8),C(De))}}static{this.\u0275mod=be({type:e})}static{this.\u0275inj=Ie({imports:[dp,dp]})}}return e})();var wt=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(wt||{}),hp=class{constructor(t,n,r,i=!1){this._renderer=t,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=wt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},tb=ap({passive:!0,capture:!0}),fp=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=WI(t);n&&this._events.get(t.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(o=>o.handleEvent(t))})}}addHandler(t,n,r,i){let o=this._events.get(n);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,tb)})}removeHandler(t,n,r){let i=this._events.get(t);if(!i)return;let o=i.get(n);o&&(o.delete(r),o.size===0&&i.delete(n),i.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,tb)))}},nb={enterDuration:225,exitDuration:150},uP=800,rb=ap({passive:!0,capture:!0}),ib=["mousedown","touchstart"],ob=["mouseup","mouseleave","touchend","touchcancel"],sb=class e{static{this._eventManager=new fp}constructor(t,n,r,i){this._target=t,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=lp(r))}fadeInRipple(t,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=_(_({},nb),r.animation);r.centered&&(t=i.left+i.width/2,n=i.top+i.height/2);let s=r.radius||dP(t,n,i),a=t-i.left,c=n-i.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-s}px`,u.style.top=`${c-s}px`,u.style.height=`${s*2}px`,u.style.width=`${s*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,p=d.transitionDuration,m=h==="none"||p==="0s"||p==="0s, 0s"||i.width===0&&i.height===0,g=new hp(this,u,r,m);u.style.transform="scale3d(1, 1, 1)",g.state=wt.FADING_IN,r.persistent||(this._mostRecentTransientRipple=g);let w=null;return!m&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let D=()=>this._finishRippleTransition(g),ie=()=>this._destroyRipple(g);u.addEventListener("transitionend",D),u.addEventListener("transitioncancel",ie),w={onTransitionEnd:D,onTransitionCancel:ie}}),this._activeRipples.set(g,w),(m||!l)&&this._finishRippleTransition(g),g}fadeOutRipple(t){if(t.state===wt.FADING_OUT||t.state===wt.HIDDEN)return;let n=t.element,r=_(_({},nb),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=wt.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=lp(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,ib.forEach(r=>{e._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ob.forEach(n=>{this._triggerElement.addEventListener(n,this,rb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===wt.FADING_IN?this._startFadeOutTransition(t):t.state===wt.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=wt.VISIBLE,!r&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=wt.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel)),t.element.remove()}_onMousedown(t){let n=JI(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+uP;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!XI(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===wt.VISIBLE||t.config.terminateOnPointerUp&&t.state===wt.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(ib.forEach(n=>e._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(ob.forEach(n=>t.removeEventListener(n,this,rb)),this._pointerUpEventsRegistered=!1))}};function dP(e,t,n){let r=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),i=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(r*r+i*i)}var hP=["*"];var fP=new T("MAT_CARD_CONFIG"),ab=(()=>{class e{constructor(n){this.appearance=n?.appearance||"raised"}static{this.\u0275fac=function(r){return new(r||e)(M(fP,8))}}static{this.\u0275cmp=Ne({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,i){r&2&&un("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[Re],ngContentSelectors:hP,decls:1,vars:0,template:function(r,i){r&1&&(Qh(),Zh(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return e})();var cb=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ae({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}}return e})();var lb=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ae({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0})}}return e})();var ub=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=be({type:e})}static{this.\u0275inj=Ie({imports:[pp,at,pp]})}}return e})();var Ze=(()=>{class e{constructor(){let n=localStorage.getItem("currentLoggedUser");if(n)try{this.currentLoggedUser=JSON.parse(n)}catch{this.currentLoggedUser=void 0}}setLoggedUser(n){this.currentLoggedUser=n,n?localStorage.setItem("currentLoggedUser",JSON.stringify(n)):localStorage.removeItem("currentLoggedUser")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var db=()=>{};var gp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var y=function(e,t){if(!e)throw Mr(t)},Mr=function(e){return new Error("Firebase Database ("+gp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var pb=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},mP=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=e[n++];t[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=e[n++],s=e[n++],a=e[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let o=e[n++],s=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return t.join("")},wl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){let o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|l>>6,p=l&63;c||(p=64,s||(h=64)),r.push(n[u],n[d],n[h],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):mP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){let o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;let l=i<e.length?n[e.charAt(i)]:64;++i;let d=i<e.length?n[e.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new _p;let h=o<<2|a>>4;if(r.push(h),l!==64){let p=a<<4&240|l>>2;if(r.push(p),d!==64){let m=l<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},_p=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vp=function(e){let t=pb(e);return wl.encodeByteArray(t,!0)},vs=function(e){return vp(e).replace(/\./g,"")},qi=function(e){try{return wl.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function mb(e){return gb(void 0,e)}function gb(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!gP(n)||(e[n]=gb(e[n],t[n]));return e}function gP(e){return e!=="__proto__"}function _P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var yP=()=>_P().__FIREBASE_DEFAULTS__,vP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&qi(e[1]);return t&&JSON.parse(t)},wp=()=>{try{return db()||yP()||vP()||wP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ip=e=>wp()?.emulatorHosts?.[e],_b=e=>{let t=Ip(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},bp=()=>wp()?.config,Cp=e=>wp()?.[`_${e}`];var fn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}};function Vn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}function Il(e){return f(this,null,function*(){return(yield fetch(e,{credentials:"include"})).ok})}function yb(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=_({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[vs(JSON.stringify(n)),vs(JSON.stringify(s)),""].join(".")}var ys={};function IP(){let e={prod:[],emulator:[]};for(let t of Object.keys(ys))ys[t]?e.emulator.push(t):e.prod.push(t);return e}function bP(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}var hb=!1;function bl(e,t){if(typeof window>"u"||typeof document>"u"||!Vn(window.location.host)||ys[e]===t||ys[e]||hb)return;ys[e]=t;function n(h){return`__firebase__banner__${h}`}let r="__firebase__banner",o=IP().prod.length>0;function s(){let h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function l(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{hb=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){let h=bP(r),p=n("text"),m=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),w=document.getElementById(g)||document.createElement("a"),D=n("preprendIcon"),ie=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let $=h.element;a($),u(w,g);let Se=l();c(ie,D),$.append(ie,m,w,Se),document.body.appendChild($)}o?(m.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ws(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function vb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Cl(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function El(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wb(){let e=Ve();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Kt(){return gp.NODE_CLIENT===!0||gp.NODE_ADMIN===!0}function Dl(){try{return typeof indexedDB=="object"}catch{return!1}}function Tl(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}function Ib(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var CP="FirebaseError",We=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=CP,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}},ut=class{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){let r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?EP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new We(i,a,r)}};function EP(e,t){return e.replace(DP,(n,r)=>{let i=t[r];return i!=null?String(i):`<${r}?>`})}var DP=/\{\$([^}]+)}/g;function Yi(e){return JSON.parse(e)}function me(e){return JSON.stringify(e)}var bb=function(e){let t={},n={},r={},i="";try{let o=e.split(".");t=Yi(qi(o[0])||""),n=Yi(qi(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};var Cb=function(e){let t=bb(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Eb=function(e){let t=bb(e).claims;return typeof t=="object"&&t.admin===!0};function Ot(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ar(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Is(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function bs(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function It(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let o=e[i],s=t[i];if(fb(o)&&fb(s)){if(!It(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fb(e){return e!==null&&typeof e=="object"}function Nr(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ki(e){let t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Qi(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var vl=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}};function Db(e,t){let n=new yp(e,t);return n.subscribe.bind(n)}var yp=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TP(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=mp),i.error===void 0&&(i.error=mp),i.complete===void 0&&(i.complete=mp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function TP(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function mp(){}function Cs(e,t){return`${e} failed: ${t} argument `}var Tb=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,y(r<e.length,"Surrogate pair missing trail surrogate.");let s=e.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Es=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};var SP=1e3,MP=2,AP=4*60*60*1e3,NP=.5;function Ep(e,t=SP,n=MP){let r=t*Math.pow(n,e),i=Math.round(NP*r*(Math.random()-.5)*2);return Math.min(AP,r+i)}function _e(e){return e&&e._delegate?e._delegate:e}var Te=class{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Rr="[DEFAULT]";var Sl=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let r=new fn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){let n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xP(t))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Rr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return f(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Rr){return this.instances.has(t)}getOptions(t=Rr){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(t,n){let r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);let o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RP(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Rr){return this.component?this.component.multipleInstances?t:Rr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RP(e){return e===Rr?void 0:e}function xP(e){return e.instantiationMode==="EAGER"}var Ds=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Sl(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var OP=[],X=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(X||{}),PP={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},kP=X.INFO,FP={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},LP=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=FP[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Qt=class{constructor(t){this.name=t,this._logLevel=kP,this._logHandler=LP,this._userLogHandler=null,OP.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in X))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?PP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...t),this._logHandler(this,X.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...t),this._logHandler(this,X.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,X.INFO,...t),this._logHandler(this,X.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,X.WARN,...t),this._logHandler(this,X.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...t),this._logHandler(this,X.ERROR,...t)}};var VP=(e,t)=>t.some(n=>e instanceof n),Sb,Mb;function jP(){return Sb||(Sb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UP(){return Mb||(Mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ab=new WeakMap,Tp=new WeakMap,Nb=new WeakMap,Dp=new WeakMap,Mp=new WeakMap;function BP(e){let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Zt(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Ab.set(n,e)}).catch(()=>{}),Mp.set(t,e),t}function $P(e){if(Tp.has(e))return;let t=new Promise((n,r)=>{let i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Tp.set(e,t)}var Sp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Tp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Nb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rb(e){Sp=e(Sp)}function HP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let r=e.call(Ml(this),t,...n);return Nb.set(r,t.sort?t.sort():[t]),Zt(r)}:UP().includes(e)?function(...t){return e.apply(Ml(this),t),Zt(Ab.get(this))}:function(...t){return Zt(e.apply(Ml(this),t))}}function WP(e){return typeof e=="function"?HP(e):(e instanceof IDBTransaction&&$P(e),VP(e,jP())?new Proxy(e,Sp):e)}function Zt(e){if(e instanceof IDBRequest)return BP(e);if(Dp.has(e))return Dp.get(e);let t=WP(e);return t!==e&&(Dp.set(e,t),Mp.set(t,e)),t}var Ml=e=>Mp.get(e);function Al(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(e,t),a=Zt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Zt(s.result),c.oldVersion,c.newVersion,Zt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var zP=["get","getKey","getAll","getAllKeys","count"],GP=["put","add","delete","clear"],Ap=new Map;function xb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ap.get(t))return Ap.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=GP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zP.includes(n)))return;let o=function(s,...a){return f(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Ap.set(t,o),o}Rb(e=>k(_({},e),{get:(t,n,r)=>xb(t,n)||e.get(t,n,r),has:(t,n)=>!!xb(t,n)||e.has(t,n)}));var Rp=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qP(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function qP(e){return e.getComponent()?.type==="VERSION"}var xp="@firebase/app",Ob="0.14.1";var pn=new Qt("@firebase/app"),YP="@firebase/app-compat",KP="@firebase/analytics-compat",QP="@firebase/analytics",ZP="@firebase/app-check-compat",JP="@firebase/app-check",XP="@firebase/auth",ek="@firebase/auth-compat",tk="@firebase/database",nk="@firebase/data-connect",rk="@firebase/database-compat",ik="@firebase/functions",ok="@firebase/functions-compat",sk="@firebase/installations",ak="@firebase/installations-compat",ck="@firebase/messaging",lk="@firebase/messaging-compat",uk="@firebase/performance",dk="@firebase/performance-compat",hk="@firebase/remote-config",fk="@firebase/remote-config-compat",pk="@firebase/storage",mk="@firebase/storage-compat",gk="@firebase/firestore",_k="@firebase/ai",yk="@firebase/firestore-compat",vk="firebase",wk="12.1.0";var Op="[DEFAULT]",Ik={[xp]:"fire-core",[YP]:"fire-core-compat",[QP]:"fire-analytics",[KP]:"fire-analytics-compat",[JP]:"fire-app-check",[ZP]:"fire-app-check-compat",[XP]:"fire-auth",[ek]:"fire-auth-compat",[tk]:"fire-rtdb",[nk]:"fire-data-connect",[rk]:"fire-rtdb-compat",[ik]:"fire-fn",[ok]:"fire-fn-compat",[sk]:"fire-iid",[ak]:"fire-iid-compat",[ck]:"fire-fcm",[lk]:"fire-fcm-compat",[uk]:"fire-perf",[dk]:"fire-perf-compat",[hk]:"fire-rc",[fk]:"fire-rc-compat",[pk]:"fire-gcs",[mk]:"fire-gcs-compat",[gk]:"fire-fst",[yk]:"fire-fst-compat",[_k]:"fire-vertex","fire-js":"fire-js",[vk]:"fire-js-all"};var Nl=new Map,bk=new Map,Pp=new Map;function Pb(e,t){try{e.container.addComponent(t)}catch(n){pn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Je(e){let t=e.name;if(Pp.has(t))return pn.debug(`There were multiple attempts to register component ${t}.`),!1;Pp.set(t,e);for(let n of Nl.values())Pb(n,e);for(let n of bk.values())Pb(n,e);return!0}function Pt(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function dt(e){return e==null?!1:e.settings!==void 0}var Ck={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new ut("app","Firebase",Ck);var kp=class{constructor(t,n,r){this._isDeleted=!1,this._options=_({},t),this._config=_({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Te("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}};var Un=wk;function Ss(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let r=_({name:Op,automaticDataCollectionEnabled:!0},t),i=r.name;if(typeof i!="string"||!i)throw jn.create("bad-app-name",{appName:String(i)});if(n||(n=bp()),!n)throw jn.create("no-options");let o=Nl.get(i);if(o){if(It(n,o.options)&&It(r,o.config))return o;throw jn.create("duplicate-app",{appName:i})}let s=new Ds(i);for(let c of Pp.values())s.addComponent(c);let a=new kp(n,r,s);return Nl.set(i,a),a}function xr(e=Op){let t=Nl.get(e);if(!t&&e===Op&&bp())return Ss();if(!t)throw jn.create("no-app",{appName:e});return t}function Oe(e,t,n){let r=Ik[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){let s=[`Unable to register library "${r}" with version "${t}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pn.warn(s.join(" "));return}Je(new Te(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var Ek="firebase-heartbeat-database",Dk=1,Ts="firebase-heartbeat-store",Np=null;function Vb(){return Np||(Np=Al(Ek,Dk,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ts)}catch(n){console.warn(n)}}}}).catch(e=>{throw jn.create("idb-open",{originalErrorMessage:e.message})})),Np}function Tk(e){return f(this,null,function*(){try{let n=(yield Vb()).transaction(Ts),r=yield n.objectStore(Ts).get(jb(e));return yield n.done,r}catch(t){if(t instanceof We)pn.warn(t.message);else{let n=jn.create("idb-get",{originalErrorMessage:t?.message});pn.warn(n.message)}}})}function kb(e,t){return f(this,null,function*(){try{let r=(yield Vb()).transaction(Ts,"readwrite");yield r.objectStore(Ts).put(t,jb(e)),yield r.done}catch(n){if(n instanceof We)pn.warn(n.message);else{let r=jn.create("idb-set",{originalErrorMessage:n?.message});pn.warn(r.message)}}})}function jb(e){return`${e.name}!${e.options.appId}`}var Sk=1024,Mk=30,Fp=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Lp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){try{let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Mk){let i=Nk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pn.warn(t)}})}getHeartbeatsHeader(){return f(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Fb(),{heartbeatsToSend:n,unsentEntries:r}=Ak(this._heartbeatsCache.heartbeats),i=vs(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return pn.warn(t),""}})}};function Fb(){return new Date().toISOString().substring(0,10)}function Ak(e,t=Sk){let n=[],r=e.slice();for(let i of e){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Lb(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lb(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Lp=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Dl()?Tl().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Tk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return kb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let r=yield this.read();return kb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function Lb(e){return vs(JSON.stringify({version:2,heartbeats:e})).length}function Nk(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function Rk(e){Je(new Te("platform-logger",t=>new Rp(t),"PRIVATE")),Je(new Te("heartbeat",t=>new Fp(t),"PRIVATE")),Oe(xp,Ob,e),Oe(xp,Ob,"esm2020"),Oe("fire-js","")}Rk("");var xk="firebase",Ok="12.1.0";Oe(xk,Ok,"app");var $b="@firebase/installations",Bp="0.6.19";var Hb=1e4,Wb=`w:${Bp}`,zb="FIS_v2",Pk="https://firebaseinstallations.googleapis.com/v1",kk=60*60*1e3,Fk="installations",Lk="Installations";var Vk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pr=new ut(Fk,Lk,Vk);function Gb(e){return e instanceof We&&e.code.includes("request-failed")}function qb({projectId:e}){return`${Pk}/projects/${e}/installations`}function Yb(e){return{token:e.token,requestStatus:2,expiresIn:Uk(e.expiresIn),creationTime:Date.now()}}function Kb(e,t){return f(this,null,function*(){let r=(yield t.json()).error;return Pr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function Qb({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function jk(e,{refreshToken:t}){let n=Qb(e);return n.append("Authorization",Bk(t)),n}function Zb(e){return f(this,null,function*(){let t=yield e();return t.status>=500&&t.status<600?e():t})}function Uk(e){return Number(e.replace("s","000"))}function Bk(e){return`${zb} ${e}`}function $k(r,i){return f(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let o=qb(e),s=Qb(e),a=t.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={fid:n,authVersion:zb,appId:e.appId,sdkVersion:Wb},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Zb(()=>fetch(o,l));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:Yb(d.authToken)}}else throw yield Kb("Create Installation",u)})}function Jb(e){return new Promise(t=>{setTimeout(t,e)})}function Hk(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}var Wk=/^[cdef][\w-]{21}$/,Up="";function zk(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let n=Gk(e);return Wk.test(n)?n:Up}catch{return Up}}function Gk(e){return Hk(e).substr(0,22)}function xl(e){return`${e.appName}!${e.appId}`}var Xb=new Map;function eC(e,t){let n=xl(e);tC(n,t),qk(n,t)}function tC(e,t){let n=Xb.get(e);if(n)for(let r of n)r(t)}function qk(e,t){let n=Yk();n&&n.postMessage({key:e,fid:t}),Kk()}var Or=null;function Yk(){return!Or&&"BroadcastChannel"in self&&(Or=new BroadcastChannel("[Firebase] FID Change"),Or.onmessage=e=>{tC(e.data.key,e.data.fid)}),Or}function Kk(){Xb.size===0&&Or&&(Or.close(),Or=null)}var Qk="firebase-installations-database",Zk=1,kr="firebase-installations-store",Vp=null;function $p(){return Vp||(Vp=Al(Qk,Zk,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(kr)}}})),Vp}function Rl(e,t){return f(this,null,function*(){let n=xl(e),i=(yield $p()).transaction(kr,"readwrite"),o=i.objectStore(kr),s=yield o.get(n);return yield o.put(t,n),yield i.done,(!s||s.fid!==t.fid)&&eC(e,t.fid),t})}function nC(e){return f(this,null,function*(){let t=xl(e),r=(yield $p()).transaction(kr,"readwrite");yield r.objectStore(kr).delete(t),yield r.done})}function Ol(e,t){return f(this,null,function*(){let n=xl(e),i=(yield $p()).transaction(kr,"readwrite"),o=i.objectStore(kr),s=yield o.get(n),a=t(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&eC(e,a.fid),a})}function Hp(e){return f(this,null,function*(){let t,n=yield Ol(e.appConfig,r=>{let i=Jk(r),o=Xk(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===Up?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})}function Jk(e){let t=e||{fid:zk(),registrationStatus:0};return rC(t)}function Xk(e,t){if(t.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Pr.create("app-offline"));return{installationEntry:t,registrationPromise:i}}let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=eF(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:tF(e)}:{installationEntry:t}}function eF(e,t){return f(this,null,function*(){try{let n=yield $k(e,t);return Rl(e.appConfig,n)}catch(n){throw Gb(n)&&n.customData.serverCode===409?yield nC(e.appConfig):yield Rl(e.appConfig,{fid:t.fid,registrationStatus:0}),n}})}function tF(e){return f(this,null,function*(){let t=yield Ub(e.appConfig);for(;t.registrationStatus===1;)yield Jb(100),t=yield Ub(e.appConfig);if(t.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Hp(e);return r||n}return t})}function Ub(e){return Ol(e,t=>{if(!t)throw Pr.create("installation-not-found");return rC(t)})}function rC(e){return nF(e)?{fid:e.fid,registrationStatus:0}:e}function nF(e){return e.registrationStatus===1&&e.registrationTime+Hb<Date.now()}function rF(r,i){return f(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},n){let o=iF(e,n),s=jk(e,n),a=t.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}let c={installation:{sdkVersion:Wb,appId:e.appId}},l={method:"POST",headers:s,body:JSON.stringify(c)},u=yield Zb(()=>fetch(o,l));if(u.ok){let d=yield u.json();return Yb(d)}else throw yield Kb("Generate Auth Token",u)})}function iF(e,{fid:t}){return`${qb(e)}/${t}/authTokens:generate`}function Wp(e,t=!1){return f(this,null,function*(){let n,r=yield Ol(e.appConfig,o=>{if(!iC(o))throw Pr.create("not-registered");let s=o.authToken;if(!t&&aF(s))return o;if(s.requestStatus===1)return n=oF(e,t),o;{if(!navigator.onLine)throw Pr.create("app-offline");let a=lF(o);return n=sF(e,a),a}});return n?yield n:r.authToken})}function oF(e,t){return f(this,null,function*(){let n=yield Bb(e.appConfig);for(;n.authToken.requestStatus===1;)yield Jb(100),n=yield Bb(e.appConfig);let r=n.authToken;return r.requestStatus===0?Wp(e,t):r})}function Bb(e){return Ol(e,t=>{if(!iC(t))throw Pr.create("not-registered");let n=t.authToken;return uF(n)?k(_({},t),{authToken:{requestStatus:0}}):t})}function sF(e,t){return f(this,null,function*(){try{let n=yield rF(e,t),r=k(_({},t),{authToken:n});return yield Rl(e.appConfig,r),n}catch(n){if(Gb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield nC(e.appConfig);else{let r=k(_({},t),{authToken:{requestStatus:0}});yield Rl(e.appConfig,r)}throw n}})}function iC(e){return e!==void 0&&e.registrationStatus===2}function aF(e){return e.requestStatus===2&&!cF(e)}function cF(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+kk}function lF(e){let t={requestStatus:1,requestTime:Date.now()};return k(_({},e),{authToken:t})}function uF(e){return e.requestStatus===1&&e.requestTime+Hb<Date.now()}function dF(e){return f(this,null,function*(){let t=e,{installationEntry:n,registrationPromise:r}=yield Hp(t);return r?r.catch(console.error):Wp(t).catch(console.error),n.fid})}function hF(e,t=!1){return f(this,null,function*(){let n=e;return yield fF(n),(yield Wp(n,t)).token})}function fF(e){return f(this,null,function*(){let{registrationPromise:t}=yield Hp(e);t&&(yield t)})}function pF(e){if(!e||!e.options)throw jp("App Configuration");if(!e.name)throw jp("App Name");let t=["projectId","apiKey","appId"];for(let n of t)if(!e.options[n])throw jp(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function jp(e){return Pr.create("missing-app-config-values",{valueName:e})}var oC="installations",mF="installations-internal",gF=e=>{let t=e.getProvider("app").getImmediate(),n=pF(t),r=Pt(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},_F=e=>{let t=e.getProvider("app").getImmediate(),n=Pt(t,oC).getImmediate();return{getId:()=>dF(n),getToken:i=>hF(n,i)}};function yF(){Je(new Te(oC,gF,"PUBLIC")),Je(new Te(mF,_F,"PRIVATE"))}yF();Oe($b,Bp);Oe($b,Bp,"esm2020");var Pl="analytics",vF="firebase_id",wF="origin",IF=60*1e3,bF="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zp="https://www.googletagmanager.com/gtag/js";var Xe=new Qt("@firebase/analytics");var CF={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ht=new ut("analytics","Analytics",CF);function EF(e){if(!e.startsWith(Zp)){let t=ht.create("invalid-gtag-resource",{gtagURL:e});return Xe.warn(t.message),""}return e}function hC(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function DF(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function TF(e,t){let n=DF("firebase-js-sdk-policy",{createScriptURL:EF}),r=document.createElement("script"),i=`${Zp}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function SF(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function MF(e,t,n,r,i,o){return f(this,null,function*(){let s=r[i];try{if(s)yield t[s];else{let c=(yield hC(n)).find(l=>l.measurementId===i);c&&(yield t[c.appId])}}catch(a){Xe.error(a)}e("config",i,o)})}function AF(e,t,n,r,i){return f(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield hC(n);for(let c of s){let l=a.find(d=>d.measurementId===c),u=l&&t[l.appId];if(u)o.push(u);else{o=[];break}}}o.length===0&&(o=Object.values(t)),yield Promise.all(o),e("event",r,i||{})}catch(o){Xe.error(o)}})}function NF(e,t,n,r){function i(o,...s){return f(this,null,function*(){try{if(o==="event"){let[a,c]=s;yield AF(e,t,n,a,c)}else if(o==="config"){let[a,c]=s;yield MF(e,t,n,r,a,c)}else if(o==="consent"){let[a,c]=s;e("consent",a,c)}else if(o==="get"){let[a,c,l]=s;e("get",a,c,l)}else if(o==="set"){let[a]=s;e("set",a)}else e(o,...s)}catch(a){Xe.error(a)}})}return i}function RF(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=NF(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}function xF(e){let t=window.document.getElementsByTagName("script");for(let n of Object.values(t))if(n.src&&n.src.includes(Zp)&&n.src.includes(e))return n;return null}var OF=30,PF=1e3,Gp=class{constructor(t={},n=PF){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}},fC=new Gp;function kF(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function FF(e){return f(this,null,function*(){let{appId:t,apiKey:n}=e,r={method:"GET",headers:kF(n)},i=bF.replace("{app-id}",t),o=yield fetch(i,r);if(o.status!==200&&o.status!==304){let s="";try{let a=yield o.json();a.error?.message&&(s=a.error.message)}catch{}throw ht.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()})}function LF(r){return f(this,arguments,function*(e,t=fC,n){let{appId:i,apiKey:o,measurementId:s}=e.options;if(!i)throw ht.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw ht.create("no-api-key")}let a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new qp;return setTimeout(()=>f(this,null,function*(){c.abort()}),n!==void 0?n:IF),pC({appId:i,apiKey:o,measurementId:s},a,c,t)})}function pC(o,s,a){return f(this,arguments,function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=fC){let{appId:c,measurementId:l}=e;try{yield VF(r,t)}catch(u){if(l)return Xe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:c,measurementId:l};throw u}try{let u=yield FF(e);return i.deleteThrottleMetadata(c),u}catch(u){let d=u;if(!jF(d)){if(i.deleteThrottleMetadata(c),l)return Xe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:l};throw u}let h=Number(d?.customData?.httpStatus)===503?Ep(n,i.intervalMillis,OF):Ep(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(c,p),Xe.debug(`Calling attemptFetch again in ${h} millis`),pC(e,p,r,i)}})}function VF(e,t){return new Promise((n,r)=>{let i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(ht.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function jF(e){if(!(e instanceof We)||!e.customData)return!1;let t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var qp=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};var Yp;function UF(e,t,n,r,i){return f(this,null,function*(){if(i&&i.global){e("event",n,r);return}else{let o=yield t,s=k(_({},r),{send_to:o});e("event",n,s)}})}var Kp;function BF(e){Kp=e}function $F(e){Yp=e}function HF(){return f(this,null,function*(){if(Dl())try{yield Tl()}catch(e){return Xe.warn(ht.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return Xe.warn(ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function WF(e,t,n,r,i,o,s){return f(this,null,function*(){let a=LF(e);a.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Xe.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Xe.error(h)),t.push(a);let c=HF().then(h=>{if(h)return r.getId()}),[l,u]=yield Promise.all([a,c]);xF(o)||TF(o,l.measurementId),Kp&&(i("consent","default",Kp),BF(void 0)),i("js",new Date);let d=s?.config??{};return d[wF]="firebase",d.update=!0,u!=null&&(d[vF]=u),i("config",l.measurementId,d),Yp&&(i("set",Yp),$F(void 0)),l.measurementId})}var Qp=class{constructor(t){this.app=t}_delete(){return delete Ms[this.app.options.appId],Promise.resolve()}},Ms={},sC=[],aC={},zp="dataLayer",zF="gtag",cC,mC,lC=!1;function GF(){let e=[];if(Cl()&&e.push("This is a browser extension environment."),Ib()||e.push("Cookies are not available."),e.length>0){let t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ht.create("invalid-analytics-context",{errorInfo:t});Xe.warn(n.message)}}function qF(e,t,n){GF();let r=e.options.appId;if(!r)throw ht.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Xe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ht.create("no-api-key");if(Ms[r]!=null)throw ht.create("already-exists",{id:r});if(!lC){SF(zp);let{wrappedGtag:o,gtagCore:s}=RF(Ms,sC,aC,zp,zF);mC=o,cC=s,lC=!0}return Ms[r]=WF(e,sC,aC,t,cC,zp,n),new Qp(e)}function gC(e=xr()){e=_e(e);let t=Pt(e,Pl);return t.isInitialized()?t.getImmediate():YF(e)}function YF(e,t={}){let n=Pt(e,Pl);if(n.isInitialized()){let i=n.getImmediate();if(It(t,n.getOptions()))return i;throw ht.create("already-initialized")}return n.initialize({options:t})}function KF(e,t,n,r){e=_e(e),UF(mC,Ms[e.app.options.appId],t,n,r).catch(i=>Xe.error(i))}var uC="@firebase/analytics",dC="0.10.18";function QF(){Je(new Te(Pl,(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return qF(r,i,n)},"PUBLIC")),Je(new Te("analytics-internal",e,"PRIVATE")),Oe(uC,dC),Oe(uC,dC,"esm2020");function e(t){try{let n=t.getProvider(Pl).getImmediate();return{logEvent:(r,i,o)=>KF(n,r,i,o)}}catch(n){throw ht.create("interop-component-reg-failed",{reason:n})}}}QF();function OC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var PC=OC,kC=new ut("auth","Firebase",OC());var Ul=new Qt("@firebase/auth");function ZF(e,...t){Ul.logLevel<=X.WARN&&Ul.warn(`Auth (${Un}): ${e}`,...t)}function Fl(e,...t){Ul.logLevel<=X.ERROR&&Ul.error(`Auth (${Un}): ${e}`,...t)}function Xt(e,...t){throw Im(e,...t)}function Fr(e,...t){return Im(e,...t)}function FC(e,t,n){let r=k(_({},PC()),{[t]:n});return new ut("auth","Firebase",r).create(t,{appName:e.name})}function Hn(e){return FC(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(e,...t){if(typeof e!="string"){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return kC.create(e,...t)}function A(e,t,...n){if(!e)throw Im(t,...n)}function mn(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Fl(t),new Error(t)}function Wn(e,t){e||mn(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function JF(){return _C()==="http:"||_C()==="https:"}function _C(){return typeof self<"u"&&self.location?.protocol||null}function XF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JF()||Cl()||"connection"in navigator)?navigator.onLine:!0}function e1(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Lr=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,Wn(n>t,"Short delay should be less than long delay!"),this.isMobile=ws()||El()}get(){return XF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bm(e,t){Wn(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var Bl=class{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var t1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var n1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],r1=new Lr(3e4,6e4);function jr(e,t){return e.tenantId&&!t.tenantId?k(_({},t),{tenantId:e.tenantId}):t}function zn(o,s,a,c){return f(this,arguments,function*(e,t,n,r,i={}){return LC(e,i,()=>f(this,null,function*(){let l={},u={};r&&(t==="GET"?u=r:l={body:JSON.stringify(r)});let d=Nr(_({key:e.config.apiKey},u)).slice(1),h=yield e._getAdditionalHeaders();h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode);let p=_({method:t,headers:h},l);return vb()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Vn(e.emulatorConfig.host)&&(p.credentials="include"),Bl.fetch()(yield VC(e,e.config.apiHost,n,d),p)}))})}function LC(e,t,n){return f(this,null,function*(){e._canInitEmulator=!1;let r=_(_({},t1),t);try{let i=new nm(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw kl(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kl(e,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw kl(e,"email-already-in-use",s);if(c==="USER_DISABLED")throw kl(e,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw FC(e,u,l);Xt(e,u)}}catch(i){if(i instanceof We)throw i;Xt(e,"network-request-failed",{message:String(i)})}})}function Jl(o,s,a,c){return f(this,arguments,function*(e,t,n,r,i={}){let l=yield zn(e,t,n,r,i);return"mfaPendingCredential"in l&&Xt(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function VC(e,t,n,r){return f(this,null,function*(){let i=`${t}${n}?${r}`,o=e,s=o.config.emulator?bm(e.config,i):`${e.config.apiScheme}://${i}`;return n1.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function i1(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var nm=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fr(this.auth,"network-request-failed")),r1.get())})}};function kl(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Fr(e,t,r);return i.customData._tokenResponse=n,i}function yC(e){return e!==void 0&&e.enterprise!==void 0}var rm=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return i1(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function o1(e,t){return f(this,null,function*(){return zn(e,"GET","/v2/recaptchaConfig",jr(e,t))})}function s1(e,t){return f(this,null,function*(){return zn(e,"POST","/v1/accounts:delete",t)})}function $l(e,t){return f(this,null,function*(){return zn(e,"POST","/v1/accounts:lookup",t)})}function Ns(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function jC(e,t=!1){return f(this,null,function*(){let n=_e(e),r=yield n.getIdToken(t),i=Cm(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ns(Jp(i.auth_time)),issuedAtTime:Ns(Jp(i.iat)),expirationTime:Ns(Jp(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Jp(e){return Number(e)*1e3}function Cm(e){let[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Fl("JWT malformed, contained fewer than 3 sections"),null;try{let i=qi(n);return i?JSON.parse(i):(Fl("Failed to decode base64 JWT payload"),null)}catch(i){return Fl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vC(e){let t=Cm(e);return A(t,"internal-error"),A(typeof t.exp<"u","internal-error"),A(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function xs(e,t,n=!1){return f(this,null,function*(){if(n)return t;try{return yield t}catch(r){throw r instanceof We&&a1(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})}function a1({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var im=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Os=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ns(this.lastLoginAt),this.creationTime=Ns(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Hl(e){return f(this,null,function*(){let t=e.auth,n=yield e.getIdToken(),r=yield xs(e,$l(t,{idToken:n}));A(r?.users.length,t,"internal-error");let i=r.users[0];e._notifyReloadListener(i);let o=i.providerUserInfo?.length?BC(i.providerUserInfo):[],s=c1(e.providerData,o),a=e.isAnonymous,c=!(e.email&&i.passwordHash)&&!s?.length,l=a?c:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Os(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(e,u)})}function UC(e){return f(this,null,function*(){let t=_e(e);yield Hl(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function c1(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function BC(e){return e.map(r=>{var i=r,{providerId:t}=i,n=_a(i,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function l1(e,t){return f(this,null,function*(){let n=yield LC(e,{},()=>f(this,null,function*(){let r=Nr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=yield VC(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return e.emulatorConfig&&Vn(e.emulatorConfig.host)&&(c.credentials="include"),Bl.fetch()(s,c)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function u1(e,t){return f(this,null,function*(){return zn(e,"POST","/v2/accounts:revokeToken",jr(e,t))})}var Rs=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){A(t.idToken,"internal-error"),A(typeof t.idToken<"u","internal-error"),A(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):vC(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){A(t.length!==0,"internal-error");let n=vC(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(A(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield l1(t,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new e;return r&&(A(typeof r=="string","internal-error",{appName:t}),s.refreshToken=r),i&&(A(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),o&&(A(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return mn("not implemented")}};function Bn(e,t){A(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var $n=class e{constructor(o){var s=o,{uid:t,auth:n,stsTokenManager:r}=s,i=_a(s,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new im(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Os(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(t){return f(this,null,function*(){let n=yield xs(this,this.stsTokenManager.getToken(this.auth,t));return A(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return jC(this,t)}reload(){return UC(this)}_assign(t){this!==t&&(A(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>_({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(k(_({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return f(this,null,function*(){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&(yield Hl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(dt(this.auth.app))return Promise.reject(Hn(this.auth));let t=yield this.getIdToken();return yield xs(this,s1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return k(_({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>_({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:h,isAnonymous:p,providerData:m,stsTokenManager:g}=n;A(d&&g,t,"internal-error");let w=Rs.fromJSON(this.name,g);A(typeof d=="string",t,"internal-error"),Bn(r,t.name),Bn(i,t.name),A(typeof h=="boolean",t,"internal-error"),A(typeof p=="boolean",t,"internal-error"),Bn(o,t.name),Bn(s,t.name),Bn(a,t.name),Bn(c,t.name),Bn(l,t.name),Bn(u,t.name);let D=new e({uid:d,auth:t,email:i,emailVerified:h,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:w,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(D.providerData=m.map(ie=>_({},ie))),c&&(D._redirectEventId=c),D}static _fromIdTokenResponse(t,n,r=!1){return f(this,null,function*(){let i=new Rs;i.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield Hl(o),o})}static _fromGetAccountInfoResponse(t,n,r){return f(this,null,function*(){let i=n.users[0];A(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?BC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Rs;a.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Os(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var wC=new Map;function gn(e){Wn(e instanceof Function,"Expected a class definition");let t=wC.get(e);return t?(Wn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wC.set(e,t),t)}var d1=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})(),om=d1;function Ll(e,t,n){return`firebase:${e}:${t}:${n}`}var Wl=class e{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Ll(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ll("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return f(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let n=yield $l(this.auth,{idToken:t}).catch(()=>{});return n?$n._fromGetAccountInfoResponse(this.auth,n,t):null}return $n._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return f(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new e(gn(om),t,r);let i=(yield Promise.all(n.map(l=>f(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||gn(om),s=Ll(r,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d;if(typeof u=="string"){let h=yield $l(t,{idToken:u}).catch(()=>{});if(!h)break;d=yield $n._fromGetAccountInfoResponse(t,h,u)}else d=$n._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new e(o,t,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>f(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new e(o,t,r))})}};function IC(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($C(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qC(t))return"Blackberry";if(YC(t))return"Webos";if(HC(t))return"Safari";if((t.includes("chrome/")||WC(t))&&!t.includes("edge/"))return"Chrome";if(GC(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function $C(e=Ve()){return/firefox\//i.test(e)}function HC(e=Ve()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WC(e=Ve()){return/crios\//i.test(e)}function zC(e=Ve()){return/iemobile/i.test(e)}function GC(e=Ve()){return/android/i.test(e)}function qC(e=Ve()){return/blackberry/i.test(e)}function YC(e=Ve()){return/webos/i.test(e)}function Em(e=Ve()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function h1(e=Ve()){return Em(e)&&!!window.navigator?.standalone}function f1(){return wb()&&document.documentMode===10}function KC(e=Ve()){return Em(e)||GC(e)||YC(e)||qC(e)||/windows phone/i.test(e)||zC(e)}function QC(e,t=[]){let n;switch(e){case"Browser":n=IC(Ve());break;case"Worker":n=`${IC(Ve())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Un}/${r}`}var sm=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let r=o=>new Promise((s,a)=>{try{let c=t(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){return f(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let r of this.queue)yield r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function p1(n){return f(this,arguments,function*(e,t={}){return zn(e,"GET","/v2/passwordPolicy",jr(e,t))})}var m1=6,am=class{constructor(t){let n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??m1,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){let n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var cm=class{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zl(this),this.idTokenSubscription=new zl(this),this.beforeStateQueue=new sm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=gn(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){if(!this._deleted&&(this.persistenceManager=yield Wl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return f(this,null,function*(){try{let n=yield $l(this,{idToken:t}),r=yield $n._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return f(this,null,function*(){if(dt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=this.redirectUser?._redirectEventId,s=r?._redirectEventId,a=yield this.tryRedirectSignIn(t);(!o||o===s)&&a?.user&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return f(this,null,function*(){try{yield Hl(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=e1()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return f(this,null,function*(){if(dt(this.app))return Promise.reject(Hn(this));let n=t?_e(t):null;return n&&A(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return f(this,null,function*(){if(!this._deleted)return t&&A(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return dt(this.app)?Promise.reject(Hn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return dt(this.app)?Promise.reject(Hn(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(gn(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let t=yield p1(this),n=new am(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ut("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let r=this.onAuthStateChanged(()=>{r(),t()},n)}})}revokeAccessToken(t){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield u1(this,r)}})}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(t,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&gn(t)||this._popupRedirectResolver;A(n,this,"argument-error"),this.redirectPersistenceManager=yield Wl.create(this,[gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return f(this,null,function*(){return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null})}_persistUserIfCurrent(t){return f(this,null,function*(){if(t===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(A(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=t.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(t){return f(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=yield this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return f(this,null,function*(){if(dt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ZF(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Zi(e){return _e(e)}var zl=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Db(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Xl={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g1(e){Xl=e}function ZC(e){return Xl.loadJS(e)}function _1(){return Xl.recaptchaEnterpriseScript}function y1(){return Xl.gapiScript}function JC(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var lm=class{constructor(){this.enterprise=new um}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}},um=class{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}};var v1="recaptcha-enterprise",XC="NO_RECAPTCHA",dm=class{constructor(t){this.type=v1,this.auth=Zi(t)}verify(t="verify",n=!1){return f(this,null,function*(){function r(o){return f(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>f(this,null,function*(){o1(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new rm(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;yC(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:t}).then(l=>{s(l)}).catch(()=>{s(XC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lm().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&yC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=_1();c.length!==0&&(c+=a),ZC(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function As(e,t,n,r=!1,i=!1){return f(this,null,function*(){let o=new dm(e),s;if(i)s=XC;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=_({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function bC(e,t,n,r,i){return f(this,null,function*(){if(i==="EMAIL_PASSWORD_PROVIDER")if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield As(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(o=>f(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield As(e,t,n,n==="getOobCode");return r(e,s)}else return Promise.reject(o)}));else if(i==="PHONE_PROVIDER")if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let o=yield As(e,t,n);return r(e,o).catch(s=>f(this,null,function*(){if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let a=yield As(e,t,n,!1,!0);return r(e,a)}return Promise.reject(s)}))}else{let o=yield As(e,t,n,!1,!0);return r(e,o)}else return Promise.reject(i+" provider is not supported.")})}function eE(e,t){let n=Pt(e,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(It(o,t??{}))return i;Xt(i,"already-initialized")}return n.initialize({options:t})}function w1(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(gn);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function tE(e,t,n){let r=Zi(e);A(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=nE(t),{host:s,port:a}=I1(t),c=a===null?"":`:${a}`,l={url:`${o}//${s}${c}/`},u=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){A(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),A(It(l,r.config.emulator)&&It(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Vn(s)?(Il(`${o}//${s}${c}`),bl("Auth",!0)):i||b1()}function nE(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function I1(e){let t=nE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:CC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:CC(s)}}}function CC(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function b1(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var Ps=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return mn("not implemented")}_getIdTokenResponse(t){return mn("not implemented")}_linkToIdToken(t,n){return mn("not implemented")}_getReauthenticationResolver(t){return mn("not implemented")}};function C1(e,t){return f(this,null,function*(){return zn(e,"POST","/v1/accounts:signUp",t)})}function E1(e,t){return f(this,null,function*(){return Jl(e,"POST","/v1/accounts:signInWithPassword",jr(e,t))})}function D1(e,t){return f(this,null,function*(){return Jl(e,"POST","/v1/accounts:signInWithEmailLink",jr(e,t))})}function T1(e,t){return f(this,null,function*(){return Jl(e,"POST","/v1/accounts:signInWithEmailLink",jr(e,t))})}var ks=class e extends Ps{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new e(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){return f(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bC(t,n,"signInWithPassword",E1,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return D1(t,{email:this._email,oobCode:this._password});default:Xt(t,"internal-error")}})}_linkToIdToken(t,n){return f(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bC(t,r,"signUpPassword",C1,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return T1(t,{idToken:n,email:this._email,oobCode:this._password});default:Xt(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function Xp(e,t){return f(this,null,function*(){return Jl(e,"POST","/v1/accounts:signInWithIdp",jr(e,t))})}function S1(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M1(e){let t=Ki(Qi(e)).link,n=t?Ki(Qi(t)).deep_link_id:null,r=Ki(Qi(e)).deep_link_id;return(r?Ki(Qi(r)).link:null)||r||n||t||e}var Gl=class e{constructor(t){let n=Ki(Qi(t)),r=n.apiKey??null,i=n.oobCode??null,o=S1(n.mode??null);A(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){let n=M1(t);try{return new e(n)}catch{return null}}};var rE=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return ks._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Gl.parseLink(r);return A(i,"argument-error"),ks._fromEmailAndCode(n,i.code,i.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),ql=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var hm=class extends ql{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Fs=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return f(this,null,function*(){let o=yield $n._fromIdTokenResponse(t,r,i),s=EC(r);return new e({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(t,n,r){return f(this,null,function*(){yield t._updateTokensIfNecessary(r,!0);let i=EC(r);return new e({user:t,providerId:i,_tokenResponse:r,operationType:n})})}};function EC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var fm=class e extends We{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function iE(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?fm._fromErrorAndOperation(e,o,t,r):o})}function A1(e,t,n=!1){return f(this,null,function*(){let r=yield xs(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Fs._forOperation(e,"link",r)})}function N1(e,t,n=!1){return f(this,null,function*(){let{auth:r}=e;if(dt(r.app))return Promise.reject(Hn(r));let i="reauthenticate";try{let o=yield xs(e,iE(r,i,t,e),n);A(o.idToken,r,"internal-error");let s=Cm(o.idToken);A(s,r,"internal-error");let{sub:a}=s;return A(e.uid===a,r,"user-mismatch"),Fs._forOperation(e,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Xt(r,"user-mismatch"),o}})}function oE(e,t,n=!1){return f(this,null,function*(){if(dt(e.app))return Promise.reject(Hn(e));let r="signIn",i=yield iE(e,r,t),o=yield Fs._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})}function sE(e,t){return f(this,null,function*(){return oE(Zi(e),t)})}function R1(e){return f(this,null,function*(){let t=Zi(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Dm(e,t,n){return dt(e.app)?Promise.reject(Hn(e)):sE(_e(e),rE.credential(t,n)).catch(r=>f(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&R1(e),r}))}function aE(e,t,n,r){return _e(e).onIdTokenChanged(t,n,r)}function cE(e,t,n){return _e(e).beforeAuthStateChanged(t,n)}var Yl="__sak";var Kl=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yl,"1"),this.storage.removeItem(Yl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var x1=1e3,O1=10,P1=(()=>{class e extends Kl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);f1()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,O1):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},x1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return f(this,null,function*(){yield Xn(e.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return f(this,null,function*(){let r=yield Xn(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return f(this,null,function*(){yield Xn(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),lE=P1;var k1=(()=>{class e extends Kl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})(),Tm=k1;function F1(e){return Promise.all(e.map(t=>f(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var L1=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return f(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>f(this,null,function*(){return u(r.origin,s)})),l=yield F1(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function uE(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}var pm=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){return f(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=uE("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Jt(){return window}function V1(e){Jt().location.href=e}function dE(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}function j1(){return f(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function U1(){return navigator?.serviceWorker?.controller||null}function B1(){return dE()?self:null}var hE="firebaseLocalStorageDb",$1=1,Ql="firebaseLocalStorage",fE="fbase_key",Vr=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function eu(e,t){return e.transaction([Ql],t?"readwrite":"readonly").objectStore(Ql)}function H1(){let e=indexedDB.deleteDatabase(hE);return new Vr(e).toPromise()}function mm(){let e=indexedDB.open(hE,$1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let r=e.result;try{r.createObjectStore(Ql,{keyPath:fE})}catch(i){n(i)}}),e.addEventListener("success",()=>f(this,null,function*(){let r=e.result;r.objectStoreNames.contains(Ql)?t(r):(r.close(),yield H1(),t(yield mm()))}))})}function DC(e,t,n){return f(this,null,function*(){let r=eu(e,!0).put({[fE]:t,value:n});return new Vr(r).toPromise()})}function W1(e,t){return f(this,null,function*(){let n=eu(e,!1).get(t),r=yield new Vr(n).toPromise();return r===void 0?null:r.value})}function TC(e,t){let n=eu(e,!0).delete(t);return new Vr(n).toPromise()}var z1=800,G1=3,q1=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return f(this,null,function*(){return this.db?this.db:(this.db=yield mm(),this.db)})}_withRetries(n){return f(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>G1)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return f(this,null,function*(){return dE()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return f(this,null,function*(){this.receiver=L1._getInstance(B1()),this.receiver._subscribe("keyChanged",(n,r)=>f(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>f(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return f(this,null,function*(){if(this.activeServiceWorker=yield j1(),!this.activeServiceWorker)return;this.sender=new pm(this.activeServiceWorker);let n=yield this.sender._send("ping",{},800);n&&n[0]?.fulfilled&&n[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return f(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||U1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return f(this,null,function*(){try{if(!indexedDB)return!1;let n=yield mm();return yield DC(n,Yl,"1"),yield TC(n,Yl),!0}catch{}return!1})}_withPendingWrite(n){return f(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(i=>DC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return f(this,null,function*(){let r=yield this._withRetries(i=>W1(i,n));return this.localCache[n]=r,r})}_remove(n){return f(this,null,function*(){return this._withPendingWrite(()=>f(this,null,function*(){return yield this._withRetries(r=>TC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return f(this,null,function*(){let n=yield this._withRetries(o=>{let s=eu(o,!1).getAll();return new Vr(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>f(this,null,function*(){return this._poll()}),z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),pE=q1;var p6=JC("rcb"),m6=new Lr(3e4,6e4);function Y1(e,t){return t?gn(t):(A(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Ls=class extends Ps{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Xp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Xp(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function K1(e){return oE(e.auth,new Ls(e),e.bypassAuthState)}function Q1(e){let{auth:t,user:n}=e;return A(n,t,"internal-error"),N1(n,new Ls(e),e.bypassAuthState)}function Z1(e){return f(this,null,function*(){let{auth:t,user:n}=e;return A(n,t,"internal-error"),A1(n,new Ls(e),e.bypassAuthState)})}var gm=class{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>f(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(t){return f(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return K1;case"linkViaPopup":case"linkViaRedirect":return Z1;case"reauthViaPopup":case"reauthViaRedirect":return Q1;default:Xt(this.auth,"internal-error")}}resolve(t){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var g6=new Lr(2e3,1e4);var J1="pendingRedirect",Vl=new Map,_m=class e extends gm{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return f(this,null,function*(){let t=Vl.get(this.auth._key());if(!t){try{let r=(yield X1(this.resolver,this.auth))?yield Xn(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Vl.set(this.auth._key(),t)}return this.bypassAuthState||Vl.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return f(this,null,function*(){if(t.type==="signInViaRedirect")return Xn(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,Xn(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return f(this,null,function*(){})}cleanUp(){}};function X1(e,t){return f(this,null,function*(){let n=nL(t),r=tL(e);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function eL(e,t){Vl.set(e._key(),t)}function tL(e){return gn(e._redirectPersistence)}function nL(e){return Ll(J1,e.config.apiKey,e.name)}function rL(e,t,n=!1){return f(this,null,function*(){if(dt(e.app))return Promise.reject(Hn(e));let r=Zi(e),i=Y1(r,t),s=yield new _m(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})}var iL=10*60*1e3,ym=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!oL(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!mE(t)){let r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Fr(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iL&&this.cachedEventUids.clear(),this.cachedEventUids.has(SC(t))}saveEventToCache(t){this.cachedEventUids.add(SC(t)),this.lastProcessedEventTime=Date.now()}};function SC(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function mE({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function oL(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mE(e);default:return!1}}function sL(n){return f(this,arguments,function*(e,t={}){return zn(e,"GET","/v1/projects",t)})}var aL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cL=/^https?/;function lL(e){return f(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield sL(e);for(let n of t)try{if(uL(n))return}catch{}Xt(e,"unauthorized-domain")})}function uL(e){let t=tm(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!cL.test(n))return!1;if(aL.test(e))return r===e;let i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var dL=new Lr(3e4,6e4);function MC(){let e=Jt().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function hL(e){return new Promise((t,n)=>{function r(){MC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{MC(),n(Fr(e,"network-request-failed"))},timeout:dL.get()})}if(Jt().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Jt().gapi?.load)r();else{let i=JC("iframefcb");return Jt()[i]=()=>{gapi.load?r():n(Fr(e,"network-request-failed"))},ZC(`${y1()}?onload=${i}`).catch(o=>n(o))}}).catch(t=>{throw jl=null,t})}var jl=null;function fL(e){return jl=jl||hL(e),jl}var pL=new Lr(5e3,15e3),mL="__/auth/iframe",gL="emulator/auth/iframe",_L={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(e){let t=e.config;A(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?bm(t,gL):`https://${e.config.authDomain}/${mL}`,r={apiKey:t.apiKey,appName:e.name,v:Un},i=yL.get(e.config.apiHost);i&&(r.eid=i);let o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nr(r).slice(1)}`}function wL(e){return f(this,null,function*(){let t=yield fL(e),n=Jt().gapi;return A(n,e,"internal-error"),t.open({where:document.body,url:vL(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_L,dontclear:!0},r=>new Promise((i,o)=>f(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Fr(e,"network-request-failed"),a=Jt().setTimeout(()=>{o(s)},pL.get());function c(){Jt().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var IL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bL=500,CL=600,EL="_blank",DL="http://localhost",Zl=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function TL(e,t,n,r=bL,i=CL){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=k(_({},IL),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ve().toLowerCase();n&&(a=WC(l)?EL:n),$C(l)&&(t=t||DL,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(h1(l)&&a!=="_self")return SL(t||"",a),new Zl(null);let d=window.open(t||"",a,u);A(d,e,"popup-blocked");try{d.focus()}catch{}return new Zl(d)}function SL(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ML="__/auth/handler",AL="emulator/auth/handler",NL=encodeURIComponent("fac");function AC(e,t,n,r,i,o){return f(this,null,function*(){A(e.config.authDomain,e,"auth-domain-config-required"),A(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Un,eventId:i};if(t instanceof ql){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Is(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof hm){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield e._getAppCheckToken(),l=c?`#${NL}=${encodeURIComponent(c)}`:"";return`${RL(e)}?${Nr(a).slice(1)}${l}`})}function RL({config:e}){return e.emulator?bm(e,AL):`https://${e.authDomain}/${ML}`}var em="webStorageSupport",vm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tm,this._completeRedirectFn=rL,this._overrideRedirectResult=eL}_openPopup(t,n,r,i){return f(this,null,function*(){Wn(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");let o=yield AC(t,n,r,tm(),i);return TL(t,o,uE())})}_openRedirect(t,n,r,i){return f(this,null,function*(){yield this._originValidation(t);let o=yield AC(t,n,r,tm(),i);return V1(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Wn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){return f(this,null,function*(){let n=yield wL(t),r=new ym(t);return n.register("authEvent",i=>(A(i?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(em,{type:em},i=>{let o=i?.[0]?.[em];o!==void 0&&n(!!o),Xt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lL(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return KC()||HC()||Em()}},gE=vm;var NC="@firebase/auth",RC="1.11.0";var wm=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(t){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xL(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OL(e){Je(new Te("auth",(t,{options:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;A(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(e)},l=new cm(r,i,o,c);return w1(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Je(new Te("auth-internal",t=>{let n=Zi(t.getProvider("auth").getImmediate());return(r=>new wm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(NC,RC,xL(e)),Oe(NC,RC,"esm2020")}var PL=5*60,kL=Cp("authIdTokenMaxAge")||PL,xC=null,FL=e=>t=>f(void 0,null,function*(){let n=t&&(yield t.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kL)return;let i=n?.token;xC!==i&&(xC=i,yield fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Sm(e=xr()){let t=Pt(e,"auth");if(t.isInitialized())return t.getImmediate();let n=eE(e,{popupRedirectResolver:gE,persistence:[pE,lE,Tm]}),r=Cp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=FL(o.toString());cE(n,s,()=>s(n.currentUser)),aE(n,a=>s(a))}}let i=Ip("auth");return i&&tE(n,`http://${i}`),n}function LL(){return document.getElementsByTagName("head")?.[0]??document}g1({loadJS(e){return new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{let o=Fr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",LL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OL("Browser");var _E="@firebase/database",yE="1.1.0";var Ng="";function VL(e){Ng=e}var km=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),me(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Yi(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Fm=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Ot(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var QE=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new km(t)}}catch{}return new Fm},Br=QE("localStorage"),Lm=QE("sessionStorage");var eo=new Qt("@firebase/database"),jL=function(){let e=1;return function(){return e++}}(),ZE=function(e){let t=Tb(e),n=new vl;n.update(t);let r=n.digest();return wl.encodeByteArray(r)},ra=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ra.apply(null,r):typeof r=="object"?t+=me(r):t+=r,t+=" "}return t},$r=null,vE=!0,UL=function(e,t){y(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(eo.logLevel=X.VERBOSE,$r=eo.log.bind(eo),t&&Lm.set("logging_enabled",!0)):typeof e=="function"?$r=e:($r=null,Lm.remove("logging_enabled"))},Pe=function(...e){if(vE===!0&&(vE=!1,$r===null&&Lm.get("logging_enabled")===!0&&UL(!0)),$r){let t=ra.apply(null,e);$r(t)}},ia=function(e){return function(...t){Pe(e,...t)}},Vm=function(...e){let t="FIREBASE INTERNAL ERROR: "+ra(...e);eo.error(t)},_n=function(...e){let t=`FIREBASE FATAL ERROR: ${ra(...e)}`;throw eo.error(t),new Error(t)},Ge=function(...e){let t="FIREBASE WARNING: "+ra(...e);eo.warn(t)},BL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ge("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Rg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},$L=function(e){if(Kt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},no="[MIN_NAME]",Hr="[MAX_NAME]",zr=function(e,t){if(e===t)return 0;if(e===no||t===Hr)return-1;if(t===no||e===Hr)return 1;{let n=wE(e),r=wE(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},HL=function(e,t){return e===t?0:e<t?-1:1},Vs=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+me(t))},xg=function(e){if(typeof e!="object"||e===null)return me(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=me(t[r]),n+=":",n+=xg(e[t[r]]);return n+="}",n},JE=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ke(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var XE=function(e){y(!Rg(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,c;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=t;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},WL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function GL(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var qL=new RegExp("^-?(0*)\\d{1,10}$"),YL=-2147483648,KL=2147483647,wE=function(e){if(qL.test(e)){let t=Number(e);if(t>=YL&&t<=KL)return t}return null},ho=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Ge("Exception was thrown by user callback.",n),t},Math.floor(0))}},QL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hs=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var jm=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,dt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.appCheckProvider?.get().then(n=>n.addTokenListener(t))}notifyForInvalidToken(){Ge(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Um=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ge(t)}},Ws=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),nu="5",eD="v",tD="s",nD="r",rD="f",iD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oD="ls",sD="p",Bm="ac",aD="websocket",cD="long_polling";var ru=class{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1,l=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this.emulatorOptions=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Br.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Br.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function ZL(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function lD(e,t,n){y(typeof t=="string","typeof type must == string"),y(typeof n=="object","typeof params must == object");let r;if(t===aD)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===cD)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);ZL(e)&&(n.ns=e.namespace);let i=[];return ke(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var $m=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Ot(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return mb(this.counters_)}};var Mm={},Am={};function Og(e){let t=e.toString();return Mm[t]||(Mm[t]=new $m),Mm[t]}function JL(e,t){let n=e.toString();return Am[n]||(Am[n]=t()),Am[n]}var Hm=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ho(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var IE="start",XL="close",eV="pLPCommand",tV="pRTLPCB",uD="id",dD="pw",hD="ser",nV="cb",rV="seg",iV="ts",oV="d",sV="dframe",fD=1870,pD=30,aV=fD-pD,cV=25e3,lV=3e4,Wm=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ia(t),this.stats_=Og(n),this.urlFn=c=>(this.appCheckToken&&(c[Bm]=this.appCheckToken),lD(n,cD,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Hm(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lV)),$L(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zm((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===IE)this.id=a,this.password=c;else if(s===XL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[IE]="t",r[hD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nV]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eD]=nu,this.transportSessionId&&(r[tD]=this.transportSessionId),this.lastSessionId&&(r[oD]=this.lastSessionId),this.applicationId&&(r[sD]=this.applicationId),this.appCheckToken&&(r[Bm]=this.appCheckToken),typeof location<"u"&&location.hostname&&iD.test(location.hostname)&&(r[nD]=rD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Kt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WL()&&!zL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=me(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=vp(n),i=JE(r,aV);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Kt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[sV]="t",r[uD]=t,r[dD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=me(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},zm=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Kt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=jL(),window[eV+this.uniqueCallbackIdentifier]=t,window[tV+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Pe("frame writing exception"),a.stack&&Pe(a.stack),Pe(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Pe("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[uD]=this.myID,t[dD]=this.myPW,t[hD]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pD+r.length<=fD;){let s=this.pendingSegs.shift();r=r+"&"+rV+i+"="+s.seg+"&"+iV+i+"="+s.ts+"&"+oV+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(cV)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Kt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Pe("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var uV=16384,dV=45e3,iu=null;typeof MozWebSocket<"u"?iu=MozWebSocket:typeof WebSocket<"u"&&(iu=WebSocket);var js=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ia(this.connId),this.stats_=Og(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[eD]=nu,!Kt()&&typeof location<"u"&&location.hostname&&iD.test(location.hostname)&&(a[nD]=rD),r&&(a[tD]=r),i&&(a[oD]=i),o&&(a[Bm]=o),s&&(a[sD]=s),lD(n,aD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Br.set("previous_websocket_failure",!0);try{let i;if(Kt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${nu}/${Ng}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new iu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&iu!==null&&!e.forceDisallow_}static previouslyFailed(){return Br.isInMemoryStorage||Br.get("previous_websocket_failure")===!0}markConnectionHealthy(){Br.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Yi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(y(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=me(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=JE(r,uV);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dV))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),hV=(()=>{class e{static get ALL_TRANSPORTS(){return[Wm,js]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=js&&js.isAvailable(),i=r&&!js.previouslyFailed();if(n.webSocketOnly&&(r||Ge("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[js];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),fV=6e4,pV=5e3,mV=10*1024,gV=100*1024,Nm="t",bE="d",_V="s",CE="r",yV="e",EE="o",DE="a",TE="n",SE="p",vV="h",Gm=class{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ia("c:"+this.id+":"),this.transportManager_=new hV(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Hs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>gV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>mV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Nm in t){let n=t[Nm];n===DE?this.upgradeIfSecondaryHealthy_():n===CE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===EE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Vs("t",t),r=Vs("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:SE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:TE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Vs("t",t),r=Vs("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Vs(Nm,t);if(bE in t){let r=t[bE];if(n===vV){let i=_({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===TE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===_V?this.onConnectionShutdown_(r):n===CE?this.onReset_(r):n===yV?Vm("Server Error: "+r):n===EE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vm("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),nu!==r&&Ge("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Hs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(fV))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:SE,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Br.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var ou=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var su=class{constructor(t){this.allowedEvents_=t,this.listeners_={},y(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){y(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var au=class e extends su{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ws()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return y(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var ME=32,AE=768,J=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function K(){return new J("")}function U(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Kn(e){return e.pieces_.length-e.pieceNum_}function re(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new J(e.pieces_,t)}function Pg(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function wV(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Ys(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function mD(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new J(t,0)}function ce(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof J)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new J(n,0)}function H(e){return e.pieceNum_>=e.pieces_.length}function ze(e,t){let n=U(e),r=U(t);if(n===null)return t;if(n===r)return ze(re(e),re(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function IV(e,t){let n=Ys(e,0),r=Ys(t,0);for(let i=0;i<n.length&&i<r.length;i++){let o=zr(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function kg(e,t){if(Kn(e)!==Kn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function bt(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Kn(e)>Kn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var qm=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Ys(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Es(this.parts_[r]);gD(this)}};function bV(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Es(t),gD(e)}function CV(e){let t=e.parts_.pop();e.byteLength_-=Es(t),e.parts_.length>0&&(e.byteLength_-=1)}function gD(e){if(e.byteLength_>AE)throw new Error(e.errorPrefix_+"has a key path longer than "+AE+" bytes ("+e.byteLength_+").");if(e.parts_.length>ME)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ME+") or object contains a cycle "+Ur(e))}function Ur(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Ym=class e extends su{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return y(t==="visible","Unknown event type: "+t),[this.visible_]}};var Us=1e3,EV=60*5*1e3,NE=30*1e3,DV=1.3,TV=3e4,SV="server_kill",RE=3,Fg=(()=>{class e extends ou{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=ia("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Us,this.maxReconnectDelay_=EV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Kt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ym.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&au.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(me(s)),y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new fn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),y(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ot(n,"w")){let i=Ar(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ge(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Eb(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=NE)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Cb(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),y(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+me(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Vm("Unrecognized action received from server: "+me(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>TV&&(this.reconnectDelay_=Us),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*DV)}this.onConnectStatus_(!1)}establishConnection_(){return f(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(h){y(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(h)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,p]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=p&&p.token,c=new Gm(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,m=>{Ge(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(SV)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Ge(h),l())}}})}interrupt(n){Pe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Pe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Is(this.interruptReasons_)&&(this.reconnectDelay_=Us,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>xg(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new J(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Pe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=RE&&(this.reconnectDelay_=NE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Pe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=RE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Kt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Ng.replace(/\./g,"-")]=1,ws()?n["framework.cordova"]=1:El()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=au.getInstance().currentlyOnline();return Is(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),B=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var ro=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new B(no,t),i=new B(no,n);return this.compare(r,i)!==0}minPost(){return B.MIN}};var tu,cu=class extends ro{static get __EMPTY_NODE(){return tu}static set __EMPTY_NODE(t){tu=t}compare(t,n){return zr(t.name,n.name)}isDefinedOn(t){throw Mr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return B.MIN}maxPost(){return new B(Hr,tu)}makePost(t,n){return y(typeof t=="string","KeyIndex indexValue must always be a string."),new B(t,tu)}toString(){return".key"}},to=new cu;var Xi=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},kt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Ct.EMPTY_NODE,this.right=s??Ct.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Km=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new kt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ct=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xi(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Xi(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Xi(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Xi(this.root_,null,this.comparator_,!0,t)}};Ct.EMPTY_NODE=new Km;function MV(e,t){return zr(e.name,t.name)}function Lg(e,t){return zr(e,t)}var Qm;function AV(e){Qm=e}var _D=function(e){return typeof e=="number"?"number:"+XE(e):"string:"+e},yD=function(e){if(e.isLeafNode()){let t=e.val();y(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Ot(t,".sv"),"Priority must be a string or number.")}else y(e===Qm||e.isEmpty(),"priority of unexpected type.");y(e===Qm||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var xE,io=(()=>{class e{static set __childrenNodeConstructor(n){xE=n}static get __childrenNodeConstructor(){return xE}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return H(n)?this:U(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=U(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(y(i!==".priority"||Kn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(re(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+_D(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=XE(this.value_):n+=this.value_,this.lazyHash_=ZE(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(y(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return y(o>=0,"Unknown leaf type: "+r),y(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),vD,wD;function NV(e){vD=e}function RV(e){wD=e}var Zm=class extends ro{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?zr(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return B.MIN}maxPost(){return new B(Hr,new io("[PRIORITY-POST]",wD))}makePost(t,n){let r=vD(t);return new B(n,new io("[PRIORITY-POST]",r))}toString(){return".priority"}},le=new Zm;var xV=Math.log(2),Jm=class{constructor(t){let n=o=>parseInt(Math.log(o)/xV,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},lu=function(e,t,n,r){e.sort(t);let i=function(c,l){let u=l-c,d,h;if(u===0)return null;if(u===1)return d=e[c],h=n?n(d):d,new kt(h,d.node,kt.BLACK,null,null);{let p=parseInt(u/2,10)+c,m=i(c,p),g=i(p+1,l);return d=e[p],h=n?n(d):d,new kt(h,d.node,kt.BLACK,m,g)}},o=function(c){let l=null,u=null,d=e.length,h=function(m,g){let w=d-m,D=d;d-=m;let ie=i(w+1,D),$=e[w],Se=n?n($):$;p(new kt(Se,$.node,g,null,ie))},p=function(m){l?(l.left=m,l=m):(u=m,l=m)};for(let m=0;m<c.count;++m){let g=c.nextBitIsOne(),w=Math.pow(2,c.count-(m+1));g?h(w,kt.BLACK):(h(w,kt.BLACK),h(w,kt.RED))}return u},s=new Jm(e.length),a=o(s);return new Ct(r||t,a)};var Rm,Ji={},oo=class e{static get Default(){return y(Ji&&le,"ChildrenNode.ts has not been loaded"),Rm=Rm||new e({".priority":Ji},{".priority":le}),Rm}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Ar(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ct?n:null}hasIndex(t){return Ot(this.indexSet_,t.toString())}addIndex(t,n){y(t!==to,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(B.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=lu(r,t.getCompare()):a=Ji;let c=t.toString(),l=_({},this.indexSet_);l[c]=t;let u=_({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let r=bs(this.indexes_,(i,o)=>{let s=Ar(this.indexSet_,o);if(y(s,"Missing index implementation for "+o),i===Ji)if(s.isDefinedOn(t.node)){let a=[],c=n.getIterator(B.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),lu(a,s.getCompare())}else return Ji;else{let a=n.get(t.name),c=i;return a&&(c=c.remove(new B(t.name,a))),c.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=bs(this.indexes_,i=>{if(i===Ji)return i;{let o=n.get(t.name);return o?i.remove(new B(t.name,o)):i}});return new e(r,this.indexSet_)}};var Bs,F=(()=>{class e{static get EMPTY_NODE(){return Bs||(Bs=new e(new Ct(Lg),null,oo.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&yD(this.priorityNode_),this.children_.isEmpty()&&y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bs}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Bs:r}}getChild(n){let r=U(n);return r===null?this:this.getImmediateChild(r).getChild(re(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(y(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new B(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Bs:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=U(n);if(i===null)return r;{y(U(n)!==".priority"||Kn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(re(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(le,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+_D(this.getPriority().val())+":"),this.forEachChild(le,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":ZE(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new B(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new B(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new B(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,B.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,B.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===oa?-1:0}withIndex(n){if(n===to||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===to||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(le),o=r.getIterator(le),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===to?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Xm=class extends F{constructor(){super(new Ct(Lg),F.EMPTY_NODE,oo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return F.EMPTY_NODE}isEmpty(){return!1}},oa=new Xm;Object.defineProperties(B,{MIN:{value:new B(no,F.EMPTY_NODE)},MAX:{value:new B(Hr,oa)}});cu.__EMPTY_NODE=F.EMPTY_NODE;io.__childrenNodeConstructor=F;AV(oa);RV(oa);var OV=!0;function ye(e,t=null){if(e===null)return F.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),y(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new io(n,ye(t))}if(!(e instanceof Array)&&OV){let n=[],r=!1;if(ke(e,(s,a)=>{if(s.substring(0,1)!=="."){let c=ye(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new B(s,c)))}}),n.length===0)return F.EMPTY_NODE;let o=lu(n,MV,s=>s.name,Lg);if(r){let s=lu(n,le.getCompare());return new F(o,ye(t),new oo({".priority":s},{".priority":le}))}else return new F(o,ye(t),oo.Default)}else{let n=F.EMPTY_NODE;return ke(e,(r,i)=>{if(Ot(e,r)&&r.substring(0,1)!=="."){let o=ye(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ye(t))}}NV(ye);var eg=class extends ro{constructor(t){super(),this.indexPath_=t,y(!H(t)&&U(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?zr(t.name,n.name):o}makePost(t,n){let r=ye(t),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new B(n,i)}maxPost(){let t=F.EMPTY_NODE.updateChild(this.indexPath_,oa);return new B(Hr,t)}toString(){return Ys(this.indexPath_,0).join("/")}};var tg=class extends ro{compare(t,n){let r=t.node.compareTo(n.node);return r===0?zr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(t,n){let r=ye(t);return new B(n,r)}toString(){return".value"}},PV=new tg;function ID(e){return{type:"value",snapshotNode:e}}function so(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ks(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Qs(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function kV(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Zs=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){y(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Ks(n,a)):y(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(so(n,r)):s.trackChildChange(Qs(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(le,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ks(i,o))}),n.isLeafNode()||n.forEachChild(le,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Qs(i,o,s))}else r.trackChildChange(so(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?F.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var uu=class e{constructor(t){this.indexedFilter_=new Zs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new B(n,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=F.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);let o=this;return n.forEachChild(le,(s,a)=>{o.matches(new B(s,a))||(i=i.updateImmediateChild(s,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var ng=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new uu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new B(n,r))||(r=F.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,p)=>d(p,h)}else s=this.index_.getCompare();let a=t;y(a.numChildren()===this.limit_,"");let c=new B(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);let p=h==null?1:s(h,c);if(u&&!r.isEmpty()&&p>=0)return o?.trackChildChange(Qs(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Ks(n,d));let g=a.updateImmediateChild(n,F.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(so(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return r.isEmpty()?t:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Ks(l.name,l.node)),o.trackChildChange(so(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,F.EMPTY_NODE)):t}};var rg=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:no}hasEnd(){return this.endSet_}getIndexEndValue(){return y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===le}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function FV(e){return e.loadsAllData()?new Zs(e.getIndex()):e.hasLimit()?new ng(e):new uu(e)}function OE(e){let t={};if(e.isDefault())return t;let n;if(e.index_===le?n="$priority":e.index_===PV?n="$value":e.index_===to?n="$key":(y(e.index_ instanceof eg,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=me(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=me(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+me(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=me(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+me(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function PE(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==le&&(t.i=e.index_.toString()),t}var ig=class e extends ou{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(y(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ia("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let c=OE(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Ar(this.listens_,s)===a){let h;l?l===401?h="permission_denied":h="rest_error:"+l:h="ok",i(h,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=OE(t._queryParams),r=t._path.toString(),i=new fn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Nr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Yi(a.responseText)}catch{Ge("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Ge("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var og=class{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function du(){return{value:null,children:new Map}}function bD(e,t,n){if(H(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=U(t);e.children.has(r)||e.children.set(r,du());let i=e.children.get(r);t=re(t),bD(i,t,n)}}function sg(e,t,n){e.value!==null?n(t,e.value):LV(e,(r,i)=>{let o=new J(t.toString()+"/"+r);sg(i,o,n)})}function LV(e,t){e.children.forEach((n,r)=>{t(r,n)})}var ag=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=_({},t);return this.last_&&ke(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var kE=10*1e3,VV=30*1e3,jV=5*60*1e3,cg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ag(t);let r=kE+(VV-kE)*Math.random();Hs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;ke(t,(i,o)=>{o>0&&Ot(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Hs(this.reportStats_.bind(this),Math.floor(Math.random()*2*jV))}};var en=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(en||{});function Vg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function jg(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ug(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var lg=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=en.ACK_USER_WRITE,this.source=Vg()}operationForChild(t){if(H(this.path)){if(this.affectedTree.value!=null)return y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new J(t));return new e(K(),n,this.revert)}}else return y(U(this.path)===t,"operationForChild called for unrelated child."),new e(re(this.path),this.affectedTree,this.revert)}};var hu=class e{constructor(t,n){this.source=t,this.path=n,this.type=en.LISTEN_COMPLETE}operationForChild(t){return H(this.path)?new e(this.source,K()):new e(this.source,re(this.path))}};var ao=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=en.OVERWRITE}operationForChild(t){return H(this.path)?new e(this.source,K(),this.snap.getImmediateChild(t)):new e(this.source,re(this.path),this.snap)}};var Js=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=en.MERGE}operationForChild(t){if(H(this.path)){let n=this.children.subtree(new J(t));return n.isEmpty()?null:n.value?new ao(this.source,K(),n.value):new e(this.source,K(),n)}else return y(U(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,re(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var tn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(H(t))return this.isFullyInitialized()&&!this.filtered_;let n=U(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var ug=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function UV(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(kV(s.childName,s.snapshotNode))}),$s(e,i,"child_removed",t,r,n),$s(e,i,"child_added",t,r,n),$s(e,i,"child_moved",o,r,n),$s(e,i,"child_changed",t,r,n),$s(e,i,"value",t,r,n),i}function $s(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>$V(e,a,c)),s.forEach(a=>{let c=BV(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function BV(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function $V(e,t,n){if(t.childName==null||n.childName==null)throw Mr("Should only compare child_ events.");let r=new B(t.childName,t.snapshotNode),i=new B(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Tu(e,t){return{eventCache:e,serverCache:t}}function zs(e,t,n,r){return Tu(new tn(t,n,r),e.serverCache)}function CD(e,t,n,r){return Tu(e.eventCache,new tn(t,n,r))}function fu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Wr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var xm,HV=()=>(xm||(xm=new Ct(HL)),xm),qe=class e{static fromObject(t){let n=new e(null);return ke(t,(r,i)=>{n=n.set(new J(r),i)}),n}constructor(t,n=HV()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(H(t))return null;{let r=U(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(re(t),n);return o!=null?{path:ce(new J(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(H(t))return this;{let n=U(t),r=this.children.get(n);return r!==null?r.subtree(re(t)):new e(null)}}set(t,n){if(H(t))return new e(n,this.children);{let r=U(t),o=(this.children.get(r)||new e(null)).set(re(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(H(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=U(t),r=this.children.get(n);if(r){let i=r.remove(re(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(H(t))return this.value;{let n=U(t),r=this.children.get(n);return r?r.get(re(t)):null}}setTree(t,n){if(H(t))return n;{let r=U(t),o=(this.children.get(r)||new e(null)).setTree(re(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(K(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ce(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,K(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(H(t))return null;{let o=U(t),s=this.children.get(o);return s?s.findOnPath_(re(t),ce(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,K(),n)}foreachOnPath_(t,n,r){if(H(t))return this;{this.value&&r(n,this.value);let i=U(t),o=this.children.get(i);return o?o.foreachOnPath_(re(t),ce(n,i),r):new e(null)}}foreach(t){this.foreach_(K(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ce(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Ft=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new qe(null))}};function Gs(e,t,n){if(H(t))return new Ft(new qe(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=ze(i,t);return o=o.updateChild(s,n),new Ft(e.writeTree_.set(i,o))}else{let i=new qe(n),o=e.writeTree_.setTree(t,i);return new Ft(o)}}}function dg(e,t,n){let r=e;return ke(n,(i,o)=>{r=Gs(r,ce(t,i),o)}),r}function FE(e,t){if(H(t))return Ft.empty();{let n=e.writeTree_.setTree(t,new qe(null));return new Ft(n)}}function hg(e,t){return Gr(e,t)!=null}function Gr(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ze(n.path,t)):null}function LE(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(le,(r,i)=>{t.push(new B(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new B(r,i.value))}),t}function qn(e,t){if(H(t))return e;{let n=Gr(e,t);return n!=null?new Ft(new qe(n)):new Ft(e.writeTree_.subtree(t))}}function fg(e){return e.writeTree_.isEmpty()}function co(e,t){return ED(K(),e.writeTree_,t)}function ED(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(y(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=ED(ce(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ce(e,".priority"),r)),n}}function Su(e,t){return MD(t,e)}function WV(e,t,n,r,i){y(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Gs(e.visibleWrites,t,n)),e.lastWriteId=r}function zV(e,t,n,r){y(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=dg(e.visibleWrites,t,n),e.lastWriteId=r}function GV(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function qV(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);y(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&YV(a,r.path)?i=!1:bt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return KV(e),!0;if(r.snap)e.visibleWrites=FE(e.visibleWrites,r.path);else{let a=r.children;ke(a,c=>{e.visibleWrites=FE(e.visibleWrites,ce(r.path,c))})}return!0}else return!1}function YV(e,t){if(e.snap)return bt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&bt(ce(e.path,n),t))return!0;return!1}function KV(e){e.visibleWrites=DD(e.allWrites,QV,K()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function QV(e){return e.visible}function DD(e,t,n){let r=Ft.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)bt(n,s)?(a=ze(n,s),r=Gs(r,a,o.snap)):bt(s,n)&&(a=ze(s,n),r=Gs(r,K(),o.snap.getChild(a)));else if(o.children){if(bt(n,s))a=ze(n,s),r=dg(r,a,o.children);else if(bt(s,n))if(a=ze(s,n),H(a))r=dg(r,K(),o.children);else{let c=Ar(o.children,U(a));if(c){let l=c.getChild(re(a));r=Gs(r,K(),l)}}}else throw Mr("WriteRecord should have .snap or .children")}}return r}function TD(e,t,n,r,i){if(!r&&!i){let o=Gr(e.visibleWrites,t);if(o!=null)return o;{let s=qn(e.visibleWrites,t);if(fg(s))return n;if(n==null&&!hg(s,K()))return null;{let a=n||F.EMPTY_NODE;return co(s,a)}}}else{let o=qn(e.visibleWrites,t);if(!i&&fg(o))return n;if(!i&&n==null&&!hg(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(bt(l.path,t)||bt(t,l.path))},a=DD(e.allWrites,s,t),c=n||F.EMPTY_NODE;return co(a,c)}}}function ZV(e,t,n){let r=F.EMPTY_NODE,i=Gr(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(le,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=qn(e.visibleWrites,t);return n.forEachChild(le,(s,a)=>{let c=co(qn(o,new J(s)),a);r=r.updateImmediateChild(s,c)}),LE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=qn(e.visibleWrites,t);return LE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function JV(e,t,n,r,i){y(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ce(t,n);if(hg(e.visibleWrites,o))return null;{let s=qn(e.visibleWrites,o);return fg(s)?i.getChild(n):co(s,i.getChild(n))}}function XV(e,t,n,r){let i=ce(t,n),o=Gr(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=qn(e.visibleWrites,i);return co(s,r.getNode().getImmediateChild(n))}else return null}function ej(e,t){return Gr(e.visibleWrites,t)}function tj(e,t,n,r,i,o,s){let a,c=qn(e.visibleWrites,t),l=Gr(c,K());if(l!=null)a=l;else if(n!=null)a=co(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),p=h.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=h.getNext();return u}else return[]}function nj(){return{visibleWrites:Ft.empty(),allWrites:[],lastWriteId:-1}}function pu(e,t,n,r){return TD(e.writeTree,e.treePath,t,n,r)}function Bg(e,t){return ZV(e.writeTree,e.treePath,t)}function VE(e,t,n,r){return JV(e.writeTree,e.treePath,t,n,r)}function mu(e,t){return ej(e.writeTree,ce(e.treePath,t))}function rj(e,t,n,r,i,o){return tj(e.writeTree,e.treePath,t,n,r,i,o)}function $g(e,t,n){return XV(e.writeTree,e.treePath,t,n)}function SD(e,t){return MD(ce(e.treePath,t),e.writeTree)}function MD(e,t){return{treePath:e,writeTree:t}}var pg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;y(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),y(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Qs(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Ks(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,so(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Qs(r,t.snapshotNode,i.oldSnap));else throw Mr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var mg=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},AD=new mg,Xs=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new tn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return $g(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wr(this.viewCache_),o=rj(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function ij(e){return{filter:e}}function oj(e,t){y(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),y(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function sj(e,t,n,r,i){let o=new pg,s,a;if(n.type===en.OVERWRITE){let l=n;l.source.fromUser?s=gg(e,t,l.path,l.snap,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!H(l.path),s=gu(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===en.MERGE){let l=n;l.source.fromUser?s=cj(e,t,l.path,l.children,r,i,o):(y(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=_g(e,t,l.path,l.children,r,i,a,o))}else if(n.type===en.ACK_USER_WRITE){let l=n;l.revert?s=dj(e,t,l.path,r,i,o):s=lj(e,t,l.path,l.affectedTree,r,i,o)}else if(n.type===en.LISTEN_COMPLETE)s=uj(e,t,n.path,r,o);else throw Mr("Unknown operation type: "+n.type);let c=o.getChanges();return aj(t,s,c),{viewCache:s,changes:c}}function aj(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=fu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ID(fu(t)))}}function ND(e,t,n,r,i,o){let s=t.eventCache;if(mu(r,n)!=null)return t;{let a,c;if(H(n))if(y(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=Wr(t),u=l instanceof F?l:F.EMPTY_NODE,d=Bg(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let l=pu(r,Wr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{let l=U(n);if(l===".priority"){y(Kn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=t.serverCache.getNode();let d=VE(r,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=re(n),d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();let h=VE(r,n,s.getNode(),c);h!=null?d=s.getNode().getImmediateChild(l).updateChild(u,h):d=s.getNode().getImmediateChild(l)}else d=$g(r,l,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return zs(t,a,s.isFullyInitialized()||H(n),e.filter.filtersNodes())}}function gu(e,t,n,r,i,o,s,a){let c=t.serverCache,l,u=s?e.filter:e.filter.getIndexedFilter();if(H(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let p=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),p,null)}else{let p=U(n);if(!c.isCompleteForPath(n)&&Kn(n)>1)return t;let m=re(n),w=c.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?l=u.updatePriority(c.getNode(),w):l=u.updateChild(c.getNode(),p,w,m,AD,null)}let d=CD(t,l,c.isFullyInitialized()||H(n),u.filtersNodes()),h=new Xs(i,d,o);return ND(e,d,n,i,h,a)}function gg(e,t,n,r,i,o,s){let a=t.eventCache,c,l,u=new Xs(i,t,o);if(H(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=zs(t,l,!0,e.filter.filtersNodes());else{let d=U(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),r),c=zs(t,l,a.isFullyInitialized(),a.isFiltered());else{let h=re(n),p=a.getNode().getImmediateChild(d),m;if(H(h))m=r;else{let g=u.getCompleteChild(d);g!=null?Pg(h)===".priority"&&g.getChild(mD(h)).isEmpty()?m=g:m=g.updateChild(h,r):m=F.EMPTY_NODE}if(p.equals(m))c=t;else{let g=e.filter.updateChild(a.getNode(),d,m,h,u,s);c=zs(t,g,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function jE(e,t){return e.eventCache.isCompleteForChild(t)}function cj(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{let u=ce(n,c);jE(t,U(u))&&(a=gg(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=ce(n,c);jE(t,U(u))||(a=gg(e,a,u,l,i,o,s))}),a}function UE(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function _g(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;H(n)?l=r:l=new qe(null).setTree(n,r);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let p=t.serverCache.getNode().getImmediateChild(d),m=UE(e,p,h);c=gu(e,c,new J(d),m,i,o,s,a)}}),l.children.inorderTraversal((d,h)=>{let p=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!p){let m=t.serverCache.getNode().getImmediateChild(d),g=UE(e,m,h);c=gu(e,c,new J(d),g,i,o,s,a)}}),c}function lj(e,t,n,r,i,o,s){if(mu(i,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(H(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return gu(e,t,n,c.getNode().getChild(n),i,o,a,s);if(H(n)){let l=new qe(null);return c.getNode().forEachChild(to,(u,d)=>{l=l.set(new J(u),d)}),_g(e,t,n,l,i,o,a,s)}else return t}else{let l=new qe(null);return r.foreach((u,d)=>{let h=ce(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),_g(e,t,n,l,i,o,a,s)}}function uj(e,t,n,r,i){let o=t.serverCache,s=CD(t,o.getNode(),o.isFullyInitialized()||H(n),o.isFiltered());return ND(e,s,n,r,AD,i)}function dj(e,t,n,r,i,o){let s;if(mu(r,n)!=null)return t;{let a=new Xs(r,t,i),c=t.eventCache.getNode(),l;if(H(n)||U(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=pu(r,Wr(t));else{let d=t.serverCache.getNode();y(d instanceof F,"serverChildren would be complete if leaf node"),u=Bg(r,d)}u=u,l=e.filter.updateFullNode(c,u,o)}else{let u=U(n),d=$g(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,re(n),a,o):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,F.EMPTY_NODE,re(n),a,o):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=pu(r,Wr(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||mu(r,K())!=null,zs(t,l,s,e.filter.filtersNodes())}}var yg=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Zs(r.getIndex()),o=FV(r);this.processor_=ij(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(F.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(F.EMPTY_NODE,a.getNode(),null),u=new tn(c,s.isFullyInitialized(),i.filtersNodes()),d=new tn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Tu(d,u),this.eventGenerator_=new ug(this.query_)}get query(){return this.query_}};function hj(e){return e.viewCache_.serverCache.getNode()}function fj(e){return fu(e.viewCache_)}function pj(e,t){let n=Wr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!H(t)&&!n.getImmediateChild(U(t)).isEmpty())?n.getChild(t):null}function BE(e){return e.eventRegistrations_.length===0}function mj(e,t){e.eventRegistrations_.push(t)}function $E(e,t,n){let r=[];if(n){y(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function HE(e,t,n,r){t.type===en.MERGE&&t.source.queryId!==null&&(y(Wr(e.viewCache_),"We should always have a full cache before handling merges"),y(fu(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=sj(e.processor_,i,t,n,r);return oj(e.processor_,o.viewCache),y(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,RD(e,o.changes,o.viewCache.eventCache.getNode(),null)}function gj(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(le,(o,s)=>{r.push(so(o,s))}),n.isFullyInitialized()&&r.push(ID(n.getNode())),RD(e,r,n.getNode(),t)}function RD(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return UV(e.eventGenerator_,t,n,i)}var _u,yu=class{constructor(){this.views=new Map}};function _j(e){y(!_u,"__referenceConstructor has already been defined"),_u=e}function yj(){return y(_u,"Reference.ts has not been loaded"),_u}function vj(e){return e.views.size===0}function Hg(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return y(o!=null,"SyncTree gave us an op for an invalid query."),HE(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(HE(s,t,n,r));return o}}function xD(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=pu(n,i?r:null),c=!1;a?c=!0:r instanceof F?(a=Bg(n,r),c=!1):(a=F.EMPTY_NODE,c=!1);let l=Tu(new tn(a,c,!1),new tn(r,i,!1));return new yg(t,l)}return s}function wj(e,t,n,r,i,o){let s=xD(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),mj(s,n),gj(s,n)}function Ij(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Qn(e);if(i==="default")for(let[c,l]of e.views.entries())s=s.concat($E(l,n,r)),BE(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=e.views.get(i);c&&(s=s.concat($E(c,n,r)),BE(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Qn(e)&&o.push(new(yj())(t._repo,t._path)),{removed:o,events:s}}function OD(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Yn(e,t){let n=null;for(let r of e.views.values())n=n||pj(r,t);return n}function PD(e,t){if(t._queryParams.loadsAllData())return Mu(e);{let r=t._queryIdentifier;return e.views.get(r)}}function kD(e,t){return PD(e,t)!=null}function Qn(e){return Mu(e)!=null}function Mu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var vu;function bj(e){y(!vu,"__referenceConstructor has already been defined"),vu=e}function Cj(){return y(vu,"Reference.ts has not been loaded"),vu}var Ej=1,wu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new qe(null),this.pendingWriteTree_=nj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function FD(e,t,n,r,i){return WV(e.pendingWriteTree_,t,n,r,i),i?fo(e,new ao(Vg(),t,n)):[]}function Dj(e,t,n,r){zV(e.pendingWriteTree_,t,n,r);let i=qe.fromObject(n);return fo(e,new Js(Vg(),t,i))}function Gn(e,t,n=!1){let r=GV(e.pendingWriteTree_,t);if(qV(e.pendingWriteTree_,t)){let o=new qe(null);return r.snap!=null?o=o.set(K(),!0):ke(r.children,s=>{o=o.set(new J(s),!0)}),fo(e,new lg(r.path,o,n))}else return[]}function sa(e,t,n){return fo(e,new ao(jg(),t,n))}function Tj(e,t,n){let r=qe.fromObject(n);return fo(e,new Js(jg(),t,r))}function Sj(e,t){return fo(e,new hu(jg(),t))}function Mj(e,t,n){let r=zg(e,n);if(r){let i=Gg(r),o=i.path,s=i.queryId,a=ze(o,t),c=new hu(Ug(s),a);return qg(e,o,c)}else return[]}function Iu(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||kD(s,t))){let c=Ij(s,t,n,r);vj(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,p)=>Qn(p));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let p=Rj(h);for(let m=0;m<p.length;++m){let g=p[m],w=g.query,D=UD(e,g);e.listenProvider_.startListening(qs(w),ea(e,w),D.hashFn,D.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(qs(t),null):l.forEach(h=>{let p=e.queryToTagMap.get(Au(h));e.listenProvider_.stopListening(qs(h),p)}))}xj(e,l)}return a}function LD(e,t,n,r){let i=zg(e,r);if(i!=null){let o=Gg(i),s=o.path,a=o.queryId,c=ze(s,t),l=new ao(Ug(a),c,n);return qg(e,s,l)}else return[]}function Aj(e,t,n,r){let i=zg(e,r);if(i){let o=Gg(i),s=o.path,a=o.queryId,c=ze(s,t),l=qe.fromObject(n),u=new Js(Ug(a),c,l);return qg(e,s,u)}else return[]}function vg(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(h,p)=>{let m=ze(h,i);o=o||Yn(p,m),s=s||Qn(p)});let a=e.syncPointTree_.get(i);a?(s=s||Qn(a),o=o||Yn(a,K())):(a=new yu,e.syncPointTree_=e.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=F.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,m)=>{let g=Yn(m,K());g&&(o=o.updateImmediateChild(p,g))}));let l=kD(a,t);if(!l&&!t._queryParams.loadsAllData()){let h=Au(t);y(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let p=Oj();e.queryToTagMap.set(h,p),e.tagToQueryMap.set(p,h)}let u=Su(e.pendingWriteTree_,i),d=wj(a,t,n,u,o,c);if(!l&&!s&&!r){let h=PD(a,t);d=d.concat(Pj(e,t,h))}return d}function Wg(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let c=ze(s,t),l=Yn(a,c);if(l)return l});return TD(i,t,o,n,!0)}function Nj(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=ze(l,n);r=r||Yn(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Yn(i,K()):(i=new yu,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new tn(r,!0,!1):null,a=Su(e.pendingWriteTree_,t._path),c=xD(i,t,a,o?s.getNode():F.EMPTY_NODE,o);return fj(c)}function fo(e,t){return VD(t,e.syncPointTree_,null,Su(e.pendingWriteTree_,K()))}function VD(e,t,n,r){if(H(e.path))return jD(e,t,n,r);{let i=t.get(K());n==null&&i!=null&&(n=Yn(i,K()));let o=[],s=U(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=SD(r,s);o=o.concat(VD(a,c,l,u))}return i&&(o=o.concat(Hg(i,e,r,n))),o}}function jD(e,t,n,r){let i=t.get(K());n==null&&i!=null&&(n=Yn(i,K()));let o=[];return t.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=SD(r,s),u=e.operationForChild(s);u&&(o=o.concat(jD(u,a,c,l)))}),i&&(o=o.concat(Hg(i,e,r,n))),o}function UD(e,t){let n=t.query,r=ea(e,n);return{hashFn:()=>(hj(t)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Mj(e,n._path,r):Sj(e,n._path);{let o=GL(i,n);return Iu(e,n,null,o)}}}}function ea(e,t){let n=Au(t);return e.queryToTagMap.get(n)}function Au(e){return e._path.toString()+"$"+e._queryIdentifier}function zg(e,t){return e.tagToQueryMap.get(t)}function Gg(e){let t=e.indexOf("$");return y(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new J(e.substr(0,t))}}function qg(e,t,n){let r=e.syncPointTree_.get(t);y(r,"Missing sync point for query tag that we're tracking");let i=Su(e.pendingWriteTree_,t);return Hg(r,n,i,null)}function Rj(e){return e.fold((t,n,r)=>{if(n&&Qn(n))return[Mu(n)];{let i=[];return n&&(i=OD(n)),ke(r,(o,s)=>{i=i.concat(s)}),i}})}function qs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Cj())(e._repo,e._path):e}function xj(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Au(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function Oj(){return Ej++}function Pj(e,t,n){let r=t._path,i=ea(e,t),o=UD(e,n),s=e.listenProvider_.startListening(qs(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)y(!Qn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!H(l)&&u&&Qn(u))return[Mu(u).query];{let h=[];return u&&(h=h.concat(OD(u).map(p=>p.query))),ke(d,(p,m)=>{h=h.concat(m)}),h}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(qs(u),ea(e,u))}}return s}var wg=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},Ig=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ce(this.path_,t);return new e(this.syncTree_,n)}node(){return Wg(this.syncTree_,this.path_)}},kj=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},WE=function(e,t,n){if(!e||typeof e!="object")return e;if(y(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Fj(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Lj(e[".sv"],t);y(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Fj=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:y(!1,"Unexpected server value: "+e)}},Lj=function(e,t,n){e.hasOwnProperty("increment")||y(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&y(!1,"Unexpected increment value: "+r);let i=t.node();if(y(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},BD=function(e,t,n,r){return Yg(t,new Ig(n,e),r)},$D=function(e,t,n){return Yg(e,new wg(t),n)};function Yg(e,t,n){let r=e.getPriority().val(),i=WE(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=WE(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new io(a,ye(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new io(i))),s.forEachChild(le,(a,c)=>{let l=Yg(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var ta=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Kg(e,t){let n=t instanceof J?t:new J(t),r=e,i=U(n);for(;i!==null;){let o=Ar(r.node.children,i)||{children:{},childCount:0};r=new ta(i,r,o),n=re(n),i=U(n)}return r}function po(e){return e.node.value}function HD(e,t){e.node.value=t,bg(e)}function WD(e){return e.node.childCount>0}function Vj(e){return po(e)===void 0&&!WD(e)}function Nu(e,t){ke(e.node.children,(n,r)=>{t(new ta(n,e,r))})}function zD(e,t,n,r){n&&!r&&t(e),Nu(e,i=>{zD(i,t,!0,r)}),n&&r&&t(e)}function jj(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function aa(e){return new J(e.parent===null?e.name:aa(e.parent)+"/"+e.name)}function bg(e){e.parent!==null&&Uj(e.parent,e.name,e)}function Uj(e,t,n){let r=Vj(n),i=Ot(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,bg(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,bg(e))}var Bj=/[\[\].#$\/\u0000-\u001F\u007F]/,$j=/[\[\].#$\u0000-\u001F\u007F]/,Om=10*1024*1024,Qg=function(e){return typeof e=="string"&&e.length!==0&&!Bj.test(e)},GD=function(e){return typeof e=="string"&&e.length!==0&&!$j.test(e)},Hj=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),GD(e)},Wj=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Rg(e)||e&&typeof e=="object"&&Ot(e,".sv")},qD=function(e,t,n,r){r&&t===void 0||Ru(Cs(e,"value"),t,n)},Ru=function(e,t,n){let r=n instanceof J?new qm(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Ur(r));if(typeof t=="function")throw new Error(e+"contains a function "+Ur(r)+" with contents = "+t.toString());if(Rg(t))throw new Error(e+"contains "+t.toString()+" "+Ur(r));if(typeof t=="string"&&t.length>Om/3&&Es(t)>Om)throw new Error(e+"contains a string greater than "+Om+" utf8 bytes "+Ur(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(ke(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Qg(s)))throw new Error(e+" contains an invalid key ("+s+") "+Ur(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);bV(r,s),Ru(e,a,r),CV(r)}),i&&o)throw new Error(e+' contains ".value" child '+Ur(r)+" in addition to actual children.")}},zj=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];let o=Ys(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Qg(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(IV);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&bt(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Gj=function(e,t,n,r){if(r&&t===void 0)return;let i=Cs(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");let o=[];ke(t,(s,a)=>{let c=new J(s);if(Ru(i,a,ce(n,c)),Pg(c)===".priority"&&!Wj(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(c)}),zj(i,o)};var YD=function(e,t,n,r){if(!(r&&n===void 0)&&!GD(n))throw new Error(Cs(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},qj=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),YD(e,t,n,r)},KD=function(e,t){if(U(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},Yj=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Qg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Hj(n))throw new Error(Cs(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Cg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function xu(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!kg(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function QD(e,t,n){xu(e,n),ZD(e,r=>kg(r,t))}function Et(e,t,n){xu(e,n),ZD(e,r=>bt(r,t)||bt(t,r))}function ZD(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(Kj(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Kj(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();$r&&Pe("event: "+n.toString()),ho(r)}}}var Qj="repo_interrupt",Zj=25,Eg=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Cg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=du(),this.transactionQueueTree_=new ta,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Jj(e,t,n){if(e.stats_=Og(e.repoInfo_),e.forceRestClient_||QL())e.server_=new ig(e.repoInfo_,(r,i,o,s)=>{zE(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>GE(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Fg(e.repoInfo_,t,(r,i,o,s)=>{zE(e,r,i,o,s)},r=>{GE(e,r)},r=>{Xj(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=JL(e.repoInfo_,()=>new cg(e.stats_,e.server_)),e.infoData_=new og,e.infoSyncTree_=new wu({startListening:(r,i,o,s)=>{let a=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=sa(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Zg(e,"connected",!1),e.serverSyncTree_=new wu({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Et(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function JD(e){let n=e.infoData_.getNode(new J(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ou(e){return kj({timestamp:JD(e)})}function zE(e,t,n,r,i){e.dataUpdateCount++;let o=new J(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let c=bs(n,l=>ye(l));s=Aj(e.serverSyncTree_,o,c,i)}else{let c=ye(n);s=LD(e.serverSyncTree_,o,c,i)}else if(r){let c=bs(n,l=>ye(l));s=Tj(e.serverSyncTree_,o,c)}else{let c=ye(n);s=sa(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=lo(e,o)),Et(e.eventQueue_,a,s)}function GE(e,t){Zg(e,"connected",t),t===!1&&rU(e)}function Xj(e,t){ke(t,(n,r)=>{Zg(e,n,r)})}function Zg(e,t,n){let r=new J("/.info/"+t),i=ye(n);e.infoData_.updateSnapshot(r,i);let o=sa(e.infoSyncTree_,r,i);Et(e.eventQueue_,r,o)}function Jg(e){return e.nextWriteId_++}function eU(e,t,n){let r=Nj(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=ye(i).withIndex(t._queryParams.getIndex());vg(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=sa(e.serverSyncTree_,t._path,o);else{let a=ea(e.serverSyncTree_,t);s=LD(e.serverSyncTree_,t._path,o,a)}return Et(e.eventQueue_,t._path,s),Iu(e.serverSyncTree_,t,n,null,!0),o},i=>(ca(e,"get for query "+me(t)+" failed: "+i),Promise.reject(new Error(i))))}function tU(e,t,n,r,i){ca(e,"set",{path:t.toString(),value:n,priority:r});let o=Ou(e),s=ye(n,r),a=Wg(e.serverSyncTree_,t),c=$D(s,a,o),l=Jg(e),u=FD(e.serverSyncTree_,t,c,l,!0);xu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,p)=>{let m=h==="ok";m||Ge("set at "+t+" failed: "+h);let g=Gn(e.serverSyncTree_,l,!m);Et(e.eventQueue_,t,g),Dg(e,i,h,p)});let d=e_(e,t);lo(e,d),Et(e.eventQueue_,d,[])}function nU(e,t,n,r){ca(e,"update",{path:t.toString(),value:n});let i=!0,o=Ou(e),s={};if(ke(n,(a,c)=>{i=!1,s[a]=BD(ce(t,a),ye(c),e.serverSyncTree_,o)}),i)Pe("update() called with empty data.  Don't do anything."),Dg(e,r,"ok",void 0);else{let a=Jg(e),c=Dj(e.serverSyncTree_,t,s,a);xu(e.eventQueue_,c),e.server_.merge(t.toString(),n,(l,u)=>{let d=l==="ok";d||Ge("update at "+t+" failed: "+l);let h=Gn(e.serverSyncTree_,a,!d),p=h.length>0?lo(e,t):t;Et(e.eventQueue_,p,h),Dg(e,r,l,u)}),ke(n,l=>{let u=e_(e,ce(t,l));lo(e,u)}),Et(e.eventQueue_,t,[])}}function rU(e){ca(e,"onDisconnectEvents");let t=Ou(e),n=du();sg(e.onDisconnect_,K(),(i,o)=>{let s=BD(i,o,e.serverSyncTree_,t);bD(n,i,s)});let r=[];sg(n,K(),(i,o)=>{r=r.concat(sa(e.serverSyncTree_,i,o));let s=e_(e,i);lo(e,s)}),e.onDisconnect_=du(),Et(e.eventQueue_,K(),r)}function iU(e,t,n){let r;U(t._path)===".info"?r=vg(e.infoSyncTree_,t,n):r=vg(e.serverSyncTree_,t,n),QD(e.eventQueue_,t._path,r)}function qE(e,t,n){let r;U(t._path)===".info"?r=Iu(e.infoSyncTree_,t,n):r=Iu(e.serverSyncTree_,t,n),QD(e.eventQueue_,t._path,r)}function oU(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Qj)}function ca(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Pe(n,...t)}function Dg(e,t,n,r){t&&ho(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function XD(e,t,n){return Wg(e.serverSyncTree_,t,n)||F.EMPTY_NODE}function Xg(e,t=e.transactionQueueTree_){if(t||Pu(e,t),po(t)){let n=t0(e,t);y(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&sU(e,aa(t),n)}else WD(t)&&Nu(t,n=>{Xg(e,n)})}function sU(e,t,n){let r=n.map(l=>l.currentWriteId),i=XD(e,t,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];y(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=ze(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{ca(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Gn(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Pu(e,Kg(e.transactionQueueTree_,t)),Xg(e,e.transactionQueueTree_),Et(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)ho(d[h])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ge("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}lo(e,t)}},s)}function lo(e,t){let n=e0(e,t),r=aa(n),i=t0(e,n);return aU(e,i,r),r}function aU(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=ze(n,c.path),u=!1,d;if(y(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Gn(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=Zj)u=!0,d="maxretry",i=i.concat(Gn(e.serverSyncTree_,c.currentWriteId,!0));else{let h=XD(e,c.path,s);c.currentInputSnapshot=h;let p=t[a].update(h.val());if(p!==void 0){Ru("transaction failed: Data returned ",p,c.path);let m=ye(p);typeof p=="object"&&p!=null&&Ot(p,".priority")||(m=m.updatePriority(h.getPriority()));let w=c.currentWriteId,D=Ou(e),ie=$D(m,h,D);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=ie,c.currentWriteId=Jg(e),s.splice(s.indexOf(w),1),i=i.concat(FD(e.serverSyncTree_,c.path,ie,c.currentWriteId,c.applyLocally)),i=i.concat(Gn(e.serverSyncTree_,w,!0))}else u=!0,d="nodata",i=i.concat(Gn(e.serverSyncTree_,c.currentWriteId,!0))}Et(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Pu(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ho(r[a]);Xg(e,e.transactionQueueTree_)}function e0(e,t){let n,r=e.transactionQueueTree_;for(n=U(t);n!==null&&po(r)===void 0;)r=Kg(r,n),t=re(t),n=U(t);return r}function t0(e,t){let n=[];return n0(e,t,n),n.sort((r,i)=>r.order-i.order),n}function n0(e,t,n){let r=po(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Nu(t,i=>{n0(e,i,n)})}function Pu(e,t){let n=po(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,HD(t,n.length>0?n:void 0)}Nu(t,r=>{Pu(e,r)})}function e_(e,t){let n=aa(e0(e,t)),r=Kg(e.transactionQueueTree_,t);return jj(r,i=>{Pm(e,i)}),Pm(e,r),zD(r,i=>{Pm(e,i)}),n}function Pm(e,t){let n=po(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(y(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(y(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Gn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?HD(t,void 0):n.length=o+1,Et(e.eventQueue_,aa(t),i);for(let s=0;s<r.length;s++)ho(r[s])}}function cU(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function lU(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ge(`Invalid query segment '${n}' in query '${e}'`)}return t}var YE=function(e,t){let n=uU(e),r=n.namespace;n.domain==="firebase.com"&&_n(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||BL();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ru(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new J(n.pathString)}},uU=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=cU(e.substring(u,d)));let h=lU(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let p=t.slice(0,l);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{let m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var KE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dU=function(){let e=0,t=[];return function(n){let r=n===e;e=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=KE.charAt(n%64),n=Math.floor(n/64);y(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=KE.charAt(t[i]);return y(s.length===20,"nextPushId: Length should be 20."),s}}();var bu=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+me(this.snapshot.exportVal())}},Cu=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Eu=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var Tg=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:Pg(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){let t=PE(this._queryParams),n=xg(t);return n==="{}"?"default":n}get _queryObject(){return PE(this._queryParams)}isEqual(t){if(t=_e(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=kg(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+wV(this._path)}};var nn=class e extends Tg{constructor(t,n){super(t,n,new rg,!1)}get parent(){let t=mD(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},na=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new J(t),r=uo(this.ref,t);return new e(this._node.getChild(n),r,le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,uo(this.ref,r),le)))}hasChild(t){let n=new J(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function mo(e,t){return e=_e(e),e._checkNotDeleted("ref"),t!==void 0?uo(e._root,t):e._root}function uo(e,t){return e=_e(e),U(e._path)===null?qj("child","path",t,!1):YD("child","path",t,!1),new nn(e._repo,ce(e._path,t))}function r0(e,t){e=_e(e),KD("push",e._path),qD("push",t,e._path,!0);let n=JD(e._repo),r=dU(n),i=uo(e,r),o=uo(e,r),s;return t!=null?s=t_(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function t_(e,t){e=_e(e),KD("set",e._path),qD("set",t,e._path,!1);let n=new fn;return tU(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function i0(e,t){Gj("update",t,e._path,!1);let n=new fn;return nU(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function o0(e){e=_e(e);let t=new Eu(()=>{}),n=new Du(t);return eU(e._repo,e,n).then(r=>new na(r,new nn(e._repo,e._path),e._queryParams.getIndex()))}var Du=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new bu("value",this,new na(t.snapshotNode,new nn(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Cu(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Sg=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Cu(this,t,n):null}createEvent(t,n){y(t.childName!=null,"Child events should have a childName.");let r=uo(new nn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new bu(t.type,this,new na(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function hU(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{qE(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Eu(n,o||void 0),a=t==="value"?new Du(s):new Sg(t,s);return iU(e._repo,e,a),()=>qE(e._repo,e,a)}function s0(e,t,n,r){return hU(e,"value",t,n,r)}_j(nn);bj(nn);var fU="FIREBASE_DATABASE_EMULATOR_HOST",Mg={},pU=!1;function mU(e,t,n,r){let i=t.lastIndexOf(":"),o=t.substring(0,i),s=Vn(o);e.repoInfo_=new ru(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function gU(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||_n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=YE(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[fU]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=YE(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Ws(Ws.OWNER):new Um(e.name,e.options,t);Yj("Invalid Firebase Database URL",s),H(s.path)||_n("Database URL must point to the root of a Firebase Database (not including a child path).");let d=yU(a,e,u,new jm(e,n));return new Ag(d,e)}function _U(e,t){let n=Mg[t];(!n||n[e.key]!==e)&&_n(`Database ${t}(${e.repoInfo_}) has already been deleted.`),oU(e),delete n[e.key]}function yU(e,t,n,r){let i=Mg[t.name];i||(i={},Mg[t.name]=i);let o=i[e.toURLString()];return o&&_n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Eg(e,pU,n,r),i[e.toURLString()]=o,o}var Ag=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Jj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(_U(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&_n("Cannot call "+t+" on a deleted database.")}};function la(e=xr(),t){let n=Pt(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=_b("database");r&&vU(n,...r)}return n}function vU(e,t,n,r={}){e=_e(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&It(r,o.repoInfo_.emulatorOptions))return;_n("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&_n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ws(Ws.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:yb(r.mockUserToken,e.app.options.projectId);s=new Ws(a)}Vn(t)&&(Il(t),bl("Database",!0)),mU(o,i,r,s)}function wU(e){VL(Un),Je(new Te("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return gU(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Oe(_E,yE,e),Oe(_E,yE,"esm2020")}Fg.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Fg.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};wU();var ua=class e{static{this.apps=new Map}static getData(t,n,r){return f(this,null,function*(){try{let i=r?la(t,r):la(t);return yield e.getDbData(i,n)}catch(i){return console.error("Errore nel recupero dei dati Firebase:",i),null}})}static getDbData(t,n){return f(this,null,function*(){let r=mo(t,n);return new Promise((o,s)=>{s0(r,a=>{let c=a.val();o(c)},a=>{s(a)})})})}static writeUserData(t,n,r){return f(this,null,function*(){let i=la(n);yield t_(mo(i,r),t)})}static pushToChild(t,n,r,i="RANDOM"){return f(this,null,function*(){try{let o=Ss(n),s=la(o),a=null;if(i==="RANDOM")a=r0(mo(s,r)).key;else if(i==="NUMBER"){let l=yield o0(mo(s,r)),u=l.exists()?l.val():{},d=Object.keys(u).length+1;a=String(d)}if(!a)throw new Error("Impossibile generare una nuova chiave.");let c={[`${r}/${a}`]:t};yield i0(mo(s),c),console.log(`Elemento aggiunto a "${r}" con chiave "${a}"`)}catch(o){throw console.error(`Errore in pushToChild(${r}):`,o),o}})}};var a0=(()=>{class e{constructor(n){this.http=n}getFile(n){return f(this,null,function*(){return yield this.http.get(n).toPromise()})}static{this.\u0275fac=function(r){return new(r||e)(C(Ko))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var go=(()=>{class e{constructor(n,r){this.common_service=n,this.assets_service=r}startFbApi(n){try{return this.common_service.fbApp=Ss(n),this.common_service.fbApiAnalytics=gC(this.common_service.fbApp),console.log("API Firebase inizializzata con successo."),!0}catch(r){return console.error("Errore nell'inizializzazione dell'API Firebase:",r),!1}}tryLogin(n){return f(this,null,function*(){try{let r=Sm(this.common_service.fbApp);return yield Dm(r,n.username,n.password)}catch(r){console.error("Errore durante il tentativo di login:",r);return}})}getFirebaseConfig(n){return f(this,null,function*(){try{let r=yield this.assets_service.getFile("assets/firebase/fb-proj-configs.json");if(!r){console.error("Impossibile caricare la configurazione Firebase.");return}let i=r.users[n];if(!i){console.error(`Configurazione Firebase non trovata per l'utente: ${n}`);return}return this.common_service.fbUserConfig=i,i}catch(r){console.error("Errore nel recupero della configurazione Firebase:",r);return}})}getUserAllowedProducts(n){return f(this,null,function*(){try{if(console.log(`Recupero prodotti per l'utente: ${n}`),!n)return console.error("Nessun nome utente fornito per il recupero dei prodotti."),null;if(this.common_service.fbApp==null)return console.error("API Firebase non inizializzata."),null;let r=yield ua.getData(this.common_service.fbApp,`users/${n}/allowedProds`,this.common_service.appConfig.firebase.dbUrl||"");return console.info(`Prodotti recuperati per l'utente ${n}:`,r),r}catch(r){return console.error(`Errore nel recupero dei prodotti per l'utente ${n}:`,r),null}})}getUserProducts(n,r){return f(this,null,function*(){try{if(console.info("Recupero prodotti utente..."),!this.common_service.fbApp){console.error("API Firebase non inizializzata.");return}let i={},o=this.common_service.appConfig.firebase.dbUrl||"";for(let s of r){if(!this.common_service.fbApp){console.error("API Firebase non inizializzata.");return}let a=yield ua.getData(this.common_service.fbApp,`sharedLogin/products/${s}`,this.common_service.appConfig.firebase.dbUrl||"");i[s]=a}return console.info(`Prodotti recuperati per l'utente ${n}:`,i),i}catch(i){return console.error("Errore nel recupero dei prodotti dell'utente:",i),[]}})}static{this.\u0275fac=function(r){return new(r||e)(C(Ze),C(a0))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function bU(e,t){if(e&1){let n=xn();Yh(0),I(1,"button",11),oe("click",function(){let i=Ce(n).$implicit,o=zt();return Ee(o.toggleTag(i))}),x(2),b(),Kh()}if(e&2){let n=t.$implicit,r=zt();Y(),un("selected",r.selectedTags.includes(n)),Y(),_r(" ",n," ")}}function CU(e,t){if(e&1&&(I(0,"span",16),x(1),b()),e&2){let n=t.$implicit;Y(),gr(n)}}function EU(e,t){if(e&1){let n=xn();I(0,"mat-card",12),oe("click",function(){let i=Ce(n).$implicit,o=zt();return Ee(o.openProductLink(i.link))}),Wt(1,"img",13),I(2,"mat-card-content")(3,"h3"),x(4),b(),I(5,"p"),x(6),b(),I(7,"div",14),He(8,CU,2,1,"span",15),b()()()}if(e&2){let n=t.$implicit;Y(),fe("src",n.image,Hv)("alt",n.name),Y(3),gr(n.name),Y(2),gr(n.description),Y(2),fe("ngForOf",n.tags)}}var c0=(()=>{class e{constructor(n,r,i,o){this.common=n,this.router=r,this.fb_service=i,this.cdRef=o,this.products=[],this.allTags=[],this.selectedTags=[],this.filteredProducts=[]}ngOnInit(){return f(this,null,function*(){let n=yield this.fb_service.getUserAllowedProducts(this.common.lastLoggedUser.uId);console.log("Allowed prods:",n);let r=n?Object.keys(n):[],i=yield this.fb_service.getUserProducts(this.common.lastLoggedUser.uId,r);this.products=Object.values(i||{}),this.updateTags(),this.filterProducts(),this.cdRef.detectChanges(),console.log("Prodotti utente:",this.products)})}updateTags(){let n=new Set;this.products.forEach(r=>r.tags?.forEach(i=>n.add(i))),this.allTags=Array.from(n)}toggleTag(n){this.selectedTags.includes(n)?this.selectedTags=this.selectedTags.filter(r=>r!==n):this.selectedTags.push(n),this.filterProducts()}filterProducts(){this.selectedTags.length===0?this.filteredProducts=[...this.products]:this.filteredProducts=this.products.filter(n=>n.tags?.some(r=>this.selectedTags.includes(r)))}openProductLink(n){window.open(n,"_blank")}addProduct(){this.router.navigate(["/products/add"])}static{this.\u0275fac=function(r){return new(r||e)(M(Ze),M(Ln),M(go),M(Gt))}}static{this.\u0275cmp=Ne({type:e,selectors:[["app-products"]],standalone:!0,features:[Re],decls:16,vars:2,consts:[[1,"products-container"],[1,"products-title"],[1,"tag-filter"],[1,"filter-label"],[4,"ngFor","ngForOf"],[1,"products-grid"],[1,"product-card","add-card",3,"click"],[2,"display","flex","flex-direction","column","align-items","center","justify-content","center","height","100%","min-height","180px"],[2,"font-size","3rem","color","var(--primary)"],[2,"text-align","center","color","var(--primary-dark)"],["class","product-card",3,"click",4,"ngFor","ngForOf"],["type","button",1,"tag-chip",3,"click"],[1,"product-card",3,"click"],["mat-card-image","",3,"src","alt"],[1,"product-tags"],["class","tag-chip",4,"ngFor","ngForOf"],[1,"tag-chip"]],template:function(r,i){r&1&&(I(0,"div",0)(1,"h2",1),x(2,"Prodotti disponibili"),b(),I(3,"div",2)(4,"span",3),x(5,"Filtra per tag:"),b(),He(6,bU,3,3,"ng-container",4),b(),I(7,"div",5)(8,"mat-card",6),oe("click",function(){return i.addProduct()}),I(9,"div",7)(10,"span",8),x(11,"+"),b(),I(12,"mat-card-content")(13,"h3",9),x(14,"Aggiungi nuovo prodotto"),b()()()(),He(15,EU,9,5,"mat-card",10),b()()),r&2&&(Y(6),fe("ngForOf",i.allTags),Y(9),fe("ngForOf",i.filteredProducts))},dependencies:[at,Gc,ub,ab,cb,lb],styles:[".products-container[_ngcontent-%COMP%]{margin:2rem auto;max-width:900px;padding:1rem}.products-container[_ngcontent-%COMP%]   .tag-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.7rem;margin-bottom:1.5rem;flex-wrap:wrap}.products-container[_ngcontent-%COMP%]   .tag-filter[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-weight:500;color:var(--primary-dark);margin-right:.5rem}.products-container[_ngcontent-%COMP%]   .tag-filter[_ngcontent-%COMP%]   .tag-chip[_ngcontent-%COMP%]{background:#e0e7ef;border:none;border-radius:12px;padding:.3rem 1rem;color:var(--primary-dark);font-size:1rem;cursor:pointer;transition:background .2s,color .2s;margin-bottom:.3rem}.products-container[_ngcontent-%COMP%]   .tag-filter[_ngcontent-%COMP%]   .tag-chip.selected[_ngcontent-%COMP%]{background:var(--primary);color:#fff}.products-container[_ngcontent-%COMP%]   .products-title[_ngcontent-%COMP%]{color:var(--primary);text-align:center;margin-bottom:2rem}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:2rem}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:pointer;border-radius:16px;box-shadow:0 8px 32px #2193b026;overflow:hidden;transition:box-shadow .2s}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]:hover{box-shadow:0 12px 40px #2193b040}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:180px;object-fit:cover;border-top-left-radius:16px;border-top-right-radius:16px}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1rem 0 .5rem;color:var(--primary-dark);font-size:1.2rem}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .product-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:.5rem}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   .tag-chip[_ngcontent-%COMP%]{background:#e0e7ef;border:none;border-radius:12px;padding:.3rem 1rem;color:var(--primary-dark);font-size:.95rem;cursor:pointer;margin-bottom:.3rem}.products-container[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#333;font-size:1rem;margin-bottom:1rem}"]})}}return e})();var _0=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(M(Ai),M(_t))}}static{this.\u0275dir=ae({type:e})}}return e})(),DU=(()=>{class e extends _0{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(e)))(i||e)}})()}static{this.\u0275dir=ae({type:e,features:[ln]})}}return e})(),y0=new T("");var TU={provide:y0,useExisting:fr(()=>Zn),multi:!0};function SU(){let e=hn()?hn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var MU=new T(""),Zn=(()=>{class e extends _0{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!SU())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(M(Ai),M(_t),M(MU,8))}}static{this.\u0275dir=ae({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&oe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[yr([TU]),ln]})}}return e})();function AU(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var i_=new T(""),v0=new T("");function NU(e){return AU(e.value)?{required:!0}:null}function l0(e){return null}function w0(e){return e!=null}function I0(e){return vr(e)?se(e):e}function b0(e){let t={};return e.forEach(n=>{t=n!=null?_(_({},t),n):t}),Object.keys(t).length===0?null:t}function C0(e,t){return t.map(n=>n(e))}function RU(e){return!e.validate}function E0(e){return e.map(t=>RU(t)?t:n=>t.validate(n))}function xU(e){if(!e)return null;let t=e.filter(w0);return t.length==0?null:function(n){return b0(C0(n,t))}}function o_(e){return e!=null?xU(E0(e)):null}function OU(e){if(!e)return null;let t=e.filter(w0);return t.length==0?null:function(n){let r=C0(n,t).map(I0);return cd(r).pipe(O(b0))}}function s_(e){return e!=null?OU(E0(e)):null}function u0(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function PU(e){return e._rawValidators}function kU(e){return e._rawAsyncValidators}function r_(e){return e?Array.isArray(e)?e:[e]:[]}function Fu(e,t){return Array.isArray(e)?e.includes(t):e===t}function d0(e,t){let n=r_(t);return r_(e).forEach(i=>{Fu(n,i)||n.push(i)}),n}function h0(e,t){return r_(t).filter(n=>!Fu(e,n))}var Lu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=o_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=s_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},yo=class extends Lu{get formDirective(){return null}get path(){return null}},pa=class extends Lu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Vu=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},FU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},b5=k(_({},FU),{"[class.ng-submitted]":"isSubmitted"}),vo=(()=>{class e extends Vu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(M(pa,2))}}static{this.\u0275dir=ae({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ln]})}}return e})(),wo=(()=>{class e extends Vu{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(M(yo,10))}}static{this.\u0275dir=ae({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ln]})}}return e})();var da="VALID",ku="INVALID",_o="PENDING",ha="DISABLED";function D0(e){return(Bu(e)?e.validators:e)||null}function LU(e){return Array.isArray(e)?o_(e):e||null}function T0(e,t){return(Bu(t)?t.asyncValidators:e)||null}function VU(e){return Array.isArray(e)?s_(e):e||null}function Bu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function jU(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function UU(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new S(1002,"")})}var ju=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===da}get invalid(){return this.status===ku}get pending(){return this.status==_o}get disabled(){return this.status===ha}get enabled(){return this.status!==ha}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(d0(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(d0(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(h0(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(h0(t,this._rawAsyncValidators))}hasValidator(t){return Fu(this._rawValidators,t)}hasAsyncValidator(t){return Fu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=_o,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ha,this.errors=null,this._forEachChild(r=>{r.disable(k(_({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(_({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=da,this._forEachChild(r=>{r.enable(k(_({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(k(_({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===da||this.status===_o)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ha:da}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=_o,this._hasOwnPendingAsyncValidator=!0;let n=I0(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?ha:this.errors?ku:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_o)?_o:this._anyControlsHaveStatus(ku)?ku:da}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Bu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=LU(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=VU(this._rawAsyncValidators)}},Uu=class extends ju{constructor(t,n,r){super(D0(n),T0(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){UU(this,!0,t),Object.keys(t).forEach(r=>{jU(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var a_=new T("CallSetDisabledState",{providedIn:"root",factory:()=>c_}),c_="always";function BU(e,t){return[...t.path,e]}function S0(e,t,n=c_){M0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),HU(e,t),zU(e,t),WU(e,t),$U(e,t)}function f0(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function $U(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function M0(e,t){let n=PU(e);t.validator!==null?e.setValidators(u0(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=kU(e);t.asyncValidator!==null?e.setAsyncValidators(u0(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();f0(t._rawValidators,i),f0(t._rawAsyncValidators,i)}function HU(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&A0(e,t)})}function WU(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&A0(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function A0(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function zU(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function GU(e,t){e==null,M0(e,t)}function qU(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function YU(e){return Object.getPrototypeOf(e.constructor)===DU}function KU(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function QU(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Zn?n=o:YU(o)?r=o:i=o}),i||r||n||null}var ZU={provide:yo,useExisting:fr(()=>qr)},fa=Promise.resolve(),qr=(()=>{class e extends yo{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new we,this.form=new Uu({},o_(n),s_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){fa.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),S0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){fa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){fa.then(()=>{let r=this._findContainer(n.path),i=new Uu({});GU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){fa.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){fa.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,KU(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||e)(M(i_,10),M(v0,10),M(a_,8))}}static{this.\u0275dir=ae({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&oe("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[$e.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yr([ZU]),ln]})}}return e})();function p0(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function m0(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var JU=class extends ju{constructor(t=null,n,r){super(D0(n),T0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(m0(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){p0(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){p0(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){m0(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var XU={provide:pa,useExisting:fr(()=>Yr)},g0=Promise.resolve(),Yr=(()=>{class e extends pa{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new JU,this._registered=!1,this.name="",this.update=new we,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=QU(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),qU(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){S0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){g0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&wr(r);g0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?BU(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(M(yo,9),M(i_,10),M(v0,10),M(y0,10),M(Gt,8),M(a_,8))}}static{this.\u0275dir=ae({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[$e.None,"disabled","isDisabled"],model:[$e.None,"ngModel","model"],options:[$e.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[yr([XU]),ln,Nn]})}}return e})(),Io=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ae({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();var e2=(()=>{class e{constructor(){this._validator=l0}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):l0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=ae({type:e,features:[Nn]})}}return e})();var t2={provide:i_,useExisting:fr(()=>Kr),multi:!0};var Kr=(()=>{class e extends e2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=wr,this.createValidator=n=>NU}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Di(e)))(i||e)}})()}static{this.\u0275dir=ae({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ri("required",i._enabled?"":null)},inputs:{required:"required"},features:[yr([t2]),ln]})}}return e})();var n2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=be({type:e})}static{this.\u0275inj=Ie({})}}return e})();var Jn=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:a_,useValue:n.callSetDisabledState??c_}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=be({type:e})}static{this.\u0275inj=Ie({imports:[n2]})}}return e})();function r2(e,t){e&1&&(I(0,"span",19),x(1,"\u{1F441}\uFE0F"),b())}function i2(e,t){e&1&&(I(0,"span",20),x(1,"\u{1F648}"),b())}function o2(e,t){if(e&1&&(I(0,"div",21),x(1),b()),e&2){let n=zt();Y(),gr(n.error)}}var N0=(()=>{class e{constructor(n,r,i){this.router=n,this.common=r,this.fb_service=i,this.user={username:"",email:"",password:"",uId:""},this.error="",this.showPassword=!1}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){return f(this,null,function*(){if(!this.user.username||!this.user.password){this.error="Inserisci nome utente e password.";return}this.common.lastLoggedUser=this.user,this.error="";let n=yield this.fb_service.tryLogin(this.user);if(this.common.setLoggedUser(n??void 0),console.info("Credenziali Firebase:",n),!n){this.error="Credenziali non valide. Riprova.";return}this.common.lastLoggedUser.uId=n.user.uid,this.common.lastLoggedUser.username=this.user.username,this.common.lastLoggedUser.email=n.user.email||"",this.router.navigate(["/products"])})}forgotPassword(){this.router.navigate(["/forgot"])}register(){this.router.navigate(["/register"])}static{this.\u0275fac=function(r){return new(r||e)(M(Ln),M(Ze),M(go))}}static{this.\u0275cmp=Ne({type:e,selectors:[["app-login"]],standalone:!0,features:[Re],decls:26,vars:6,consts:[["loginForm","ngForm"],[1,"container"],[1,"login-card"],[3,"ngSubmit"],[1,"input-group"],["for","username"],["type","text","id","username","name","username","placeholder","Inserisci il nome utente","required","",3,"ngModelChange","ngModel"],[1,"input-group",2,"position","relative"],["for","password"],["id","password","name","password","placeholder","Inserisci la password","required","",2,"padding-right","2.5rem",3,"ngModelChange","type","ngModel"],["type","button",1,"hide",3,"click"],["aria-label","Mostra password","title","Mostra password",4,"ngIf"],["aria-label","Nascondi password","title","Nascondi password",4,"ngIf"],["type","submit"],["class","error-message",4,"ngIf"],[1,"forgot-password"],[3,"click"],[1,"register-user"],["type","button",3,"click"],["aria-label","Mostra password","title","Mostra password"],["aria-label","Nascondi password","title","Nascondi password"],[1,"error-message"]],template:function(r,i){if(r&1){let o=xn();I(0,"div",1)(1,"div",2)(2,"h2"),x(3,"Accedi"),b(),I(4,"form",3,0),oe("ngSubmit",function(){return Ce(o),Ee(i.onSubmit())}),I(6,"div",4)(7,"label",5),x(8,"Nome utente"),b(),I(9,"input",6),st("ngModelChange",function(a){return Ce(o),yt(i.user.username,a)||(i.user.username=a),Ee(a)}),b()(),I(10,"div",7)(11,"label",8),x(12,"Password"),b(),I(13,"input",9),st("ngModelChange",function(a){return Ce(o),yt(i.user.password,a)||(i.user.password=a),Ee(a)}),b(),I(14,"button",10),oe("click",function(){return Ce(o),Ee(i.togglePasswordVisibility())}),He(15,r2,2,0,"span",11)(16,i2,2,0,"span",12),b()(),I(17,"button",13),x(18,"Login"),b(),He(19,o2,2,1,"div",14),b(),I(20,"div",15)(21,"span",16),oe("click",function(){return Ce(o),Ee(i.forgotPassword())}),x(22,"Hai dimenticato la password?"),b()(),I(23,"div",17)(24,"button",18),oe("click",function(){return Ce(o),Ee(i.register())}),x(25,"Registrati"),b()()()()}r&2&&(Y(9),ot("ngModel",i.user.username),Y(4),fe("type",i.showPassword?"text":"password"),ot("ngModel",i.user.password),Y(2),fe("ngIf",!i.showPassword),Y(),fe("ngIf",i.showPassword),Y(3),fe("ngIf",i.error))},dependencies:[at,ki,Jn,Io,Zn,vo,wo,Kr,Yr,qr],styles:[".register-user[_ngcontent-%COMP%]{margin-top:1.2rem;text-align:center}.register-user[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:1rem;font-weight:500;padding:.6rem 1.5rem;cursor:pointer;transition:background .2s}.register-user[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.forgot-password[_ngcontent-%COMP%]{margin-top:1.2rem;text-align:center}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary);text-decoration:underline;font-size:.98rem;cursor:pointer;transition:color .2s}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-dark)}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,var(--gradient-light) 0%,var(--primary) 100%)}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem 2.5rem;border-radius:16px;box-shadow:0 8px 32px rgba(var(--primary-rgb),.15);display:flex;flex-direction:column;min-width:var(--main-min-width);align-items:center}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .forgot-password[_ngcontent-%COMP%]{color:#2193b0}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:var(--primary)}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2rem;display:flex;flex-direction:column}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:var(--text-main)}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:1px solid #b0c4de;border-radius:8px;font-size:1rem;outline:none;transition:border-color .2s}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{position:absolute;right:8px;top:38px;background:none;border:none;cursor:pointer;padding:0}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.8rem;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--error);margin-top:1rem;font-weight:500;text-align:center}"]})}}return e})();var R0=(()=>{class e{constructor(n){this.common=n}sendResetLink(){let n=document.getElementById("email").value;if(!n){alert("Inserisci un'email valida.");return}this.common.lastforgotPswRequest={email:n,username:"",password:"",uId:""},alert(`Link di reset inviato a ${n}`)}static{this.\u0275fac=function(r){return new(r||e)(M(Ze))}}static{this.\u0275cmp=Ne({type:e,selectors:[["app-forgot"]],standalone:!0,features:[Re],decls:13,vars:0,consts:[[1,"forgot-container"],[1,"forgot-card"],[1,"input-group"],["for","email"],["type","email","id","email","name","email","placeholder","Inserisci la tua email","required",""],["type","submit",3,"click"],[1,"info-message"]],template:function(r,i){r&1&&(I(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Recupera la password"),b(),I(4,"form")(5,"div",2)(6,"label",3),x(7,"Email"),b(),Wt(8,"input",4),b(),I(9,"button",5),oe("click",function(){return i.sendResetLink()}),x(10,"Invia richiesta"),b()(),I(11,"div",6),x(12,"Riceverai una mail con le istruzioni per il reset."),b()()())},styles:[".forgot-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,var(--gradient-light) 0%,var(--primary) 100%)}.forgot-card[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem 2.5rem;border-radius:16px;box-shadow:0 8px 32px rgba(var(--primary),.15);display:flex;flex-direction:column;min-width:var(--main-min-width);align-items:center}.forgot-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:var(--primary)}.forgot-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.forgot-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2rem;display:flex;flex-direction:column}.forgot-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:var(--text-main)}.forgot-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:1px solid #b0c4de;border-radius:8px;font-size:1rem;outline:none;transition:border-color .2s}.forgot-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.forgot-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.8rem;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s}.forgot-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.forgot-card[_ngcontent-%COMP%]   .info-message[_ngcontent-%COMP%]{color:var(--primary-dark);margin-top:1.2rem;font-size:.98rem;text-align:center}"]})}}return e})();var $u=class{constructor(){this.username="",this.email="",this.password="",this.uId=""}};function s2(e,t){e&1&&(I(0,"span",14),x(1,"\u{1F441}\uFE0F"),b())}function a2(e,t){e&1&&(I(0,"span",15),x(1,"\u{1F648}"),b())}var x0=(()=>{class e{constructor(n){this.common=n,this.showPassword=!1,this.user=new $u}togglePasswordVisibility(){this.showPassword=!this.showPassword}register(){return f(this,null,function*(){try{this.common.lastRegisteredUser=this.user,alert("Registrazione completata con successo!")}catch(n){console.error("Errore durante la registrazione:",n),alert("Si \xE8 verificato un errore durante la registrazione. Riprova pi\xF9 tardi.")}})}static{this.\u0275fac=function(r){return new(r||e)(M(Ze))}}static{this.\u0275cmp=Ne({type:e,selectors:[["app-register"]],standalone:!0,features:[Re],decls:22,vars:6,consts:[[1,"register-container"],[1,"register-card"],[1,"input-group"],["for","username"],["type","text","id","username","name","username","placeholder","Inserisci il nome utente","required","",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","placeholder","Inserisci la tua email","required","",3,"ngModelChange","ngModel"],[1,"input-group",2,"position","relative"],["for","password"],["id","password","name","password","placeholder","Crea una password","required","",2,"padding-right","2.5rem",3,"ngModelChange","type","ngModel"],["type","button",1,"hide",3,"click"],["aria-label","Mostra password","title","Mostra password",4,"ngIf"],["aria-label","Nascondi password","title","Nascondi password",4,"ngIf"],["type","submit",3,"click"],["aria-label","Mostra password","title","Mostra password"],["aria-label","Nascondi password","title","Nascondi password"]],template:function(r,i){r&1&&(I(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Crea un nuovo utente"),b(),I(4,"form")(5,"div",2)(6,"label",3),x(7,"Nome utente"),b(),I(8,"input",4),st("ngModelChange",function(s){return yt(i.user.username,s)||(i.user.username=s),s}),b()(),I(9,"div",2)(10,"label",5),x(11,"Email"),b(),I(12,"input",6),st("ngModelChange",function(s){return yt(i.user.email,s)||(i.user.email=s),s}),b()(),I(13,"div",7)(14,"label",8),x(15,"Password"),b(),I(16,"input",9),st("ngModelChange",function(s){return yt(i.user.password,s)||(i.user.password=s),s}),b(),I(17,"button",10),oe("click",function(){return i.togglePasswordVisibility()}),He(18,s2,2,0,"span",11)(19,a2,2,0,"span",12),b()(),I(20,"button",13),oe("click",function(){return i.register()}),x(21,"Registrati"),b()()()()),r&2&&(Y(8),ot("ngModel",i.user.username),Y(4),ot("ngModel",i.user.email),Y(4),fe("type",i.showPassword?"text":"password"),ot("ngModel",i.user.password),Y(2),fe("ngIf",!i.showPassword),Y(),fe("ngIf",i.showPassword))},dependencies:[at,ki,Jn,Io,Zn,vo,wo,Kr,Yr,qr],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,var(--gradient-light) 0%,var(--primary) 100%)}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem 2.5rem;border-radius:16px;box-shadow:0 8px 32px rgba(var(--primary-rgb),.15);display:flex;flex-direction:column;min-width:var(--main-min-width);align-items:center}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:var(--primary)}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2rem;display:flex;flex-direction:column}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:var(--text-main)}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:1px solid #b0c4de;border-radius:8px;font-size:1rem;outline:none;transition:border-color .2s}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{position:absolute;z-index:100;right:8px;top:38px;background:none;border:none;cursor:pointer;padding:0}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.8rem;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s}.register-container[_ngcontent-%COMP%]   .register-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:var(--primary-dark)}"]})}}return e})();var ma=class{constructor(){this.name="",this.description="",this.tags=[]}};function c2(e,t){if(e&1){let n=xn();I(0,"span",20),x(1),I(2,"button",21),oe("click",function(){let i=Ce(n).$implicit,o=zt(2);return Ee(o.removeTag(i))}),x(3," \xD7 "),b()()}if(e&2){let n=t.$implicit;Y(),_r(" ",n," ")}}function l2(e,t){if(e&1&&(I(0,"div",4)(1,"label"),x(2,"Tag selezionati"),b(),I(3,"div",18),He(4,c2,4,1,"span",19),b()()),e&2){let n=zt();Y(4),fe("ngForOf",n.selectedTags)}}function u2(e,t){e&1&&(I(0,"div",22),x(1," Prodotto aggiunto con successo! "),b())}var O0=(()=>{class e{constructor(){this.product=new ma,this.success=!1,this.selectedTags=["gioco","app"],this.customTag=""}toggleDefaultTag(n,r){r.target.checked?this.selectedTags.includes(n)||this.selectedTags.push(n):this.selectedTags=this.selectedTags.filter(i=>i!==n)}addCustomTag(){let n=this.customTag.trim();n&&!this.selectedTags.includes(n)&&(this.selectedTags.push(n),this.customTag="")}removeTag(n){this.selectedTags=this.selectedTags.filter(r=>r!==n)}onSubmit(){this.product.tags=[...this.selectedTags],this.success=!0,setTimeout(()=>this.success=!1,2e3),this.product=new ma,this.selectedTags=[]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=Ne({type:e,selectors:[["app-add-product"]],standalone:!0,features:[Re],decls:29,vars:6,consts:[["addProductForm","ngForm"],[1,"add-product-container"],[1,"add-product-card"],[3,"ngSubmit"],[1,"input-group"],["for","name"],["type","text","id","name","name","name","placeholder","Nome prodotto","required","",3,"ngModelChange","ngModel"],["for","description"],["type","text","id","description","name","description","placeholder","Descrizione","required","",3,"ngModelChange","ngModel"],["for","image"],["type","url","id","image","name","image","placeholder","URL immagine",3,"ngModelChange","ngModel"],["for","customTag"],[2,"display","flex","gap","0.5rem"],["type","text","id","customTag","name","customTag","placeholder","Scrivi un tag",3,"ngModelChange","ngModel"],["type","button",3,"click"],["class","input-group",4,"ngIf"],["type","submit"],["class","success-message",4,"ngIf"],[2,"display","flex","flex-wrap","wrap","gap","0.5rem"],["style",`
              background: #e0e7ef;
              border-radius: 12px;
              padding: 0.3rem 0.8rem;
              display: flex;
              align-items: center;
            `,4,"ngFor","ngForOf"],[2,"background","#e0e7ef","border-radius","12px","padding","0.3rem 0.8rem","display","flex","align-items","center"],["type","button",2,"margin-left","0.5rem","background","none","border","none","color","#c00","cursor","pointer","font-size","1rem",3,"click"],[1,"success-message"]],template:function(r,i){if(r&1){let o=xn();I(0,"div",1)(1,"div",2)(2,"h2"),x(3,"Aggiungi nuovo prodotto"),b(),I(4,"form",3,0),oe("ngSubmit",function(){return Ce(o),Ee(i.onSubmit())}),I(6,"div",4)(7,"label",5),x(8,"Nome prodotto"),b(),I(9,"input",6),st("ngModelChange",function(a){return Ce(o),yt(i.product.name,a)||(i.product.name=a),Ee(a)}),b()(),I(10,"div",4)(11,"label",7),x(12,"Descrizione"),b(),I(13,"input",8),st("ngModelChange",function(a){return Ce(o),yt(i.product.description,a)||(i.product.description=a),Ee(a)}),b()(),I(14,"div",4)(15,"label",9),x(16,"Immagine (URL)"),b(),I(17,"input",10),st("ngModelChange",function(a){return Ce(o),yt(i.product.image,a)||(i.product.image=a),Ee(a)}),b()(),I(18,"div",4)(19,"label",11),x(20,"Aggiungi tag"),b(),I(21,"div",12)(22,"input",13),st("ngModelChange",function(a){return Ce(o),yt(i.customTag,a)||(i.customTag=a),Ee(a)}),b(),I(23,"button",14),oe("click",function(){return Ce(o),Ee(i.addCustomTag())}),x(24,"Aggiungi"),b()()(),He(25,l2,5,1,"div",15),I(26,"button",16),x(27,"Aggiungi prodotto"),b()(),He(28,u2,2,0,"div",17),b()()}r&2&&(Y(9),ot("ngModel",i.product.name),Y(4),ot("ngModel",i.product.description),Y(4),ot("ngModel",i.product.image),Y(5),ot("ngModel",i.customTag),Y(3),fe("ngIf",i.selectedTags.length),Y(3),fe("ngIf",i.success))},dependencies:[at,Gc,ki,Jn,Io,Zn,vo,wo,Kr,Yr,qr],styles:[".add-product-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,var(--gradient-light) 0%,var(--primary) 100%)}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem 2.5rem;border-radius:16px;box-shadow:0 8px 32px rgba(var(--primary-rgb),.15);display:flex;flex-direction:column;min-width:var(--main-min-width);align-items:center}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:var(--primary)}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2rem;display:flex;flex-direction:column}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:var(--text-main)}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:1px solid #b0c4de;border-radius:8px;font-size:1rem;outline:none;transition:border-color .2s}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary)}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.8rem;background:var(--primary);color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:var(--primary-dark)}.add-product-container[_ngcontent-%COMP%]   .add-product-card[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{color:var(--primary-dark);margin-top:1.2rem;font-size:.98rem;text-align:center}"]})}}return e})();var u_=(e,t)=>{let n=v(Ze),r=v(Ln);return n.currentLoggedUser?!0:(r.navigate(["/"]),!1)};var P0=[{path:"",component:N0},{path:"forgot",component:R0},{path:"register",component:x0},{path:"products",component:c0,canActivate:[u_]},{path:"products/add",component:O0,canActivate:[u_]}];var k0={providers:[BI(P0,$I()),yh(el)]};var F0=(()=>{class e{constructor(n,r,i){this.common_service=n,this.fb_service=r,this.http_service=i,this.title="shared-login",this.username="",this.password="",this.error="",this.showPassword=!1}ngOnInit(){return f(this,null,function*(){let n=yield this.fb_service.getFirebaseConfig("ame.dev.apps");if(!n){console.error("Errore nel recupero della configurazione Firebase.");return}if(!this.fb_service.startFbApi(n)){console.error("Errore nell'inizializzazione dell'API Firebase.");return}let i=yield this.loadAppConfig();this.common_service.appConfig=i})}loadAppConfig(){return f(this,null,function*(){return yield sd(this.http_service.get("assets/config/default-config.json"))})}togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){if(!this.username||!this.password){this.error="Inserisci nome utente e password.";return}this.error="",alert(`Benvenuto, ${this.username}!`)}static{this.\u0275fac=function(r){return new(r||e)(M(Ze),M(go),M(Ko))}}static{this.\u0275cmp=Ne({type:e,selectors:[["app-root"]],standalone:!0,features:[Re],decls:1,vars:0,template:function(r,i){r&1&&Wt(0,"router-outlet")},dependencies:[Xf,at,Jn,el],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,#6dd5ed,#2193b0)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:2rem 2.5rem;border-radius:16px;box-shadow:0 8px 32px #2193b026;display:flex;flex-direction:column;min-width:var(--main-min-width);align-items:center}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#2193b0}.input-group[_ngcontent-%COMP%]{width:100%;margin-bottom:1.2rem;display:flex;flex-direction:column}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:#333}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.7rem;border:1px solid #b0c4de;border-radius:8px;font-size:1rem;outline:none;transition:border-color .2s}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#2193b0}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:.8rem;background:#2193b0;color:#fff;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:background .2s}button[type=submit][_ngcontent-%COMP%]:hover{background:#176b87}.error-message[_ngcontent-%COMP%]{color:#d32f2f;margin-top:1rem;font-weight:500;text-align:center}"]})}}return e})();sI(F0,k0).catch(e=>console.error(e));
